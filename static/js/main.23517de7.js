/*! For license information please see main.23517de7.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return D(e(t))}catch(ns){}}return null}var O=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function V(e){0>F||(e.current=M[F],M[F]=null,F--)}function z(e,t){F++,M[F]=e.current,e.current=t}var B=U(null),W=U(null),H=U(null),q=U(null);function K(e,t){switch(z(H,t),z(W,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ah(t=sh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),z(B,e)}function G(){V(B),V(W),V(H)}function Q(e){null!==e.memoizedState&&z(q,e);var t=B.current,n=ah(t,e.type);t!==n&&(z(W,e),z(B,n))}function Y(e){W.current===e&&(V(B),V(W)),q.current===e&&(V(q),Yh._currentValue=L)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=ve(r):0!==(a&=o)?i=ve(a):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~s)?i=ve(o):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ee(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:ud(e.type)}var Pe=Math.random().toString(36).slice(2),De="__reactFiber$"+Pe,Oe="__reactProps$"+Pe,Re="__reactContainer$"+Pe,je="__reactEvents$"+Pe,Le="__reactListeners$"+Pe,Me="__reactHandles$"+Pe,Fe="__reactResources$"+Pe,Ue="__reactMarker$"+Pe;function Ve(e){delete e[De],delete e[Oe],delete e[je],delete e[Le],delete e[Me]}function ze(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wh(e);null!==e;){if(n=e[De])return n;e=wh(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[De]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Ue]=!0}var Ke=new Set,Ge={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(ns){var t=ns.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<ns.stack.indexOf("\n    at")?" (<anonymous>)":-1<ns.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var st=!1;function at(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(ns){var r=ns}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(ns){return"\nError generating stack: "+ns.message+"\n"+ns.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(O(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Ot=null;function Rt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Oe]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var jt=!1;function Lt(e,t,n){if(jt)return e(t,n);jt=!0;try{return e(t)}finally{if(jt=!1,(null!==Dt||null!==Ot)&&(Bc(),Dt&&(t=Dt,e=Ot,Ot=Dt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Rd){Ut=!1}var zt=null,Bt=null,Wt=null;function Ht(){if(Wt)return Wt;var e,t,n=Bt,r=n.length,i="value"in zt?zt.value:zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Xt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Qt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Qt(nn),sn=Qt(d({},nn,{dataTransfer:0})),an=Qt(d({},en,{relatedTarget:0})),on=Qt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(d({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var mn=Qt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Qt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(d({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,En=null;Ft&&"documentMode"in document&&(En=document.documentMode);var kn=Ft&&"TextEvent"in window&&!En,_n=Ft&&(!Sn||En&&8<En&&11>=En),Tn=String.fromCharCode(32),Cn=!1;function In(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function On(e,t,n,r){Dt?Ot?Ot.push(r):Ot=[r]:Dt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,jn=null;function Ln(e){Mu(e,0)}function Mn(e){if(dt(We(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var Vn;if(Ft){var zn="oninput"in document;if(!zn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),zn="function"===typeof Bn.oninput}Vn=zn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function Wn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),jn=Rn=null)}function Hn(e){if("value"===e.propertyName&&Mn(jn)){var t=[];On(t,jn,e,Pt(e)),Lt(Ln,t)}}function qn(e,t,n){"focusin"===e?(Wn(),jn=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Wn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(jn)}function Gn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Xn(sr,r)||(sr=r,0<(r=qu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Qe(t,[e])}xr.push("scrollEnd");var Er=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Er.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Er.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],Tr=0,Cr=0;function Ir(){for(var e=Tr,t=Cr=Tr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var i=_r[t];_r[t++]=null;var s=_r[t];if(_r[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Dr(n,i,s)}}function Nr(e,t,n,r){_r[Tr++]=e,_r[Tr++]=t,_r[Tr++]=n,_r[Tr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Nr(e,t,n,r),Or(e)}function Pr(e,t){return Nr(e,null,null,t),Or(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Or(e){if(50<Oc)throw Oc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function jr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new jr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Lr(31,n,t,i)).elementType=C,e.lanes=s,e;case g:return zr(n.children,i,s,t);case y:o=8,i|=24;break;case v:return(e=Lr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case E:return(e=Lr(13,n,t,i)).elementType=E,e.lanes=s,e;case k:return(e=Lr(19,n,t,i)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:o=10;break e;case w:o=9;break e;case S:o=11;break e;case _:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function zr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],qr=0,Kr=null,Gr=0,Qr=[],Yr=0,Xr=null,$r=1,Jr="";function Zr(e,t){Hr[qr++]=Gr,Hr[qr++]=Kr,Kr=e,Gr=t}function ei(e,t,n){Qr[Yr++]=$r,Qr[Yr++]=Jr,Qr[Yr++]=Xr,Xr=e;var r=$r;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$r=1<<32-fe(t)+i|n<<i|r,Jr=s+e}else $r=1<<s|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Hr[--qr],Hr[qr]=null,Gr=Hr[--qr],Hr[qr]=null;for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null,$r=Qr[--Yr],Qr[Yr]=null}var ri=null,ii=null,si=!1,ai=null,oi=!1,li=Error(a(519));function ci(e){throw mi(kr(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Oe]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<ju.length;n++)Fu(ju[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),xt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!si)return hi(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||oh(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,ph(e.type)?(e=bh,bh=null,ii=e):ii=n):ii=ri?vh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=ai;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=U(null),yi=null,vi=null;function bi(e,t,n){z(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,V(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xi(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),xi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ei(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yh):e=[Yh])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ii(yi,e)}function Ci(e,t){return null===yi&&_i(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ai=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Di={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Ni,data:new Map,refCount:0}}function Ri(e){e.refCount--,0===e.refCount&&Ai(Pi,(function(){e.controller.abort()}))}var ji=null,Li=0,Mi=0,Fi=null;function Ui(){if(0===--Li&&null!==ji){null!==Fi&&(Fi.status="fulfilled");var e=ji;ji=null,Mi=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===ji){var n=ji=[];Li=0,Mi=Au(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Ui,Ui)}(0,t),null!==Vi&&Vi(e,t)};var zi=U(null);function Bi(){var e=zi.current;return null!==e?e:ic.pooledCache}function Wi(e,t){z(zi,null===t?zi.current:t.pool)}function Hi(){var e=Bi();return null===e?null:{parent:Di._currentValue,pool:e}}var qi=Error(a(460)),Ki=Error(a(474)),Gi=Error(a(542)),Qi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xi(){}function $i(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xi,Xi);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Ji=t,qi}}var Ji=null;function Zi(){if(null===Ji)throw Error(a(459));var e=Ji;return Ji=null,e}function es(e){if(e===qi||e===Gi)throw Error(a(483))}var ts=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function as(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Dr(e,null,n),t}return Nr(e,r,t,n),Or(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cs=!1;function us(){if(cs){if(null!==Fi)throw Fi}}function hs(e,t,n,r){cs=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Mi&&(cs=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,h,f):m)||void 0===f)break e;h=d({},h,f);break e;case 2:ts=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=h}}function ds(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function fs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var ps=U(null),ms=U(0);function gs(e,t){z(ms,e=dc),z(ps,t),dc=e|t.baseLanes}function ys(){z(ms,dc),z(ps,ps.current)}function vs(){dc=ms.current,V(ps),V(ms)}var bs=0,ws=null,xs=null,Ss=null,Es=!1,ks=!1,_s=!1,Ts=0,Cs=0,Is=null,Ns=0;function As(){throw Error(a(321))}function Ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ds(e,t,n,r,i,s){return bs=s,ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Ka:Ga,_s=!1,s=n(r,i),_s=!1,ks&&(s=Rs(t,n,r,i)),Os(e),s}function Os(e){R.H=qa;var t=null!==xs&&null!==xs.next;if(bs=0,Ss=xs=ws=null,Es=!1,Cs=0,Is=null,t)throw Error(a(300));null===e||Io||null!==(e=e.dependencies)&&ki(e)&&(Io=!0)}function Rs(e,t,n,r){ws=e;var i=0;do{if(ks&&(Is=null),Cs=0,ks=!1,25<=i)throw Error(a(301));if(i+=1,Ss=xs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=Qa,s=t(n,r)}while(ks);return s}function js(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?zs(t):t,e=e.useState()[0],(null!==xs?xs.memoizedState:null)!==e&&(ws.flags|=1024),t}function Ls(){var e=0!==Ts;return Ts=0,e}function Ms(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fs(e){if(Es){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Es=!1}bs=0,Ss=xs=ws=null,ks=!1,Cs=Ts=0,Is=null}function Us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ss?ws.memoizedState=Ss=e:Ss=Ss.next=e,Ss}function Vs(){if(null===xs){var e=ws.alternate;e=null!==e?e.memoizedState:null}else e=xs.next;var t=null===Ss?ws.memoizedState:Ss.next;if(null!==t)Ss=t,xs=e;else{if(null===e){if(null===ws.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xs=e).memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},null===Ss?ws.memoizedState=Ss=e:Ss=Ss.next=e}return Ss}function zs(e){var t=Cs;return Cs+=1,null===Is&&(Is=[]),e=$i(Is,e,t),t=ws,null===(null===Ss?t.memoizedState:Ss.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Ka:Ga),e}function Bs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zs(e);if(e.$$typeof===x)return Ti(e)}throw Error(a(438,String(e)))}function Ws(e){var t=null,n=ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ws.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Hs(e,t){return"function"===typeof t?t(e):t}function qs(e){return Ks(Vs(),xs,e)}function Ks(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(ac&d)===d:(bs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Mi&&(h=!0);else{if((bs&f)===f){u=u.next,f===Mi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=s):c=c.next=d,ws.lanes|=f,pc|=f}d=u.action,_s&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,ws.lanes|=d,pc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Yn(s,e.memoizedState)&&(Io=!0,h&&null!==(n=Fi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gs(e){var t=Vs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Yn(s,t.memoizedState)||(Io=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Qs(e,t,n){var r=ws,i=Vs(),s=si;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Yn((xs||i).memoizedState,n);if(o&&(i.memoizedState=n,Io=!0),i=i.queue,ya(2048,8,$s.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Ss&&1&Ss.memoizedState.tag){if(r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Xs.bind(null,r,i,n,t),null),null===ic)throw Error(a(349));s||0!==(124&bs)||Ys(r,t,n)}return n}function Ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xs(e,t,n,r){t.value=n,t.getSnapshot=r,Js(t)&&Zs(e)}function $s(e,t,n){return n((function(){Js(t)&&Zs(e)}))}function Js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Zs(e){var t=Pr(e,2);null!==t&&Mc(t,e,2)}function ea(e){var t=Us();if("function"===typeof e){var n=e;if(e=n(),_s){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,Ks(e,xs,"function"===typeof r?r:Hs)}function na(e,t,n,r,i){if(Ba(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,ra(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ra(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=R.T,a={};R.T=a;try{var o=n(i,r),l=R.S;null!==l&&l(a,o),ia(e,t,o)}catch(c){aa(e,t,c)}finally{R.T=s}}else try{ia(e,t,s=n(i,r))}catch(u){aa(e,t,u)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){sa(e,t,n)}),(function(n){return aa(e,t,n)})):sa(e,t,n)}function sa(e,t,n){t.status="fulfilled",t.value=n,oa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oa(t),t=t.next}while(t!==r)}e.action=null}function oa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(si){var n=ic.formState;if(null!==n){e:{var r=ws;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=vh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=vh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Us()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=Ua.bind(null,ws,r),r.dispatch=n,r=ea(!1),s=za.bind(null,ws,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Us()).queue=i,n=na.bind(null,ws,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return ha(Vs(),xs,e)}function ha(e,t,n){if(t=Ks(e,t,la)[0],e=qs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zs(t)}catch(ns){if(ns===qi)throw Gi;throw ns}else r=t;var i=(t=Vs()).queue,s=i.dispatch;return n!==t.memoizedState&&(ws.flags|=2048,pa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,s,e]}function da(e,t){e.action=t}function fa(e){var t=Vs(),n=xs;if(null!==n)return ha(t,n,e);Vs(),t=t.memoizedState;var r=(n=Vs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return Vs().memoizedState}function ga(e,t,n,r){var i=Us();r=void 0===r?null:r,ws.flags|=e,i.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var i=Vs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==xs&&null!==r&&Ps(r,xs.memoizedState.deps)?i.memoizedState=pa(t,s,n,r):(ws.flags|=e,i.memoizedState=pa(1|t,s,n,r))}function va(e,t){ga(8390656,8,e,t)}function ba(e,t){ya(2048,8,e,t)}function wa(e,t){return ya(4,2,e,t)}function xa(e,t){return ya(4,4,e,t)}function Sa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ea(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,4,Sa.bind(null,t,e),n)}function ka(){}function _a(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ps(t,r[1]))return r[0];if(r=e(),_s){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Ca(e,t,n){return void 0===n||0!==(1073741824&bs)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),ws.lanes|=e,pc|=e,n)}function Ia(e,t,n,r){return Yn(n,t)?n:null!==ps.current?(e=Ca(e,n,r),Yn(e,t)||(Io=!0),e):0===(42&bs)?(Io=!0,e.memoizedState=n):(e=Lc(),ws.lanes|=e,pc|=e,t)}function Na(e,t,n,r,i){var s=j.p;j.p=0!==s&&8>s?s:8;var a=R.T,o={};R.T=o,za(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Va(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),jc());else Va(e,t,r,jc())}catch(u){Va(e,t,{then:function(){},status:"rejected",reason:u},jc())}finally{j.p=s,R.T=a}}function Aa(){}function Pa(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Da(e).queue;Na(e,i,t,L,null===n?Aa:function(){return Oa(e),n(r)})}function Da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Oa(e){Va(e,Da(e).next.queue,{},jc())}function Ra(){return Ti(Yh)}function ja(){return Vs().memoizedState}function La(){return Vs().memoizedState}function Ma(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=jc(),r=as(t,e=ss(n),n);return null!==r&&(Mc(r,t,n),os(r,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var r=jc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ba(e)?Wa(t,n):null!==(n=Ar(e,t,n,r))&&(Mc(n,e,r),Ha(n,t,r))}function Ua(e,t,n){Va(e,t,n,jc())}function Va(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ba(e))Wa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Yn(o,a))return Nr(e,t,i,0),null===ic&&Ir(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Mc(n,e,r),Ha(n,t,r),!0}return!1}function za(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Ba(e)){if(t)throw Error(a(479))}else null!==(t=Ar(e,n,r,2))&&Mc(t,e,2)}function Ba(e){var t=e.alternate;return e===ws||null!==t&&t===ws}function Wa(e,t){ks=Es=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var qa={readContext:Ti,use:Bs,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useLayoutEffect:As,useInsertionEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useSyncExternalStore:As,useId:As,useHostTransitionStatus:As,useFormState:As,useActionState:As,useOptimistic:As,useMemoCache:As,useCacheRefresh:As},Ka={readContext:Ti,use:Bs,useCallback:function(e,t){return Us().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=Us();t=void 0===t?null:t;var r=e();if(_s){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Us();if(void 0!==n){var i=n(t);if(_s){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fa.bind(null,ws,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Us().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=Ua.bind(null,ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ka,useDeferredValue:function(e,t){return Ca(Us(),e,t)},useTransition:function(){var e=ea(!1);return e=Na.bind(null,ws,e.queue,!0,!1),Us().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ws,i=Us();if(si){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ic)throw Error(a(349));0!==(124&ac)||Ys(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,va($s.bind(null,r,s,e),[e]),r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Xs.bind(null,r,s,n,t),null),n},useId:function(){var e=Us(),t=ic.identifierPrefix;if(si){var n=Jr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=Ts++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ns++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Us();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=za.bind(null,ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ws,useCacheRefresh:function(){return Us().memoizedState=Ma.bind(null,ws)}},Ga={readContext:Ti,use:Bs,useCallback:_a,useContext:Ti,useEffect:ba,useImperativeHandle:Ea,useInsertionEffect:wa,useLayoutEffect:xa,useMemo:Ta,useReducer:qs,useRef:ma,useState:function(){return qs(Hs)},useDebugValue:ka,useDeferredValue:function(e,t){return Ia(Vs(),xs.memoizedState,e,t)},useTransition:function(){var e=qs(Hs)[0],t=Vs().memoizedState;return["boolean"===typeof e?e:zs(e),t]},useSyncExternalStore:Qs,useId:ja,useHostTransitionStatus:Ra,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(Vs(),0,e,t)},useMemoCache:Ws,useCacheRefresh:La},Qa={readContext:Ti,use:Bs,useCallback:_a,useContext:Ti,useEffect:ba,useImperativeHandle:Ea,useInsertionEffect:wa,useLayoutEffect:xa,useMemo:Ta,useReducer:Gs,useRef:ma,useState:function(){return Gs(Hs)},useDebugValue:ka,useDeferredValue:function(e,t){var n=Vs();return null===xs?Ca(n,e,t):Ia(n,xs.memoizedState,e,t)},useTransition:function(){var e=Gs(Hs)[0],t=Vs().memoizedState;return["boolean"===typeof e?e:zs(e),t]},useSyncExternalStore:Qs,useId:ja,useHostTransitionStatus:Ra,useFormState:fa,useActionState:fa,useOptimistic:function(e,t){var n=Vs();return null!==xs?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ws,useCacheRefresh:La},Ya=null,Xa=0;function $a(e){var t=Xa;return Xa+=1,null===Ya&&(Ya=[]),$i(Ya,e,t)}function Ja(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Za(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eo(e){return(0,e._init)(e._payload)}function to(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&eo(s)===t.type)?(Ja(t=i(t,n.props),n),t.return=e,t):(Ja(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=zr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Ja(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Wr(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(O(t)||A(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,$a(t),n);if(t.$$typeof===x)return d(e,Ci(e,t),n);Za(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(O(n)||A(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,$a(n),r);if(n.$$typeof===x)return f(e,t,Ci(e,n),r);Za(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(O(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,$a(r),i);if(r.$$typeof===x)return y(e,t,n,Ci(t,r),i);Za(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&eo(b)===c.type){n(l,c.sibling),Ja(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=zr(u.props.children,l.mode,h,u.key)).return=l,l=h):(Ja(h=Vr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Wr(u,l.mode,h)).return=l,l=h}return o(l);case T:return v(l,c,u=(b=u._init)(u._payload),h)}if(O(u))return function(i,a,o,l){for(var c=null,u=null,h=a,p=a=0,m=null;null!==h&&p<o.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(i,h,o[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g,h=m}if(p===o.length)return n(i,h),si&&Zr(i,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(i,o[p],l))&&(a=s(h,a,p),null===u?c=h:u.sibling=h,u=h);return si&&Zr(i,p),c}for(h=r(h);p<o.length;p++)null!==(m=y(h,i,p,o[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),a=s(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),si&&Zr(i,p),c}(l,c,u,h);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,m),null===h?u=b:h.sibling=b,h=b,p=g}if(v.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(o=s(v,o,m),null===h?u=v:h.sibling=v,h=v);return si&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=s(v,o,m),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach((function(e){return t(i,e)})),si&&Zr(i,m),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,$a(u),h);if(u.$$typeof===x)return v(l,c,Ci(l,u),h);Za(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Br(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,r){try{Xa=0;var i=v(e,t,n,r);return Ya=null,i}catch(ns){if(ns===qi||ns===Gi)throw ns;var s=Lr(29,ns,null,e.mode);return s.lanes=r,s.return=e,s}}}var no=to(!0),ro=to(!1),io=U(null),so=null;function ao(e){var t=e.alternate;z(uo,1&uo.current),z(io,e),null===so&&(null===t||null!==ps.current||null!==t.memoizedState)&&(so=e)}function oo(e){if(22===e.tag){if(z(uo,uo.current),z(io,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else lo()}function lo(){z(uo,uo.current),z(io,io.current)}function co(e){V(io),so===e&&(so=null),V(uo)}var uo=U(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jc(),i=ss(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=as(e,i,r))&&(Mc(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jc(),i=ss(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=as(e,i,r))&&(Mc(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jc(),r=ss(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=as(e,r,n))&&(Mc(t,e,n),os(t,e,n))}};function mo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,s))}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bo(e){vo(e)}function wo(e){console.error(e)}function xo(e){vo(e)}function So(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Eo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function ko(e,t,n){return(n=ss(n)).tag=3,n.payload={element:null},n.callback=function(){So(e,t)},n}function _o(e){return(e=ss(e)).tag=3,e}function To(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Eo(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Eo(t,n,r),"function"!==typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Co=Error(a(461)),Io=!1;function No(e,t,n,r){t.child=null===e?ro(t,null,n,r):no(t,e.child,n,r)}function Ao(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return _i(t),r=Ds(e,t,n,a,s,i),o=Ls(),null===e||Io?(si&&o&&ti(t),t.flags|=1,No(e,t,r,i),t.child):(Ms(e,t,i),Xo(e,t,i))}function Po(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Mr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Do(e,t,s,r,i))}if(s=e.child,!$o(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return Xo(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(Io=!1,t.pendingProps=r=s,!$o(e,i))return t.lanes=e.lanes,Xo(e,t,i);0!==(131072&e.flags)&&(Io=!0)}}return Lo(e,t,n,r,i)}function Oo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==s?s.cachePool:null),null!==s?gs(t,s):ys(),oo(t)}else null!==s?(Wi(0,s.cachePool),gs(t,s),lo(),t.memoizedState=null):(null!==e&&Wi(0,null),ys(),lo());return No(e,t,i,n),t.child}function Ro(e,t,n,r){var i=Bi();return i=null===i?null:{parent:Di._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Wi(0,null),ys(),oo(t),null!==e&&Ei(e,t,r,!0),null}function jo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Lo(e,t,n,r,i){return _i(t),n=Ds(e,t,n,r,void 0,i),r=Ls(),null===e||Io?(si&&r&&ti(t),t.flags|=1,No(e,t,n,i),t.child):(Ms(e,t,i),Xo(e,t,i))}function Mo(e,t,n,r,i,s){return _i(t),t.updateQueue=null,n=Rs(t,r,n,i),Os(e),r=Ls(),null===e||Io?(si&&r&&ti(t),t.flags|=1,No(e,t,n,s),t.child):(Ms(e,t,s),Xo(e,t,s))}function Fo(e,t,n,r,i){if(_i(t),null===t.stateNode){var s=Rr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Ti(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=po,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},rs(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Ti(a):Rr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(fo(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&po.enqueueReplaceState(s,s.state,null),hs(t,r,s,i),us(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=yo(n,o);s.props=l;var c=s.context,u=n.contextType;a=Rr,"object"===typeof u&&null!==u&&(a=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&go(t,s,r,a),ts=!1;var d=t.memoizedState;s.state=d,hs(t,r,s,i),us(),c=t.memoizedState,o||d!==c||ts?("function"===typeof h&&(fo(t,n,h,r),c=t.memoizedState),(l=ts||mo(t,n,l,r,d,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,is(e,t),u=yo(n,a=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&go(t,s,r,l),ts=!1,d=t.memoizedState,s.state=d,hs(t,r,s,i),us();var f=t.memoizedState;a!==h||d!==f||ts||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof o&&(fo(t,n,o,r),f=t.memoizedState),(u=ts||mo(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,jo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=no(t,e.child,null,i),t.child=no(t,null,n,i)):No(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Xo(e,t,i),e}function Uo(e,t,n,r){return fi(),t.flags|=256,No(e,t,n,r),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:Hi()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Wo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&uo.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?ao(t):lo(),si){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:$r,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yh(c)?t.lanes=32:t.lanes=536870912,null;co(t)}return c=i.children,i=i.fallback,s?(lo(),c=qo({mode:"hidden",children:c},s=t.mode),i=zr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=zo(n),s.childLanes=Bo(e,r,n),t.memoizedState=Vo,i):(ao(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=Ko(e,t,n)):null!==t.memoizedState?(lo(),t.child=e.child,t.flags|=128,t=null):(lo(),s=i.fallback,c=t.mode,i=qo({mode:"visible",children:i.children},c),(s=zr(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,no(t,e.child,null,n),(i=t.child).memoizedState=zo(n),i.childLanes=Bo(e,r,n),t.memoizedState=Vo,t=s);else if(ao(t),yh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ko(e,t,n)}else if(Io||Ei(e,t,n,!1),r=0!==(n&e.childLanes),Io||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Mc(r,e,i),Co;"$?"===c.data||Qc(),t=Ko(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vh(c.nextSibling),ri=t,si=!0,ai=null,oi=!1,null!==e&&(Qr[Yr++]=$r,Qr[Yr++]=Jr,Qr[Yr++]=Xr,$r=e.id,Jr=e.overflow,Xr=t),(t=Ho(t,i.children)).flags|=4096);return t}return s?(lo(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Fr(u,s):(s=zr(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=zo(n):(null!==(l=c.cachePool)?(u=Di._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Bo(e,r,n),t.memoizedState=Vo,i):(ao(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ko(e,t,n){return no(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Qo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(No(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(uo,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ho(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ho(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qo(t,!0,n,null,s);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ei(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Io=!0;else{if(!$o(e,n)&&0===(128&t.flags))return Io=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Di,e.memoizedState.cache),fi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Wo(e,t,n):(ao(t),null!==(e=Xo(e,t,n))?e.sibling:null);ao(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ei(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Yo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Oo(e,t,n);case 24:bi(0,Di,e.memoizedState.cache)}return Xo(e,t,n)}(e,t,n);Io=0!==(131072&e.flags)}else Io=!1,si&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Ao(null,t,r,e,n);break e}if(i===_){t.tag=14,t=Po(null,t,r,e,n);break e}}throw t=D(r)||r,Error(a(306,t,""))}Mr(r)?(e=yo(r,e),t.tag=1,t=Fo(null,t,r,e,n)):(t.tag=0,t=Lo(null,t,r,e,n))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return Fo(e,t,r=t.type,i=yo(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,is(e,t),hs(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Di,r),r!==s.cache&&Si(t,[Di],n,!0),us(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Uo(e,t,r,n);break e}if(r!==i){mi(i=kr(Error(a(424)),t)),t=Uo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vh(e.firstChild),ri=t,si=!0,ai=null,oi=!0,n=ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Xo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 26:return jo(e,t),null===e?(n=Nh(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=ih(H.current).createElement(n))[De]=t,r[Oe]=e,th(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Nh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&si&&(r=t.stateNode=xh(t.type,t.pendingProps,H.current),ri=t,oi=!0,i=ii,ph(t.type)?(bh=i,ii=vh(r.firstChild)):ii=i),No(e,t,t.pendingProps.children,n),jo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=vh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=vh(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),Q(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,oh(i,s)?r=null:null!==o&&oh(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ds(e,t,js,null,null,n),Yh._currentValue=i),jo(e,t),No(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Wo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=no(t,null,r,n):No(e,t,r,n),t.child;case 11:return Ao(e,t,t.type,t.pendingProps,n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),No(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,_i(t),r=r(i=Ti(i)),t.flags|=1,No(e,t,r,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return Yo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oo(e,t,n);case 24:return _i(t),r=Ti(Di),null===e?(null===(i=Bi())&&(i=ic,s=Oi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},rs(t),bi(0,Di,i)):(0!==(e.lanes&n)&&(is(e,t),hs(t,null,null,n),us()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Di,r)):(r=s.cache,bi(0,Di,r),r!==i.cache&&Si(t,[Di],n,!0))),No(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Zo(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bh(t)){if(null!==(t=io.current)&&((4194048&ac)===ac?null!==so:(62914560&ac)!==ac&&0===(536870912&ac)||t!==so))throw Ji=Qi,Ki;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Di),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}e=B.current,di(t)?ui(t):(e=xh(i,r,n),t.stateNode=e,Zo(t))}return rl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}if(e=B.current,di(t))ui(t);else{switch(i=ih(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[De]=t,e[Oe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(th(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=H.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ci(t)}else(e=ih(e).createTextNode(r))[De]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[De]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(co(t),t):(co(t),null)}if(co(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return G(),null===e&&zu(t.stateNode.containerInfo),rl(t),null;case 10:return wi(t.type),rl(t),null;case 19:if(V(uo),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)nl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ho(e))){for(t.flags|=128,nl(i,!1),e=s.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return z(uo,1&uo.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Ec&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ho(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return rl(t),null}else 2*te()-i.renderingStartTime>Ec&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=uo.current,z(uo,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return co(t),vs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Di),rl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sl(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Di),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(co(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(uo),null;case 4:return G(),null;case 10:return wi(t.type),null;case 22:case 23:return co(t),vs(),null!==e&&V(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Di),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:wi(Di),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:co(t);break;case 19:V(uo);break;case 10:wi(t.type);break;case 22:case 23:co(t),vs(),null!==e&&V(zi);break;case 24:wi(Di)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){hu(t,t.return,o)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){hu(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fs(t,n)}catch(r){hu(e,e.return,r)}}}function ul(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){hu(e,t,s)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&Zu(e,t,f,p,r,d)}}return void gt(e,o,l,c,u,h,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Zu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Zu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Zu(e,t,o,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&eh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||eh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Zu(e,t,d,f,r,p)}(r,e.type,n,t),r[Oe]=t}catch(i){hu(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);th(t,r,n),t[De]=e,t[Oe]=n}catch(s){hu(e,e.return,s)}}var wl=!1,xl=!1,Sl=!1,El="function"===typeof WeakSet?WeakSet:Set,kl=null;function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ol(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){hu(n,n.return,a)}else{var i=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(n,n.return,o)}}64&r&&cl(n),512&r&&hl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fs(e,t)}catch(a){hu(n,n.return,a)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&fl(n),512&r&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||xl,i=wl;var s=xl;wl=r,(xl=t)&&!s?Vl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),wl=i,xl=s}break;case 30:break;default:Fl(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Il=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:xl||dl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=Cl,i=Il;ph(n.type)&&(Cl=n.stateNode,Il=!1),Nl(e,t,n),Sh(n.stateNode),Cl=r,Il=i;break;case 5:xl||dl(n,t);case 6:if(r=Cl,i=Il,Cl=null,Nl(e,t,n),Il=i,null!==(Cl=r))if(Il)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(a){hu(n,t,a)}else try{Cl.removeChild(n.stateNode)}catch(a){hu(n,t,a)}break;case 18:null!==Cl&&(Il?(mh(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Id(e)):mh(Cl,n.stateNode));break;case 4:r=Cl,i=Il,Cl=n.stateNode.containerInfo,Il=!0,Nl(e,t,n),Cl=r,Il=i;break;case 0:case 11:case 14:case 15:xl||ll(2,n,t),xl||ll(4,n,t),Nl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Nl(e,t,n),xl=r;break;default:Nl(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Id(e)}catch(n){hu(t,t.return,n)}}function Dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new El),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new El),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){Cl=l.stateNode,Il=!1;break e}break;case 5:Cl=l.stateNode,Il=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Cl)throw Error(a(160));Al(s,o,i),Cl=null,Il=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)jl(t,e),t=t.sibling}var Rl=null;function jl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Ll(e),4&r&&(ll(3,e,e.return),ol(3,e),ll(5,e,e.return));break;case 1:Ol(t,e),Ll(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Rl;if(Ol(t,e),Ll(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ue]||s[De]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),th(s,r,n),s[De]=e,qe(s),r=s;break e;case"link":var o=Vh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}th(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Vh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}th(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[De]=e,qe(s),r=s}e.stateNode=r}else zh(i,e.type,e.stateNode);else e.stateNode=jh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?zh(i,e.type,e.stateNode):jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Ll(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Ll(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){hu(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Sl=!0);break;case 6:if(Ol(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){hu(e,e.return,p)}}break;case 3:if(Uh=null,i=Rl,Rl=_h(t.containerInfo),Ol(t,e),Rl=i,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Id(t.containerInfo)}catch(p){hu(e,e.return,p)}Sl&&(Sl=!1,Ml(e));break;case 4:r=Rl,Rl=_h(e.stateNode.containerInfo),Ol(t,e),Ll(e),Rl=r;break;case 12:default:Ol(t,e),Ll(e);break;case 13:Ol(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Sc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,h=xl;if(wl=u||i,xl=h||c,Ol(t,e),xl=h,wl=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||wl||xl||Ul(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){hu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){hu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Dl(e,n))));break;case 19:Ol(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,gl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(St(s,""),n.flags&=-33),vl(e,gl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,gl(e),o);break;default:throw Error(a(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),Ul(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Ul(t);break;case 27:Sh(t.stateNode);case 26:case 5:dl(t,t.return),Ul(t);break;case 22:null===t.memoizedState&&Ul(t);break;default:Ul(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(i,s,n),ol(4,s);break;case 1:if(Vl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ds(l[i],o)}catch(c){hu(r,r.return,c)}}n&&64&a&&cl(s),hl(s,s.return);break;case 27:bl(s);case 26:case 5:Vl(i,s,n),n&&null===r&&4&a&&fl(s),hl(s,s.return);break;case 12:Vl(i,s,n);break;case 13:Vl(i,s,n),n&&4&a&&Pl(i,s);break;case 22:null===s.memoizedState&&Vl(i,s,n),hl(s,s.return);break;case 30:break;default:Vl(i,s,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ri(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e))}function Wl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:Wl(e,t,n,r);break;case 3:Wl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e)));break;case 12:if(2048&i){Wl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Wl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Wl(e,t,n,r):Kl(e,t):2&s._visibility?Wl(e,t,n,r):(s._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(a,t);break;case 24:Wl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function ql(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(s,a,o,l,i),ol(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(s,a,o,l,i):Kl(s,a):(u._visibility|=2,ql(s,a,o,l,i)),i&&2048&c&&zl(a.alternate,a);break;case 24:ql(s,a,o,l,i),i&&2048&c&&Bl(a.alternate,a);break;default:ql(s,a,o,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&Bl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Gl=8192;function Ql(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Ql(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Wh)throw Error(a(475));var r=Wh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ah(n.href),s=e.querySelector(Ph(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void qe(s);s=e.ownerDocument||e,n=Dh(n),(i=Eh.get(i))&&Mh(n,i),qe(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),th(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Rl;Rl=_h(e.stateNode.containerInfo),Ql(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Ql(e),Gl=t):Ql(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):$l(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ri(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,s=r.return;if(Tl(r),r===n){kl=null;break e}if(null!==i){i.return=s,kl=i;break e}kl=s}}}var tc={getCacheForType:function(e){var t=Ti(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,sc=null,ac=0,oc=0,lc=null,cc=!1,uc=!1,hc=!1,dc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=0,bc=null,wc=null,xc=!1,Sc=0,Ec=1/0,kc=null,_c=null,Tc=0,Cc=null,Ic=null,Nc=0,Ac=0,Pc=null,Dc=null,Oc=0,Rc=null;function jc(){if(0!==(2&rc)&&0!==ac)return ac&-ac;if(null!==R.T){return 0!==Mi?Mi:Au()}return Ae()}function Lc(){0===yc&&(yc=0===(536870912&ac)||si?Se():536870912);var e=io.current;return null!==e&&(e.flags|=32),yc}function Mc(e,t,n){(e!==ic||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),zc(e,ac,yc,!1)),_e(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(mc|=n),4===fc&&zc(e,ac,yc,!1)),Eu(e))}function Fc(e,t,n){if(0!==(6&rc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Kc(),i=Gc();ic!==e||ac!==t?(kc=null,Ec=te()+500,Hc(e,t)):uc=we(e,t);e:for(;;)try{if(0!==oc&&null!==sc){t=sc;var s=lc;t:switch(oc){case 1:oc=0,lc=null,eu(e,t,s,1);break;case 2:case 9:if(Yi(s)){oc=0,lc=null,Zc(t);break}t=function(){2!==oc&&9!==oc||ic!==e||(oc=7),Eu(e)},s.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Yi(s)?(oc=0,lc=null,Zc(t)):(oc=0,lc=null,eu(e,t,s,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Bh(o)){oc=0,lc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,tu(u)):sc=null}break t}}oc=0,lc=null,eu(e,t,s,5);break;case 6:oc=0,lc=null,eu(e,t,s,6);break;case 8:Wc(),fc=6;break e;default:throw Error(a(462))}}$c();break}catch(h){qc(e,h)}return vi=yi=null,R.H=r,R.A=i,rc=n,null!==sc?0:(ic=null,ac=0,Ir(),fc)}(e,t):Yc(e,t,!0),s=r;;){if(0===i){uc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Vc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Yc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=s,mc|=s,i=4;break e}s=wc,wc=i,null!==s&&(null===wc?wc=s:wc.push.apply(wc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){Hc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,yc,!cc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Sc+300-te())){if(zc(r,t,yc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=ch(Uc.bind(null,r,n,wc,kc,xc,t,yc,mc,vc,cc,s,2,-0,0),i)}else Uc(r,n,wc,kc,xc,t,yc,mc,vc,cc,s,0,-0,0)}break}i=Yc(e,t,!1),s=!1}Eu(e)}function Uc(e,t,n,r,i,s,o,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Wh={stylesheets:null,count:0,unsuspend:Hh},Yl(t),null!==(d=function(){if(null===Wh)throw Error(a(475));var e=Wh;return e.stylesheets&&0===e.count&&Gh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Gh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(ru.bind(null,e,t,s,n,r,i,o,l,c,h,1,f,p)),void zc(e,s,o,!u);ru(e,t,s,n,r,i,o,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Te(e,n,t)}function Bc(){return 0!==(6&rc)||(ku(0,!1),!1)}function Wc(){if(null!==sc){if(0===oc)var e=sc.return;else vi=yi=null,Fs(e=sc),Ya=null,Xa=0,e=sc;for(;null!==e;)al(e.alternate,e),e=e.return;sc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,uh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),ic=e,sc=n=Fr(e.current,null),ac=t,oc=0,lc=null,cc=!1,uc=we(e,t),hc=!1,vc=yc=gc=mc=pc=fc=0,wc=bc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return dc=t,Ir(),n}function qc(e,t){ws=null,R.H=qa,t===qi||t===Gi?(t=Zi(),oc=3):t===Ki?(t=Zi(),oc=4):oc=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===sc&&(fc=1,So(e,kr(t,e.current)))}function Kc(){var e=R.H;return R.H=qa,null===e?qa:e}function Gc(){var e=R.A;return R.A=tc,e}function Qc(){fc=4,cc||(4194048&ac)!==ac&&null!==io.current||(uc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ic||zc(ic,ac,yc,!1)}function Yc(e,t,n){var r=rc;rc|=2;var i=Kc(),s=Gc();ic===e&&ac===t||(kc=null,Hc(e,t)),t=!1;var a=fc;e:for(;;)try{if(0!==oc&&null!==sc){var o=sc,l=lc;switch(oc){case 8:Wc(),a=6;break e;case 3:case 2:case 9:case 6:null===io.current&&(t=!0);var c=oc;if(oc=0,lc=null,eu(e,o,l,c),n&&uc){a=0;break e}break;default:c=oc,oc=0,lc=null,eu(e,o,l,c)}}Xc(),a=fc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,rc=r,R.H=i,R.A=s,null===sc&&(ic=null,ac=0,Ir()),a}function Xc(){for(;null!==sc;)Jc(sc)}function $c(){for(;null!==sc&&!Z();)Jc(sc)}function Jc(e){var t=Jo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mo(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Mo(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Fs(t);default:al(n,t),t=Jo(n,t=sc=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function eu(e,t,n,r){vi=yi=null,Fs(t),Ya=null,Xa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ei(t,n,i,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===so?Qc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(a(435,n.tag))}return du(e,r,i),Qc(),!1}if(si)return null!==(t=io.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(kr(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(kr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),ls(e,i=ko(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var s=Error(a(520),{cause:r});if(s=kr(s,n),null===bc?bc=[s]:bc.push(s),4!==fc&&(fc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ls(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===_c||!_c.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,To(i=_o(i),e,n,r),ls(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return fc=1,So(e,kr(n,e.current)),void(sc=null)}catch(s){if(null!==i)throw sc=i,s;return fc=1,So(e,kr(n,e.current)),void(sc=null)}32768&t.flags?(si||1===r?e=!0:uc||0!==(536870912&ac)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=io.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);fc=6,sc=null}function ru(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Tc);if(0!==(6&rc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Cr,o,l,c),e===ic&&(sc=ic=null,ac=0),Ic=t,Cc=e,Nc=n,Ac=s,Pc=i,Dc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(se,(function(){return cu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=j.p,j.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nh=rd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rh={focusedElem:e,selectionRange:n},rd=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(s=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=yo(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{rc=o,j.p=i,R.T=r}}Tc=1,iu(),su(),au()}}function iu(){if(1===Tc){Tc=0;var e=Cc,t=Ic,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=j.p;j.p=2;var i=rc;rc|=4;try{jl(t,e);var s=rh,a=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rd=!!nh,rh=nh=null}finally{rc=i,j.p=r,R.T=n}}e.current=t,Tc=2}}function su(){if(2===Tc){Tc=0;var e=Cc,t=Ic,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=j.p;j.p=2;var i=rc;rc|=4;try{_l(e,t.alternate,t)}finally{rc=i,j.p=r,R.T=n}}Tc=3}}function au(){if(4===Tc||3===Tc){Tc=0,ee();var e=Cc,t=Ic,n=Nc,r=Dc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tc=5:(Tc=0,Ic=Cc=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(_c=null),Ne(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=j.p,j.p=2,R.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{R.T=t,j.p=i}}0!==(3&Nc)&&lu(),Eu(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Rc?Oc++:(Oc=0,Rc=e):Oc=0,ku(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ri(t)))}function lu(e){return iu(),su(),au(),cu()}function cu(){if(5!==Tc)return!1;var e=Cc,t=Ac;Ac=0;var n=Ne(Nc),r=R.T,i=j.p;try{j.p=32>n?32:n,R.T=null,n=Pc,Pc=null;var s=Cc,o=Nc;if(Tc=0,Ic=Cc=null,Nc=0,0!==(6&rc))throw Error(a(331));var l=rc;if(rc|=4,Jl(s.current),Hl(s,s.current,o,n),rc=l,ku(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{j.p=i,R.T=r,ou(e,t)}}function uu(e,t,n){t=kr(n,t),null!==(e=as(e,t=ko(e.stateNode,t,2),2))&&(_e(e,2),Eu(e))}function hu(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=kr(n,e),null!==(r=as(t,n=_o(2),2))&&(To(n,r,t,e),_e(r,2),Eu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(ac&n)===n&&(4===fc||3===fc&&(62914560&ac)===ac&&300>te()-Sc?0===(2&rc)&&Hc(e,0):gc|=n,vc===ac&&(vc=0)),Eu(e)}function pu(e,t){0===t&&(t=Ee()),null!==(e=Pr(e,t))&&(_e(e,t),Eu(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,wu=!1,xu=!1,Su=0;function Eu(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),wu=!0,bu||(bu=!0,dh((function(){0!==(6&rc)?$(re,_u):Tu()})))}function ku(e,t){if(!xu&&wu){xu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Nu(r,s))}else s=ac,0===(3&(s=be(r,r===ic?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,s)||(n=!0,Nu(r,s));r=r.next}}while(n);xu=!1}}function _u(){Tu()}function Tu(){wu=bu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lh&&(lh=e,!0);return lh=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,s=Cu(r,t);0===s?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&s))&&(wu=!0)),r=i}ku(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-fe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=xe(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=ac,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ne(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Iu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Iu(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Iu.bind(null,e):null)}function Nu(e,t){if(lu())return null;Fc(e,t,!0)}function Au(){return 0===Su&&(Su=Se()),Su}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Du(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<xr.length;Ou++){var Ru=xr[Ou];Sr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){vo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){vo(u)}i.currentTarget=null,s=l}}}}function Fu(e,t){var n=t[je];void 0===n&&(n=t[je]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Vu]){e[Vu]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Lu.has(t)||Uu(t,!1,e),Uu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,Uu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ud(t)){case 2:var i=id;break;case 8:i=sd;break;default:i=ad}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=ze(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Lt((function(){var r=s,i=Pt(n),a=[];e:{var o=wr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&h.push(Hu(m,g,p)),d)break;m=m.return}0<h.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Re])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?o:We(c),p=null==u?o:We(u),(o=new h(g,m+"leave",c,n,i)).target=d,o.relatedTarget=p,g=null,ze(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(f=u,m=0,p=h=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)h=Ku(h),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Ku(h),f=Ku(f)}h=null}else h=null;null!==c&&Gu(a,o,c,h,!1),null!==u&&null!==d&&Gu(a,d,u,h,!0)}if("select"===(c=(o=r?We(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Dn(o))if(Un)y=Qn;else{y=Kn;var v=qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(y=Fn):y=Gn;switch(y&&(y=y(e,r))?On(a,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?We(r):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else An?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(_n&&"ko"!==n.locale&&(An||"onCompositionStart"!==w?"onCompositionEnd"===w&&An&&(b=Ht()):(Bt="value"in(zt=i)?zt.value:zt.textContent,An=!0)),0<(v=qu(r,w)).length&&(w=new cn(w,e,null,n,i),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=Nn(n))&&(w.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Sn&&In(e,t)?(e=Ht(),Wt=Bt=zt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=qu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Pu((i[Oe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Oe]||null)?Pu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=a?Du(i,a):new FormData(i);Pa(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Du(i,a):new FormData(i),Pa(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Mu(a,t)}))}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Mt(e,n))&&r.unshift(Hu(e,i,s)),null!=(i=Mt(e,t))&&r.push(Hu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Mt(n,s))&&a.unshift(Hu(n,c,l)):i||null!=(c=Mt(n,s))&&a.push(Hu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Yu,"")}function $u(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function Zu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":_t(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function eh(e,t,n,r,i,s){switch(n){case"style":_t(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Oe]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function th(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,r,o,n,null)}}return s&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Zu(e,t,i,h,n,null)}}return yt(e,r,l,c,u,o,s,!1),void ht(e);case"select":for(s in Fu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Zu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Fu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zu(e,t,o,l,n,null)}return xt(e,i,s,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<ju.length;i++)Fu(ju[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&eh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nh=null,rh=null;function ih(e){return 9===e.nodeType?e:e.ownerDocument}function sh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ah(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function oh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lh=null;var ch="function"===typeof setTimeout?setTimeout:void 0,uh="function"===typeof clearTimeout?clearTimeout:void 0,hh="function"===typeof Promise?Promise:void 0,dh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hh?function(e){return hh.resolve(null).then(e).catch(fh)}:ch;function fh(e){setTimeout((function(){throw e}))}function ph(e){return"head"===e}function mh(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&Sh(a.documentElement),2&n&&Sh(a.body),4&n)for(Sh(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Id(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Id(t)}function gh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bh=null;function wh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xh(e,t,n){switch(t=ih(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Sh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var Eh=new Map,kh=new Set;function _h(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Th=j.d;j.d={f:function(){var e=Th.f(),t=Bc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Oa(t):Th.r(e)},D:function(e){Th.D(e),Ih("dns-prefetch",e,null)},C:function(e,t){Th.C(e,t),Ih("preconnect",e,t)},L:function(e,t,n){Th.L(e,t,n);var r=Ch;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Ah(e);break;case"script":s=Oh(e)}Eh.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Eh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ph(s))||"script"===t&&r.querySelector(Rh(s))||(th(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Th.m(e,t);var n=Ch;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Oh(e)}if(!Eh.has(s)&&(e=d({rel:"modulepreload",href:e},t),Eh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rh(s)))return}th(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Th.X(e,t);var n=Ch;if(n&&e){var r=He(n).hoistableScripts,i=Oh(e),s=r.get(i);s||((s=n.querySelector(Rh(i)))||(e=d({src:e,async:!0},t),(t=Eh.get(i))&&Fh(e,t),qe(s=n.createElement("script")),th(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Th.S(e,t,n);var r=Ch;if(r&&e){var i=He(r).hoistableStyles,s=Ah(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Ph(s)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Eh.get(s))&&Mh(e,n);var l=a=r.createElement("link");qe(l),th(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Lh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Th.M(e,t);var n=Ch;if(n&&e){var r=He(n).hoistableScripts,i=Oh(e),s=r.get(i);s||((s=n.querySelector(Rh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=Eh.get(i))&&Fh(e,t),qe(s=n.createElement("script")),th(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Ch="undefined"===typeof document?null:document;function Ih(e,t,n){var r=Ch;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kh.has(i)||(kh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(th(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Nh(e,t,n,r){var i,s,o,l,c=(c=H.current)?_h(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ah(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ah(n.href);var u=He(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ph(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Eh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Eh.set(e,n),u||(i=c,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),th(s,"link",o),qe(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Oh(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ah(e){return'href="'+mt(e)+'"'}function Ph(e){return'link[rel="stylesheet"]['+e+"]"}function Dh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Oh(e){return'[src="'+mt(e)+'"]'}function Rh(e){return"script[async]"+e}function jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),th(r,"style",i),Lh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ah(n.href);var s=e.querySelector(Ph(i));if(s)return t.state.loading|=4,t.instance=s,qe(s),s;r=Dh(n),(i=Eh.get(i))&&Mh(r,i),qe(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),th(s,"link",r),t.state.loading|=4,Lh(s,n.precedence,e),t.instance=s;case"script":return s=Oh(n.src),(i=e.querySelector(Rh(s)))?(t.instance=i,qe(i),i):(r=n,(i=Eh.get(s))&&Fh(r=d({},n),i),qe(i=(e=e.ownerDocument||e).createElement("script")),th(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Lh(r,n.precedence,e));return t.instance}function Lh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Mh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Uh=null;function Vh(e,t,n){if(null===Uh){var r=new Map,i=Uh=new Map;i.set(n,r)}else(r=(i=Uh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ue]||s[De]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function zh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Wh=null;function Hh(){}function qh(){if(this.count--,0===this.count)if(this.stylesheets)Gh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kh=null;function Gh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kh=new Map,t.forEach(Qh,e),Kh=null,qh.call(e))}function Qh(e,t){if(!(4&t.state.loading)){var n=Kh.get(e);if(n)var r=n.get(null);else{n=new Map,Kh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=qh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yh={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Xh(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $h(e,t,n,r,i,s,a,o,l,c,u,h){return e=new Xh(e,t,n,a,o,l,c,h),t=1,!0===s&&(t|=24),s=Lr(3,null,null,t),e.current=s,s.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},rs(s),e}function Jh(e){return e?e=Rr:Rr}function Zh(e,t,n,r,i,s){i=Jh(i),null===r.context?r.context=i:r.pendingContext=i,(r=ss(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=as(e,r,t))&&(Mc(n,0,t),os(n,e,t))}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function nd(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Mc(t,0,67108864),td(e,67108864)}}var rd=!0;function id(e,t,n,r){var i=R.T;R.T=null;var s=j.p;try{j.p=2,ad(e,t,n,r)}finally{j.p=s,R.T=i}}function sd(e,t,n,r){var i=R.T;R.T=null;var s=j.p;try{j.p=8,ad(e,t,n,r)}finally{j.p=s,R.T=i}}function ad(e,t,n,r){if(rd){var i=od(r);if(null===i)Wu(e,t,r,ld,n),bd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dd=wd(dd,e,t,n,r,i),!0;case"dragenter":return fd=wd(fd,e,t,n,r,i),!0;case"mouseover":return pd=wd(pd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return md.set(s,wd(md.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gd.set(s,wd(gd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bd(e,r),4&t&&-1<vd.indexOf(e)){for(;null!==i;){var s=Be(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ve(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}Eu(s),0===(6&rc)&&(Ec=te()+500,ku(0,!1))}}break;case 13:null!==(o=Pr(s,2))&&Mc(o,0,2),Bc(),td(s,2)}if(null===(s=od(r))&&Wu(e,t,r,ld,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wu(e,t,r,null,n)}}function od(e){return cd(e=Pt(e))}var ld=null;function cd(e){if(ld=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ld=e,null}function ud(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var hd=!1,dd=null,fd=null,pd=null,md=new Map,gd=new Map,yd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bd(e,t){switch(e){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":fd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":md.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(t.pointerId)}}function wd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function xd(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}(e.priority,(function(){if(13===n.tag){var e=jc();e=Ie(e);var t=Pr(n,e);null!==t&&Mc(t,0,e),td(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=od(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Ed(e,t,n){Sd(e)&&n.delete(t)}function kd(){hd=!1,null!==dd&&Sd(dd)&&(dd=null),null!==fd&&Sd(fd)&&(fd=null),null!==pd&&Sd(pd)&&(pd=null),md.forEach(Ed),gd.forEach(Ed)}function _d(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kd)))}var Td=null;function Cd(e){Td!==e&&(Td=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Td===e&&(Td=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===cd(r||n))continue;break}var s=Be(n);null!==s&&(e.splice(t,3),t-=3,Pa(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Id(e){function t(t){return _d(t,e)}null!==dd&&_d(dd,e),null!==fd&&_d(fd,e),null!==pd&&_d(pd,e),md.forEach(t),gd.forEach(t);for(var n=0;n<yd.length;n++){var r=yd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yd.length&&null===(n=yd[0]).blockedOn;)xd(n),null===n.blockedOn&&yd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Oe]||null;if("function"===typeof s)a||Cd(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Oe]||null)o=a.formAction;else if(null!==cd(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Cd(n)}}}function Nd(e){this._internalRoot=e}function Ad(e){this._internalRoot=e}Ad.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zh(t.current,jc(),e,t,null,null)},Ad.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),Bc(),t[Re]=null}},Ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yd.length&&0!==t&&t<yd[n].priority;n++);yd.splice(n,0,e),0===n&&xd(e)}};var Pd=i.version;if("19.1.0"!==Pd)throw Error(a(527,Pd,"19.1.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Dd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ue=Od.inject(Dd),he=Od}catch(jd){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=bo,s=wo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$h(e,1,!1,null,0,n,r,i,s,l,0,null),e[Re]=t.current,zu(e),new Nd(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=bo,l=wo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$h(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Jh(null),n=t.current,(i=ss(r=Ie(r=jc()))).callback=null,as(n,i,r),n=r,t.current.lanes=n,_e(t,n),Eu(t),e[Re]=t.current,zu(e),new Ad(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function k(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return N((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+C(e,0):s,x(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=k(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,p=""===s?".":s+":";if(x(e))for(var m=0;m<e.length;m++)u+=N(s=e[m],t,i,o=p+C(s,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,o=p+C(s,m++),a);else if("object"===o){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return k(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,D)}catch(s){D(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,k||(k=!0,E());else{var t=r(u);null!==t&&D(S,t.startTime-e)}}var E,k=!1,_=-1,T=5,C=-1;function I(){return!!y||!(t.unstable_now()-C<T)}function N(){if(y=!1,k){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var s=f;try{t:{for(x(e),d=r(c);null!==d&&!(d.expirationTime>e&&I());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,x(e),n=!0;break t}d===r(c)&&i(c),x(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&D(S,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?E():k=!1}}}if("function"===typeof w)E=function(){w(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=N,E=function(){P.postMessage(null)}}else E=function(){v(N,0)};function D(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,D(S,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,k||(k=!0,E()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".807d62e6.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="wrestling-camp-manager:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/high_country_wrestling_camp/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkwrestling_camp_manager=self.webpackChunkwrestling_camp_manager||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new f;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(e){return function(e){const t=h(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},m=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const y=()=>{try{return g().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/high_country_wrestling_camp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:': "AIzaSyCfGV5RZiUGc1jo15E1268iGrrMQcHhtU4",',REACT_APP_AUTH_DOMAIN:'"hc-wrestling-camp.firebaseapp.com",',REACT_APP_PROJECT_ID:'"hc-wrestling-camp",',REACT_APP_STORAGE_BUCKET:'"hc-wrestling-camp.firebasestorage.app",',REACT_APP_MESSAGING_SENDER_ID:'"419048308093",',REACT_APP_APP_ID:"1:419048308093:web:1926895a720a946642e014"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&m(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{var t,n;return null===(n=null===(t=y())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},b=()=>{var e;return null===(e=y())||void 0===e?void 0:e.config},w=e=>{var t;return null===(t=y())||void 0===t?void 0:t["_".concat(e)]};class x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function S(e){return e.endsWith(".cloudworkstations.dev")}async function E(e){return(await fetch(e,{credentials:"include"})).ok}const k={};let _=!1;function T(e,t){if("undefined"===typeof window||"undefined"===typeof document||!S(window.location.host)||k[e]===t||k[e]||_)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{_=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function C(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function I(){var e;const t=null===(e=y())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function N(){return!I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){try{return"object"===typeof indexedDB}catch(e){return!1}}class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(O,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new P(n,s,t)}}const O=/\{\$([^}]+)}/g;function R(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(j(n)&&j(s)){if(!R(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j(e){return null!==e&&"object"===typeof e}function L(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function M(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function F(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class U{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function V(){}function z(e){return e&&e._delegate?e._delegate:e}class B{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const W="[DEFAULT]";class H{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new x;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:W})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===W?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.component?this.component.multipleInstances?e:W:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const K=[];var G;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(G||(G={}));const Q={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Y=G.INFO,X={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},$=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=X[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class J{constructor(e){this.name=e,this._logLevel=Y,this._logHandler=$,this._userLogHandler=null,K.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}let Z,ee;const te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,se=new WeakMap;let ae={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ne.get(e);if("objectStoreNames"===t)return e.objectStoreNames||re.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ce(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function oe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ue(this),n),ce(te.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ce(e.apply(ue(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ue(this),t,...r);return re.set(s,t.sort?t.sort():[t]),ce(s)}}function le(e){return"function"===typeof e?oe(e):(e instanceof IDBTransaction&&function(e){if(ne.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ne.set(e,t)}(e),t=e,(Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,ae):e);var t}function ce(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ce(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&te.set(t,e)})).catch((()=>{})),se.set(t,e),t}(e);if(ie.has(e))return ie.get(e);const t=le(e);return t!==e&&(ie.set(e,t),se.set(t,e)),t}const ue=e=>se.get(e);const he=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],fe=new Map;function pe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(fe.get(t))return fe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=de.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!he.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return fe.set(t,s),s}ae=(e=>u(u({},e),{},{get:(t,n,r)=>pe(t,n)||e.get(t,n,r),has:(t,n)=>!!pe(t,n)||e.has(t,n)}))(ae);class me{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ge="@firebase/app",ye="0.13.1",ve=new J("@firebase/app"),be="@firebase/app-compat",we="@firebase/analytics-compat",xe="@firebase/analytics",Se="@firebase/app-check-compat",Ee="@firebase/app-check",ke="@firebase/auth",_e="@firebase/auth-compat",Te="@firebase/database",Ce="@firebase/data-connect",Ie="@firebase/database-compat",Ne="@firebase/functions",Ae="@firebase/functions-compat",Pe="@firebase/installations",De="@firebase/installations-compat",Oe="@firebase/messaging",Re="@firebase/messaging-compat",je="@firebase/performance",Le="@firebase/performance-compat",Me="@firebase/remote-config",Fe="@firebase/remote-config-compat",Ue="@firebase/storage",Ve="@firebase/storage-compat",ze="@firebase/firestore",Be="@firebase/ai",We="@firebase/firestore-compat",He="firebase",qe="[DEFAULT]",Ke={[ge]:"fire-core",[be]:"fire-core-compat",[xe]:"fire-analytics",[we]:"fire-analytics-compat",[Ee]:"fire-app-check",[Se]:"fire-app-check-compat",[ke]:"fire-auth",[_e]:"fire-auth-compat",[Te]:"fire-rtdb",[Ce]:"fire-data-connect",[Ie]:"fire-rtdb-compat",[Ne]:"fire-fn",[Ae]:"fire-fn-compat",[Pe]:"fire-iid",[De]:"fire-iid-compat",[Oe]:"fire-fcm",[Re]:"fire-fcm-compat",[je]:"fire-perf",[Le]:"fire-perf-compat",[Me]:"fire-rc",[Fe]:"fire-rc-compat",[Ue]:"fire-gcs",[Ve]:"fire-gcs-compat",[ze]:"fire-fst",[We]:"fire-fst-compat",[Be]:"fire-vertex","fire-js":"fire-js",[He]:"fire-js-all"},Ge=new Map,Qe=new Map,Ye=new Map;function Xe(e,t){try{e.container.addComponent(t)}catch(n){ve.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $e(e){const t=e.name;if(Ye.has(t))return ve.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ye.set(t,e);for(const n of Ge.values())Xe(n,e);for(const n of Qe.values())Xe(n,e);return!0}function Je(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ze(e){return null!==e&&void 0!==e&&void 0!==e.settings}const et=new D("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new B("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw et.create("app-deleted",{appName:this._name})}}const nt="11.9.0";function rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:qe,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw et.create("bad-app-name",{appName:String(i)});if(n||(n=b()),!n)throw et.create("no-options");const s=Ge.get(i);if(s){if(R(n,s.options)&&R(r,s.config))return s;throw et.create("duplicate-app",{appName:i})}const a=new q(i);for(const l of Ye.values())a.addComponent(l);const o=new tt(n,r,a);return Ge.set(i,o),o}function it(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;const t=Ge.get(e);if(!t&&e===qe&&b())return rt();if(!t)throw et.create("no-app",{appName:e});return t}function st(e,t,n){var r;let i=null!==(r=Ke[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ve.warn(e.join(" "))}$e(new B("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const at="firebase-heartbeat-store";let ot=null;function lt(){return ot||(ot=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ce(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(ce(a.result),e.oldVersion,e.newVersion,ce(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(at)}catch(n){console.warn(n)}}}).catch((e=>{throw et.create("idb-open",{originalErrorMessage:e.message})}))),ot}async function ct(e,t){try{const n=(await lt()).transaction(at,"readwrite"),r=n.objectStore(at);await r.put(t,ut(e)),await n.done}catch(n){if(n instanceof P)ve.warn(n.message);else{const e=et.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ve.warn(e.message)}}}function ut(e){return"".concat(e.name,"!").concat(e.options.appId)}class ht{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ft(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dt();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ve.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=dt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),pt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ve.warn(t),""}}}function dt(){return(new Date).toISOString().substring(0,10)}class ft{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!A()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await lt()).transaction(at),n=await t.objectStore(at).get(ut(e));return await t.done,n}catch(t){if(t instanceof P)ve.warn(t.message);else{const e=et.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ve.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pt(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var mt;mt="",$e(new B("platform-logger",(e=>new me(e)),"PRIVATE")),$e(new B("heartbeat",(e=>new ht(e)),"PRIVATE")),st(ge,ye,mt),st(ge,ye,"esm2017"),st("fire-js","");st("firebase","11.9.1","app");function gt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vt=yt,bt=new D("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wt=new J("@firebase/auth");function xt(e){if(wt.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wt.error("Auth (".concat(nt,"): ").concat(e),...n)}}function St(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Tt(e,...n)}function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tt(e,...n)}function kt(e,t,n){const r=Object.assign(Object.assign({},vt()),{[t]:n});return new D("auth","Firebase",r).create(t,{appName:e.name})}function _t(e){return kt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return bt.create(e,...n)}function Ct(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Tt(t,...r)}}function It(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xt(t),new Error(t)}function Nt(e,t){e||It(t)}function At(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pt(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ot(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ot()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jt(e,t){Nt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Lt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ft=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ut=new Rt(3e4,6e4);function Vt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zt(e,t,n,r){return Bt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=L(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&S(e.emulatorConfig.host)&&(l.credentials="include"),Lt.fetch()(await Ht(e,e.config.apiHost,n,a),l)}))}async function Bt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mt),t);try{const t=new Kt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Gt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Gt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Gt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Gt(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw kt(e,o,a);St(e,o)}}catch(i){if(i instanceof P)throw i;St(e,"network-request-failed",{message:String(i)})}}async function Wt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await zt(e,t,n,r,i);return"mfaPendingCredential"in s&&St(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ht(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?jt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Ft.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function qt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Et(this.auth,"network-request-failed"))),Ut.get())}))}}function Gt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Et(e,t,r);return i.customData._tokenResponse=n,i}function Qt(e){return void 0!==e&&void 0!==e.enterprise}class Yt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xt(e,t){return zt(e,"GET","/v2/recaptchaConfig",Vt(e,t))}async function $t(e,t){return zt(e,"POST","/v1/accounts:lookup",t)}function Jt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Zt(e){return 1e3*Number(e)}function en(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const e=m(n);return e?JSON.parse(e):(xt("Failed to decode base64 JWT payload"),null)}catch(i){return xt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function tn(e){const t=en(e);return Ct(t,"internal-error"),Ct("undefined"!==typeof t.exp,"internal-error"),Ct("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function nn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof P&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class rn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class sn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jt(this.lastLoginAt),this.creationTime=Jt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function an(e){var t;const n=e.auth,r=await e.getIdToken(),i=await nn(e,$t(n,{idToken:r}));Ct(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?on(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new sn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function on(e){return e.map((e=>{var{providerId:t}=e,n=gt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ln{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct("undefined"!==typeof e.idToken,"internal-error"),Ct("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):tn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ct(0!==e.length,"internal-error");const t=tn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Bt(e,{},(async()=>{const n=L({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Ht(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&S(e.emulatorConfig.host)&&(o.credentials="include"),Lt.fetch()(s,o)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ln;return n&&(Ct("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ct("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ct("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ln,this.toJSON())}_performRefresh(){return It("not implemented")}}function cn(e,t){Ct("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class un{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=gt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await nn(this,this.stsTokenManager.getToken(this.auth,e));return Ct(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=z(e),r=await n.getIdToken(t),i=en(r);Ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jt(Zt(i.auth_time)),issuedAtTime:Jt(Zt(i.iat)),expirationTime:Jt(Zt(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=z(e);await an(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await an(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ze(this.auth.app))return Promise.reject(_t(this.auth));const e=await this.getIdToken();return await nn(this,async function(e,t){return zt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;Ct(v&&S,e,"internal-error");const E=ln.fromJSON(this.name,S);Ct("string"===typeof v,e,"internal-error"),cn(u,e.name),cn(h,e.name),Ct("boolean"===typeof b,e,"internal-error"),Ct("boolean"===typeof w,e,"internal-error"),cn(d,e.name),cn(f,e.name),cn(p,e.name),cn(m,e.name),cn(g,e.name),cn(y,e.name);const k=new un({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ln;r.updateFromServerResponse(t);const i=new un({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await an(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ct(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?on(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new ln;a.updateFromIdToken(n);const o=new un({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new sn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const hn=new Map;function dn(e){Nt(e instanceof Function,"Expected a class definition");let t=hn.get(e);return t?(Nt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hn.set(e,t),t)}class fn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fn.type="NONE";const pn=fn;function mn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class gn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=mn(this.userKey,r.apiKey,i),this.fullPersistenceKey=mn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await $t(this.auth,{idToken:e}).catch((()=>{}));return t?un._fromGetAccountInfoResponse(this.auth,t,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new gn(dn(pn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||dn(pn);const s=mn(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await $t(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await un._fromGetAccountInfoResponse(e,r,t)}else n=un._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new gn(i,e,n)):new gn(i,e,n)}}function yn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(En(t))return"Blackberry";if(kn(t))return"Webos";if(bn(t))return"Safari";if((t.includes("chrome/")||wn(t))&&!t.includes("edge/"))return"Chrome";if(Sn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/firefox\//i.test(e)}function bn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:C()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/crios\//i.test(e)}function xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/iemobile/i.test(e)}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/android/i.test(e)}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/blackberry/i.test(e)}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/webos/i.test(e)}function _n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tn(){return function(){const e=C();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return _n(e)||Sn(e)||kn(e)||En(e)||/windows phone/i.test(e)||xn(e)}function In(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yn(C());break;case"Worker":t="".concat(yn(C()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(nt,"/").concat(r)}class Nn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class An{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Pn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new On(this),this.idTokenSubscription=new On(this),this.beforeStateQueue=new Nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dn(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await gn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $t(this,{idToken:e}),n=await un._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ze(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await an(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ze(this.app))return Promise.reject(_t(this));const t=e?z(e):null;return t&&Ct(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Ze(this.app)?Promise.reject(_t(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ze(this.app)?Promise.reject(_t(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(dn(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return zt(e,"GET","/v2/passwordPolicy",Vt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new An(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new D("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return zt(e,"POST","/v2/accounts:revokeToken",Vt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dn(e)||this._popupRedirectResolver;Ct(t,this,"argument-error"),this.redirectPersistenceManager=await gn.create(this,[dn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(wt.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wt.warn("Auth (".concat(nt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Dn(e){return z(e)}class On{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new U(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jn(e){return Rn.loadJS(e)}function Ln(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Mn{constructor(){this.enterprise=new Fn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Fn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Un="NO_RECAPTCHA";class Vn{constructor(e){this.type="recaptcha-enterprise",this.auth=Dn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Qt(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Un)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Mn).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Xt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Yt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Qt(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Rn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),jn(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function zn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Vn(e);let a;if(i)a=Un;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Bn(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await zn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await zn(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await zn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await zn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Wn(e){const t=Dn(e),n=await Xt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Yt(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Vn(t).verify()}}function Hn(e,t,n){const r=Dn(e);Ct(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=qn(t),{host:a,port:o}=function(e){const t=qn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Kn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Kn(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ct(R(c,r.config.emulator)&&R(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,S(a)?(E("".concat(s,"//").concat(a).concat(l)),T("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Kn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Gn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return It("not implemented")}_getIdTokenResponse(e){return It("not implemented")}_linkToIdToken(e,t){return It("not implemented")}_getReauthenticationResolver(e){return It("not implemented")}}async function Qn(e,t){return zt(e,"POST","/v1/accounts:signUp",t)}async function Yn(e,t){return Wt(e,"POST","/v1/accounts:signInWithPassword",Vt(e,t))}class Xn extends Gn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xn(e,t,"password")}static _fromEmailAndCode(e,t){return new Xn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Bn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Yn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithEmailLink",Vt(e,t))}(e,{email:this._email,oobCode:this._password});default:St(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Bn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithEmailLink",Vt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:St(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $n(e,t){return Wt(e,"POST","/v1/accounts:signInWithIdp",Vt(e,t))}class Jn extends Gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):St("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=gt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Jn(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return $n(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$n(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$n(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=L(t)}return e}}async function Zn(e,t){return zt(e,"POST","/v1/accounts:sendVerificationCode",Vt(e,t))}const er={USER_NOT_FOUND:"user-not-found"};class tr extends Gn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new tr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Vt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Vt(e,t));if(n.temporaryProof)throw Gt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Vt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),er)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new tr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class nr{constructor(e){var t,n,r,i,s,a;const o=M(F(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Ct(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=M(F(e)).link,n=t?M(F(t)).deep_link_id:null,r=M(F(e)).deep_link_id;return(r?M(F(r)).link:null)||r||n||t||e}(e);try{return new nr(t)}catch(n){return null}}}class rr{constructor(){this.providerId=rr.PROVIDER_ID}static credential(e,t){return Xn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=nr.parseLink(t);return Ct(n,"argument-error"),Xn._fromEmailAndCode(e,n.code,n.tenantId)}}rr.PROVIDER_ID="password",rr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ir{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sr extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends sr{constructor(){super("facebook.com")}static credential(e){return Jn._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch(n){return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com",ar.PROVIDER_ID="facebook.com";class or extends sr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jn._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return or.credential(n,r)}catch(i){return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com",or.PROVIDER_ID="google.com";class lr extends sr{constructor(){super("github.com")}static credential(e){return Jn._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch(n){return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com",lr.PROVIDER_ID="github.com";class cr extends sr{constructor(){super("twitter.com")}static credential(e,t){return Jn._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cr.credential(n,r)}catch(i){return null}}}async function ur(e,t){return Wt(e,"POST","/v1/accounts:signUp",Vt(e,t))}cr.TWITTER_SIGN_IN_METHOD="twitter.com",cr.PROVIDER_ID="twitter.com";class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await un._fromIdTokenResponse(e,n,r),s=dr(n);return new hr({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=dr(n);return new hr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function dr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fr extends P{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fr(e,t,n,r)}}function pr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw fr._fromErrorAndOperation(e,n,t,r);throw n}))}async function mr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await nn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hr._forOperation(e,"link",r)}async function gr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ze(r.app))return Promise.reject(_t(r));const i="reauthenticate";try{const s=await nn(e,pr(r,i,t,e),n);Ct(s.idToken,r,"internal-error");const a=en(s.idToken);Ct(a,r,"internal-error");const{sub:o}=a;return Ct(e.uid===o,r,"user-mismatch"),hr._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&St(r,"user-mismatch"),s}}async function yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ze(e.app))return Promise.reject(_t(e));const r="signIn",i=await pr(e,r,t),s=await hr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function vr(e,t){return zt(e,"POST","/v2/accounts/mfaEnrollment:start",Vt(e,t))}new WeakMap;const br="__sak";class wr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(br,"1"),this.storage.removeItem(br),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class xr extends wr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Tn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xr.type="LOCAL";const Sr=xr;function Er(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function kr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class _r{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=kr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Er(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=kr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=kr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Er(n);const i=setInterval((()=>{const e=Er(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}_r.type="COOKIE";class Tr extends wr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tr.type="SESSION";const Cr=Tr;class Ir{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ir(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ir.receivers=[];class Ar{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Nr("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Pr(){return window}function Dr(){return"undefined"!==typeof Pr().WorkerGlobalScope&&"function"===typeof Pr().importScripts}const Or="firebaseLocalStorageDb",Rr="firebaseLocalStorage",jr="fbase_key";class Lr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Mr(e,t){return e.transaction([Rr],t?"readwrite":"readonly").objectStore(Rr)}function Fr(){const e=indexedDB.open(Or,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Rr,{keyPath:jr})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Rr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Or);return new Lr(e).toPromise()}(),t(await Fr()))}))}))}async function Ur(e,t,n){const r=Mr(e,!0).put({[jr]:t,value:n});return new Lr(r).toPromise()}function Vr(e,t){const n=Mr(e,!0).delete(t);return new Lr(n).toPromise()}class zr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Fr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ir._getInstance(Dr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ar(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fr();return await Ur(e,br,"1"),await Vr(e,br),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ur(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Mr(e,!1).get(t),r=await new Lr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Vr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Mr(e,!1).getAll();return new Lr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zr.type="LOCAL";const Br=zr;function Wr(e,t){return zt(e,"POST","/v2/accounts/mfaSignIn:start",Vt(e,t))}Ln("rcb"),new Rt(3e4,6e4);const Hr="recaptcha";async function qr(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Wn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Ct("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Un){Ct((null===n||void 0===n?void 0:n.type)===Hr,e,"argument-error");return vr(e,await Kr(e,t,n))}return vr(e,t)},a=Bn(e,r,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Ct("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ct(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Un){Ct((null===n||void 0===n?void 0:n.type)===Hr,e,"argument-error");return Wr(e,await Kr(e,t,n))}return Wr(e,t)},l=Bn(e,a,"mfaSmsSignIn",o,"PHONE_PROVIDER");return(await l.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===Un){Ct((null===n||void 0===n?void 0:n.type)===Hr,e,"argument-error");return Zn(e,await Kr(e,t,n))}return Zn(e,t)},s=Bn(e,t,"sendVerificationCode",r,"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Kr(e,t,n){Ct(n.type===Hr,e,"argument-error");const r=await n.verify();Ct("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Gr{constructor(e){this.providerId=Gr.PROVIDER_ID,this.auth=Dn(e)}verifyPhoneNumber(e,t){return qr(this.auth,e,z(t))}static credential(e,t){return tr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gr.credentialFromTaggedObject(t)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?tr._fromTokenResponse(n,r):null}}function Qr(e,t){return t?dn(t):(Ct(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gr.PROVIDER_ID="phone",Gr.PHONE_SIGN_IN_METHOD="phone";class Yr extends Gn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $n(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $n(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $n(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xr(e){return yr(e.auth,new Yr(e),e.bypassAuthState)}function $r(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),gr(n,new Yr(e),e.bypassAuthState)}async function Jr(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),mr(n,new Yr(e),e.bypassAuthState)}class Zr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xr;case"linkViaPopup":case"linkViaRedirect":return Jr;case"reauthViaPopup":case"reauthViaRedirect":return $r;default:St(this.auth,"internal-error")}}resolve(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ei=new Rt(2e3,1e4);class ti extends Zr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ti.currentPopupAction&&ti.currentPopupAction.cancel(),ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){Nt(1===this.filter.length,"Popup operations only handle one event");const e=Nr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Et(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Et(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ei.get())};e()}}ti.currentPopupAction=null;const ni=new Map;class ri extends Zr{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ni.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ai(t),r=si(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ni.set(this.auth._key(),e)}return this.bypassAuthState||ni.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ii(e,t){ni.set(e._key(),t)}function si(e){return dn(e._redirectPersistence)}function ai(e){return mn("pendingRedirect",e.config.apiKey,e.name)}async function oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ze(e.app))return Promise.reject(_t(e));const r=Dn(e),i=Qr(r,t),s=new ri(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class li{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ui(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ui(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Et(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ci(e))}saveEventToCache(e){this.cachedEventUids.add(ci(e)),this.lastProcessedEventTime=Date.now()}}function ci(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ui(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const hi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,di=/^https?/;async function fi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return zt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(pi(r))return}catch(n){}St(e,"unauthorized-domain")}function pi(e){const t=At(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!di.test(n))return!1;if(hi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const mi=new Rt(3e4,6e4);function gi(){const e=Pr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function yi(e){return new Promise(((t,n)=>{var r,i,s;function a(){gi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gi(),n(Et(e,"network-request-failed"))},timeout:mi.get()})}if(null===(i=null===(r=Pr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Pr().gapi)||void 0===s?void 0:s.load)){const t=Ln("iframefcb");return Pr()[t]=()=>{gapi.load?a():n(Et(e,"network-request-failed"))},jn("".concat(Rn.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw vi=null,e}))}let vi=null;const bi=new Rt(5e3,15e3),wi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Si(e){const t=e.config;Ct(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?jt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:nt},i=xi.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(L(r).slice(1))}async function Ei(e){const t=await function(e){return vi=vi||yi(e),vi}(e),n=Pr().gapi;return Ct(n,e,"internal-error"),t.open({where:document.body,url:Si(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wi,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Et(e,"network-request-failed"),s=Pr().setTimeout((()=>{r(i)}),bi.get());function a(){Pr().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const ki={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _i{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ti(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ki),{width:r.toString(),height:i.toString(),top:s,left:a}),c=C().toLowerCase();n&&(o=wn(c)?"_blank":n),vn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return _n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:C())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new _i(null);const h=window.open(t||"",o,u);Ct(h,e,"popup-blocked");try{h.focus()}catch(d){}return new _i(h)}const Ci="__/auth/handler",Ii="emulator/auth/handler",Ni=encodeURIComponent("fac");async function Ai(e,t,n,r,i,s){Ct(e.config.authDomain,e,"auth-domain-config-required"),Ct(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nt,eventId:i};if(t instanceof ir){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof sr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ni,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ci);return jt(t,Ii)}(e),"?").concat(L(o).slice(1)).concat(c)}const Pi="webStorageSupport";const Di=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cr,this._completeRedirectFn=oi,this._overrideRedirectResult=ii}async _openPopup(e,t,n,r){var i;Nt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ti(e,await Ai(e,t,n,At(),r),Nr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Pr().location.href=e}(await Ai(e,t,n,At(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Nt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ei(e),n=new li(e);return t.register("authEvent",(t=>{Ct(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pi,{type:Pi},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Pi];void 0!==i&&t(!!i),St(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cn()||bn()||_n()}};var Oi="@firebase/auth",Ri="1.10.7";class ji{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Li=w("authIdTokenMaxAge")||300;let Mi=null;var Fi;Rn={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Et("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Fi="Browser",$e(new B("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ct(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Fi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(Fi)},c=new Pn(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),$e(new B("auth-internal",(e=>(e=>new ji(e))(Dn(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),st(Oi,Ri,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Fi)),st(Oi,Ri,"esm2017");var Ui,Vi,zi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Vi=Bi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Ui=Bi.Integer=r}).apply("undefined"!==typeof zi?zi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Wi,Hi,qi,Ki,Gi,Qi,Yi,Xi,$i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ji={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof $i&&$i];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){E(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function D(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}h(j,O);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=W(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function $(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;x(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,D),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}h(le,D);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}h(ve,O),h(be,O);var we={},xe=null;function Se(){return xe=xe||new ne}function Ee(e){O.call(this,we.La,e)}function ke(e){const t=Se();re(t,new Ee(t))}function _e(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new _e(t,e))}function Ce(e,t){O.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Ee,O),we.STAT_EVENT="statevent",h(_e,O),we.Ma="timingevent",h(Ce,O),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Pe=new Re;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),We(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Xt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),We(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==d&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Ae(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(h),h.M=!0,Te(11))}}else Ae(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ae(this.i,this.l,o,null),Qe(this,o);4==d&&Ge(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(d){}},je.prototype.cancel=function(){this.J=!0,Ge(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),_t(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function _t(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(At,pe),At.prototype.g=function(){return new Pt(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Rt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Wt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Wt(e)}}}function Wt(e,t){if(e.g){Ht(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if($t(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new je(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}hn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function $t(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),I||(C(),I=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Nt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),I||(C(),I=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),$t(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Wt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(jt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Xi=Ji.createWebChannelTransport=function(){return new mn},Yi=Ji.getStatEventTarget=function(){return Se()},Qi=Ji.Event=we,Gi=Ji.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,Ki=Ji.ErrorCode=De,Oe.COMPLETE="complete",qi=Ji.EventType=Oe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Hi=Ji.WebChannel=ge,Ji.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Wi=Ji.XhrIo=Mt}).apply("undefined"!==typeof $i?$i:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Zi="@firebase/firestore",es="4.7.17";class ts{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");let ns="11.9.0";const rs=new J("@firebase/firestore");function is(){return rs.logLevel}function ss(e){if(rs.logLevel<=G.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ls);rs.debug("Firestore (".concat(ns,"): ").concat(e),...i)}}function as(e){if(rs.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ls);rs.error("Firestore (".concat(ns,"): ").concat(e),...i)}}function os(e){if(rs.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ls);rs.warn("Firestore (".concat(ns,"): ").concat(e),...i)}}function ls(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function cs(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,us(e,r,n)}function us(e,t,n){let r="FIRESTORE (".concat(ns,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw as(r),new Error(r)}function hs(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||us(t,i,r)}function ds(e,t){return e}const fs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ps extends P{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ms{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class gs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ys{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ts.UNAUTHENTICATED)))}shutdown(){}}class vs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bs{constructor(e){this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){hs(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ms,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{ss("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ss("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ms)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ss("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(hs("string"==typeof t.accessToken,31837,{l:t}),new gs(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hs(null===e||"string"==typeof e,2055,{h:e}),new ts(e)}}class ws{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xs{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ws(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ts.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ss{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Es{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ze(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){hs(void 0===this.o,3512);const n=e=>{null!=e.error&&ss("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,ss("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ss("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ss("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ss(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(hs("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ss(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ks(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function _s(){return new TextEncoder}class Ts{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ks(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Cs(e,t){return e<t?-1:e>t?1:0}function Is(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Cs(r,i);{const s=_s(),a=As(s.encode(Ns(e,n)),s.encode(Ns(t,n)));return 0!==a?a:Cs(r,i)}}n+=r>65535?2:1}return Cs(e.length,t.length)}function Ns(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function As(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Cs(e[n],t[n]);return Cs(e.length,t.length)}function Ps(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Ds=-62135596800,Os=1e6;class Rs{static now(){return Rs.fromMillis(Date.now())}static fromDate(e){return Rs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Os);return new Rs(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ds)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Os}_compareTo(e){return this.seconds===e.seconds?Cs(this.nanoseconds,e.nanoseconds):Cs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ds;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class js{static fromTimestamp(e){return new js(e)}static min(){return new js(new Rs(0,0))}static max(){return new js(new Rs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ls="__name__";class Ms{constructor(e,t,n){void 0===t?t=0:t>e.length&&cs(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&cs(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ms.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ms.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Cs(e.length,t.length)}static compareSegments(e,t){const n=Ms.isNumericId(e),r=Ms.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ms.extractNumericId(e).compare(Ms.extractNumericId(t)):Is(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class Fs extends Ms{construct(e,t,n){return new Fs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ps(fs.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Fs(e)}static emptyPath(){return new Fs([])}}const Us=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vs extends Ms{construct(e,t,n){return new Vs(e,t,n)}static isValidIdentifier(e){return Us.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ls}static keyField(){return new Vs([Ls])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ps(fs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ps(fs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ps(fs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vs(t)}static emptyPath(){return new Vs([])}}class zs{constructor(e){this.path=e}static fromPath(e){return new zs(Fs.fromString(e))}static fromName(e){return new zs(Fs.fromString(e).popFirst(5))}static empty(){return new zs(Fs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zs(new Fs(e.slice()))}}const Bs=-1;class Ws{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ws.UNKNOWN_ID=-1;function Hs(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=js.fromTimestamp(1e9===r?new Rs(n+1,0):new Rs(n,r));return new Ks(i,zs.empty(),t)}function qs(e){return new Ks(e.readTime,e.key,Bs)}class Ks{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ks(js.min(),zs.empty(),Bs)}static max(){return new Ks(js.max(),zs.empty(),Bs)}}function Gs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zs.comparator(e.documentKey,t.documentKey),0!==n?n:Cs(e.largestBatchId,t.largestBatchId))}const Qs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ys{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xs(e){if(e.code!==fs.FAILED_PRECONDITION||e.message!==Qs)throw e;ss("LocalStore","Unexpectedly lost primary lease")}class $s{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&cs(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $s(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $s?t:$s.resolve(t)}catch(e){return $s.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$s.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$s.reject(t)}static resolve(e){return new $s(((t,n)=>{t(e)}))}static reject(e){return new $s(((t,n)=>{n(e)}))}static waitFor(e){return new $s(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=$s.resolve(!1);for(const n of e)t=t.next((e=>e?$s.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $s(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new $s(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Js(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zs(e){return"IndexedDbTransactionError"===e.name}class ea{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ea.le=-1;const ta=-1;function na(e){return null==e}function ra(e){return 0===e&&1/e==-1/0}function ia(e){return"number"==typeof e&&Number.isInteger(e)&&!ra(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const sa="\x01";function aa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=la(t)),t=oa(e.get(n),t);return la(t)}function oa(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case sa:n+="\x01\x11";break;default:n+=t}}return n}function la(e){return e+sa+"\x01"}const ca="remoteDocuments",ua="owner",ha="mutationQueues",da="mutations";const fa="documentMutations",pa="remoteDocumentsV14",ma="remoteDocumentGlobal",ga="targets",ya="targetDocuments",va="targetGlobal",ba="collectionParents",wa="clientMetadata",xa="bundles",Sa="namedQueries",Ea="indexConfiguration",ka="indexState",_a="indexEntries",Ta="documentOverlays",Ca="globals",Ia=[ha,da,fa,ca,ga,ua,va,ya,wa,ma,ba,xa,Sa],Na=[ha,da,fa,pa,ga,ua,va,ya,wa,ma,ba,xa,Sa,Ta],Aa=Na,Pa=[...Aa,Ea,ka,_a];function Da(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Oa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ra(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ja{constructor(e,t){this.comparator=e,this.root=t||Ma.EMPTY}insert(e,t){return new ja(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ma.BLACK,null,null))}remove(e){return new ja(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ma.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new La(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new La(this.root,e,this.comparator,!1)}getReverseIterator(){return new La(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new La(this.root,e,this.comparator,!0)}}class La{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ma{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ma.RED,this.left=null!=r?r:Ma.EMPTY,this.right=null!=i?i:Ma.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ma(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ma.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ma.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ma.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ma.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw cs(43730,{key:this.key,value:this.value});if(this.right.isRed())throw cs(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw cs(27949);return e+(this.isRed()?0:1)}}Ma.EMPTY=null,Ma.RED=!0,Ma.BLACK=!1,Ma.EMPTY=new class{constructor(){this.size=0}get key(){throw cs(57766)}get value(){throw cs(16141)}get color(){throw cs(16727)}get left(){throw cs(29726)}get right(){throw cs(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ma(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fa{constructor(e){this.comparator=e,this.data=new ja(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ua(this.data.getIterator())}getIteratorFrom(e){return new Ua(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Fa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Fa(this.comparator);return t.data=e,t}}class Ua{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Va{constructor(e){this.fields=e,e.sort(Vs.comparator)}static empty(){return new Va([])}unionWith(e){let t=new Fa(Vs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class za extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ba{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new za("Invalid base64 string: "+e):e}}(e);return new Ba(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ba(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ba.EMPTY_BYTE_STRING=new Ba("");const Wa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(e){if(hs(!!e,39018),"string"==typeof e){let t=0;const n=Wa.exec(e);if(hs(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qa(e.seconds),nanos:qa(e.nanos)}}function qa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ka(e){return"string"==typeof e?Ba.fromBase64String(e):Ba.fromUint8Array(e)}const Ga="server_timestamp",Qa="__type__",Ya="__previous_value__",Xa="__local_write_time__";function $a(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Qa])||void 0===n?void 0:n.stringValue)===Ga}function Ja(e){const t=e.mapValue.fields[Ya];return $a(t)?Ja(t):t}function Za(e){const t=Ha(e.mapValue.fields[Xa].timestampValue);return new Rs(t.seconds,t.nanos)}class eo{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const to="(default)";class no{constructor(e,t){this.projectId=e,this.database=t||to}static empty(){return new no("","")}get isDefaultDatabase(){return this.database===to}isEqual(e){return e instanceof no&&e.projectId===this.projectId&&e.database===this.database}}const ro="__type__",io="__max__",so={mapValue:{fields:{__type__:{stringValue:io}}}},ao="__vector__",oo="value";function lo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$a(e)?4:To(e)?9007199254740991:ko(e)?10:11:cs(28295,{value:e})}function co(e,t){if(e===t)return!0;const n=lo(e);if(n!==lo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Za(e).isEqual(Za(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ha(e.timestampValue),r=Ha(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ka(e.bytesValue).isEqual(Ka(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qa(e.geoPointValue.latitude)===qa(t.geoPointValue.latitude)&&qa(e.geoPointValue.longitude)===qa(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qa(e.integerValue)===qa(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=qa(e.doubleValue),r=qa(t.doubleValue);return n===r?ra(n)===ra(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ps(e.arrayValue.values||[],t.arrayValue.values||[],co);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Da(n)!==Da(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!co(n[i],r[i])))return!1;return!0}(e,t);default:return cs(52216,{left:e})}}function uo(e,t){return void 0!==(e.values||[]).find((e=>co(e,t)))}function ho(e,t){if(e===t)return 0;const n=lo(e),r=lo(t);if(n!==r)return Cs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=qa(e.integerValue||e.doubleValue),r=qa(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fo(e.timestampValue,t.timestampValue);case 4:return fo(Za(e),Za(t));case 5:return Is(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ka(e),r=Ka(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cs(n[i],r[i]);if(0!==e)return e}return Cs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cs(qa(e.latitude),qa(t.latitude));return 0!==n?n:Cs(qa(e.longitude),qa(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return po(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[oo])||void 0===n?void 0:n.arrayValue,c=null===(r=o[oo])||void 0===r?void 0:r.arrayValue,u=Cs((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:po(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===so.mapValue&&t===so.mapValue)return 0;if(e===so.mapValue)return 1;if(t===so.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Is(r[a],s[a]);if(0!==e)return e;const t=ho(n[r[a]],i[s[a]]);if(0!==t)return t}return Cs(r.length,s.length)}(e.mapValue,t.mapValue);default:throw cs(23264,{Pe:n})}}function fo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cs(e,t);const n=Ha(e),r=Ha(t),i=Cs(n.seconds,r.seconds);return 0!==i?i:Cs(n.nanos,r.nanos)}function po(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ho(n[i],r[i]);if(e)return e}return Cs(n.length,r.length)}function mo(e){return go(e)}function go(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ha(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ka(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return zs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=go(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(go(e.fields[i]));return n+"}"}(e.mapValue):cs(61005,{value:e})}function yo(e){switch(lo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ja(e);return t?16+yo(t):16;case 5:return 2*e.stringValue.length;case 6:return Ka(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+yo(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Oa(e.fields,((e,n)=>{t+=e.length+yo(n)})),t}(e.mapValue);default:throw cs(13486,{value:e})}}function vo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function bo(e){return!!e&&"integerValue"in e}function wo(e){return!!e&&"arrayValue"in e}function xo(e){return!!e&&"nullValue"in e}function So(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Eo(e){return!!e&&"mapValue"in e}function ko(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ro])||void 0===n?void 0:n.stringValue)===ao}function _o(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Oa(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=_o(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_o(e.arrayValue.values[n]);return t}return Object.assign({},e)}function To(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===io}class Co{constructor(e){this.value=e}static empty(){return new Co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Eo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(t)}setAll(e){let t=Vs.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=_o(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Eo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Eo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Oa(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Co(_o(this.value))}}function Io(e){const t=[];return Oa(e.fields,((e,n)=>{const r=new Vs([e]);if(Eo(n)){const e=Io(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Va(t)}class No{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new No(e,0,js.min(),js.min(),js.min(),Co.empty(),0)}static newFoundDocument(e,t,n,r){return new No(e,1,t,js.min(),n,r,0)}static newNoDocument(e,t){return new No(e,2,t,js.min(),js.min(),Co.empty(),0)}static newUnknownDocument(e,t){return new No(e,3,t,js.min(),js.min(),Co.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(js.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=js.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof No&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new No(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ao{constructor(e,t){this.position=e,this.inclusive=t}}function Po(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?zs.comparator(zs.fromName(a.referenceValue),n.key):ho(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Do(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!co(e.position[n],t.position[n]))return!1;return!0}class Oo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ro(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class jo{}class Lo extends jo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ho(e,t,n):"array-contains"===t?new Qo(e,n):"in"===t?new Yo(e,n):"not-in"===t?new Xo(e,n):"array-contains-any"===t?new $o(e,n):new Lo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new qo(e,n):new Ko(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ho(t,this.value)):null!==t&&lo(this.value)===lo(t)&&this.matchesComparison(ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cs(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mo extends jo{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Mo(e,t)}matches(e){return Fo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Fo(e){return"and"===e.op}function Uo(e){return Vo(e)&&Fo(e)}function Vo(e){for(const t of e.filters)if(t instanceof Mo)return!1;return!0}function zo(e){if(e instanceof Lo)return e.field.canonicalString()+e.op.toString()+mo(e.value);if(Uo(e))return e.filters.map((e=>zo(e))).join(",");{const t=e.filters.map((e=>zo(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Bo(e,t){return e instanceof Lo?function(e,t){return t instanceof Lo&&e.op===t.op&&e.field.isEqual(t.field)&&co(e.value,t.value)}(e,t):e instanceof Mo?function(e,t){return t instanceof Mo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Bo(n,t.filters[r])),!0)}(e,t):void cs(19439)}function Wo(e){return e instanceof Lo?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(mo(e.value))}(e):e instanceof Mo?function(e){return e.op.toString()+" {"+e.getFilters().map(Wo).join(" ,")+"}"}(e):"Filter"}class Ho extends Lo{constructor(e,t,n){super(e,t,n),this.key=zs.fromName(n.referenceValue)}matches(e){const t=zs.comparator(e.key,this.key);return this.matchesComparison(t)}}class qo extends Lo{constructor(e,t){super(e,"in",t),this.keys=Go("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ko extends Lo{constructor(e,t){super(e,"not-in",t),this.keys=Go("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Go(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>zs.fromName(e.referenceValue)))}class Qo extends Lo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wo(t)&&uo(t.arrayValue,this.value)}}class Yo extends Lo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uo(this.value.arrayValue,t)}}class Xo extends Lo{constructor(e,t){super(e,"not-in",t)}matches(e){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!uo(this.value.arrayValue,t)}}class $o extends Lo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>uo(this.value.arrayValue,e)))}}class Jo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Ie=null}}function Zo(e){return new Jo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function el(e){const t=ds(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>zo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),na(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>mo(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>mo(e))).join(",")),t.Ie=e}return t.Ie}function tl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ro(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Bo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Do(e.startAt,t.startAt)&&Do(e.endAt,t.endAt)}function nl(e){return zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class rl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function il(e,t,n,r,i,s,a,o){return new rl(e,t,n,r,i,s,a,o)}function sl(e){return new rl(e)}function al(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ol(e){return null!==e.collectionGroup}function ll(e){const t=ds(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Fa(Vs.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Oo(r,n))})),e.has(Vs.keyField().canonicalString())||t.Ee.push(new Oo(Vs.keyField(),n))}return t.Ee}function cl(e){const t=ds(e);return t.de||(t.de=ul(t,ll(e))),t.de}function ul(e,t){if("F"===e.limitType)return Zo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Oo(e.field,t)}));const n=e.endAt?new Ao(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ao(e.startAt.position,e.startAt.inclusive):null;return Zo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function hl(e,t){const n=e.filters.concat([t]);return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function dl(e,t,n){return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fl(e,t){return tl(cl(e),cl(t))&&e.limitType===t.limitType}function pl(e){return"".concat(el(cl(e)),"|lt:").concat(e.limitType)}function ml(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Wo(e))).join(", "),"]")),na(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>mo(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>mo(e))).join(",")),"Target(".concat(t,")")}(cl(e)),"; limitType=").concat(e.limitType,")")}function gl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ll(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Po(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ll(e),t))&&!(e.endAt&&!function(e,t,n){const r=Po(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ll(e),t))}(e,t)}function yl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vl(e){return(t,n)=>{let r=!1;for(const i of ll(e)){const e=bl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function bl(e,t,n){const r=e.field.isKeyField()?zs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ho(r,i):cs(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cs(19790,{direction:e.dir})}}class wl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ra(this.inner)}size(){return this.innerSize}}const xl=new ja(zs.comparator);function Sl(){return xl}const El=new ja(zs.comparator);function kl(){let e=El;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function _l(e){let t=El;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Tl(){return Il()}function Cl(){return Il()}function Il(){return new wl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Nl=new ja(zs.comparator),Al=new Fa(zs.comparator);function Pl(){let e=Al;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Dl=new Fa(Cs);function Ol(){return Dl}function Rl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ra(t)?"-0":t}}function jl(e){return{integerValue:""+e}}function Ll(e,t){return ia(t)?jl(t):Rl(e,t)}class Ml{constructor(){this._=void 0}}function Fl(e,t,n){return e instanceof zl?function(e,t){const n={fields:{[Qa]:{stringValue:Ga},[Xa]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&$a(t)&&(t=Ja(t)),t&&(n.fields[Ya]=t),{mapValue:n}}(n,t):e instanceof Bl?Wl(e,t):e instanceof Hl?ql(e,t):function(e,t){const n=Vl(e,t),r=Gl(n)+Gl(e.Re);return bo(n)&&bo(e.Re)?jl(r):Rl(e.serializer,r)}(e,t)}function Ul(e,t,n){return e instanceof Bl?Wl(e,t):e instanceof Hl?ql(e,t):n}function Vl(e,t){return e instanceof Kl?function(e){return bo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class zl extends Ml{}class Bl extends Ml{constructor(e){super(),this.elements=e}}function Wl(e,t){const n=Ql(t);for(const r of e.elements)n.some((e=>co(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Hl extends Ml{constructor(e){super(),this.elements=e}}function ql(e,t){let n=Ql(t);for(const r of e.elements)n=n.filter((e=>!co(e,r)));return{arrayValue:{values:n}}}class Kl extends Ml{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Gl(e){return qa(e.integerValue||e.doubleValue)}function Ql(e){return wo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Yl{constructor(e,t){this.version=e,this.transformResults=t}}class Xl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xl}static exists(e){return new Xl(void 0,e)}static updateTime(e){return new Xl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $l(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Jl{}function Zl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new cc(e.key,Xl.none()):new ic(e.key,e.data,Xl.none());{const n=e.data,r=Co.empty();let i=new Fa(Vs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new sc(e.key,r,new Va(i.toArray()),Xl.none())}}function ec(e,t,n){e instanceof ic?function(e,t,n){const r=e.value.clone(),i=oc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sc?function(e,t,n){if(!$l(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=oc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ac(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function tc(e,t,n,r){return e instanceof ic?function(e,t,n,r){if(!$l(e.precondition,t))return n;const i=e.value.clone(),s=lc(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof sc?function(e,t,n,r){if(!$l(e.precondition,t))return n;const i=lc(e.fieldTransforms,r,t),s=t.data;return s.setAll(ac(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return $l(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function nc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Vl(r.transform,e||null);null!=i&&(null===n&&(n=Co.empty()),n.set(r.field,i))}return n||null}function rc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ps(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Bl&&t instanceof Bl||e instanceof Hl&&t instanceof Hl?Ps(e.elements,t.elements,co):e instanceof Kl&&t instanceof Kl?co(e.Re,t.Re):e instanceof zl&&t instanceof zl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ic extends Jl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sc extends Jl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ac(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function oc(e,t,n){const r=new Map;hs(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Ul(a,o,n[i]))}return r}function lc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Fl(e,s,t))}return r}class cc extends Jl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uc extends Jl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ec(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=tc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=tc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Cl();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Zl(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(js.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pl())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,((e,t)=>rc(e,t)))&&Ps(this.baseMutations,e.baseMutations,((e,t)=>rc(e,t)))}}class dc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){hs(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Nl;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new dc(e,t,n,r)}}class fc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class pc{constructor(e,t){this.count=e,this.unchangedNames=t}}var mc,gc;function yc(e){switch(e){case fs.OK:return cs(64938);case fs.CANCELLED:case fs.UNKNOWN:case fs.DEADLINE_EXCEEDED:case fs.RESOURCE_EXHAUSTED:case fs.INTERNAL:case fs.UNAVAILABLE:case fs.UNAUTHENTICATED:return!1;case fs.INVALID_ARGUMENT:case fs.NOT_FOUND:case fs.ALREADY_EXISTS:case fs.PERMISSION_DENIED:case fs.FAILED_PRECONDITION:case fs.ABORTED:case fs.OUT_OF_RANGE:case fs.UNIMPLEMENTED:case fs.DATA_LOSS:return!0;default:return cs(15467,{code:e})}}function vc(e){if(void 0===e)return as("GRPC error has no .code"),fs.UNKNOWN;switch(e){case mc.OK:return fs.OK;case mc.CANCELLED:return fs.CANCELLED;case mc.UNKNOWN:return fs.UNKNOWN;case mc.DEADLINE_EXCEEDED:return fs.DEADLINE_EXCEEDED;case mc.RESOURCE_EXHAUSTED:return fs.RESOURCE_EXHAUSTED;case mc.INTERNAL:return fs.INTERNAL;case mc.UNAVAILABLE:return fs.UNAVAILABLE;case mc.UNAUTHENTICATED:return fs.UNAUTHENTICATED;case mc.INVALID_ARGUMENT:return fs.INVALID_ARGUMENT;case mc.NOT_FOUND:return fs.NOT_FOUND;case mc.ALREADY_EXISTS:return fs.ALREADY_EXISTS;case mc.PERMISSION_DENIED:return fs.PERMISSION_DENIED;case mc.FAILED_PRECONDITION:return fs.FAILED_PRECONDITION;case mc.ABORTED:return fs.ABORTED;case mc.OUT_OF_RANGE:return fs.OUT_OF_RANGE;case mc.UNIMPLEMENTED:return fs.UNIMPLEMENTED;case mc.DATA_LOSS:return fs.DATA_LOSS;default:return cs(39323,{code:e})}}(gc=mc||(mc={}))[gc.OK=0]="OK",gc[gc.CANCELLED=1]="CANCELLED",gc[gc.UNKNOWN=2]="UNKNOWN",gc[gc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gc[gc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gc[gc.NOT_FOUND=5]="NOT_FOUND",gc[gc.ALREADY_EXISTS=6]="ALREADY_EXISTS",gc[gc.PERMISSION_DENIED=7]="PERMISSION_DENIED",gc[gc.UNAUTHENTICATED=16]="UNAUTHENTICATED",gc[gc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gc[gc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gc[gc.ABORTED=10]="ABORTED",gc[gc.OUT_OF_RANGE=11]="OUT_OF_RANGE",gc[gc.UNIMPLEMENTED=12]="UNIMPLEMENTED",gc[gc.INTERNAL=13]="INTERNAL",gc[gc.UNAVAILABLE=14]="UNAVAILABLE",gc[gc.DATA_LOSS=15]="DATA_LOSS";let bc=null;const wc=new Ui([4294967295,4294967295],0);function xc(e){const t=_s().encode(e),n=new Vi;return n.update(t),new Uint8Array(n.digest())}function Sc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ui([n,r],0),new Ui([i,s],0)]}class Ec{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new kc("Invalid padding: ".concat(t));if(n<0)throw new kc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new kc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new kc("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Ui.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Ui.fromNumber(n)));return 1===r.compare(wc)&&(r=new Ui([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=xc(e),[n,r]=Sc(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ec(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.pe)return;const t=xc(e),[n,r]=Sc(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _c{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _c(js.min(),r,new ja(Cs),Sl(),Pl())}}class Tc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Tc(n,t,Pl(),Pl(),Pl())}}class Cc{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Ic{constructor(e,t){this.targetId=e,this.Ce=t}}class Nc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ba.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ac{constructor(){this.Fe=0,this.Me=Oc(),this.xe=Ba.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pl(),t=Pl(),n=Pl();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cs(38017,{changeType:i})}})),new Tc(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Oc()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,hs(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Pc{constructor(e){this.ze=e,this.je=new Map,this.He=Sl(),this.Je=Dc(),this.Ye=Dc(),this.Ze=new ja(Cs)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:cs(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(nl(i))if(0===n){const e=new zs(i.path);this.tt(t,e,No.newNoDocument(e,js.min()))}else hs(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==bc||bc.ht(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Ka(n).toUint8Array()}catch(e){if(e instanceof za)return os("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ec(s,r,i)}catch(e){return os(e instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&nl(i.target)){const t=new zs(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,No.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=Pl();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new _c(e,t,this.Ze,this.He,n);return this.He=Sl(),this.Je=Dc(),this.Ye=Dc(),this.Ze=new ja(Cs),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ac,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Fa(Cs),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Fa(Cs),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||ss("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ac),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Dc(){return new ja(zs.comparator)}function Oc(){return new ja(zs.comparator)}const Rc={asc:"ASCENDING",desc:"DESCENDING"},jc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lc={and:"AND",or:"OR"};class Mc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fc(e,t){return e.useProto3Json||na(t)?t:{value:t}}function Uc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zc(e,t){return Uc(e,t.toTimestamp())}function Bc(e){return hs(!!e,49232),js.fromTimestamp(function(e){const t=Ha(e);return new Rs(t.seconds,t.nanos)}(e))}function Wc(e,t){return Hc(e,t).canonicalString()}function Hc(e,t){const n=function(e){return new Fs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function qc(e){const t=Fs.fromString(e);return hs(hu(t),10190,{key:t.toString()}),t}function Kc(e,t){return Wc(e.databaseId,t.path)}function Gc(e,t){const n=qc(t);if(n.get(1)!==e.databaseId.projectId)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zs($c(n))}function Qc(e,t){return Wc(e.databaseId,t)}function Yc(e){const t=qc(e);return 4===t.length?Fs.emptyPath():$c(t)}function Xc(e){return new Fs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $c(e){return hs(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Jc(e,t,n){return{name:Kc(e,t),fields:n.value.mapValue.fields}}function Zc(e,t){let n;if(t instanceof ic)n={update:Jc(e,t.key,t.value)};else if(t instanceof cc)n={delete:Kc(e,t.key)};else if(t instanceof sc)n={update:Jc(e,t.key,t.data),updateMask:uu(t.fieldMask)};else{if(!(t instanceof uc))return cs(16599,{ft:t.type});n={verify:Kc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof zl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Kl)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw cs(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cs(27497)}(e,t.precondition)),n}function eu(e,t){return{documents:[Qc(e,t.path)]}}function tu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qc(e,i);const s=function(e){if(0!==e.length)return cu(Mo.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ou(e.field),direction:iu(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Fc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function nu(e){let t=Yc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hs(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ru(e);return t instanceof Mo&&Uo(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Oo(lu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,na(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ao(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ao(n,t)}(n.endAt)),il(t,i,a,s,o,"F",l,c)}function ru(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lu(e.unaryFilter.field);return Lo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=lu(e.unaryFilter.field);return Lo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lu(e.unaryFilter.field);return Lo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lu(e.unaryFilter.field);return Lo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return cs(61313);default:return cs(60726)}}(e):void 0!==e.fieldFilter?function(e){return Lo.create(lu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return cs(58110);default:return cs(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Mo.create(e.compositeFilter.filters.map((e=>ru(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cs(1026)}}(e.compositeFilter.op))}(e):cs(30097,{filter:e})}function iu(e){return Rc[e]}function su(e){return jc[e]}function au(e){return Lc[e]}function ou(e){return{fieldPath:e.canonicalString()}}function lu(e){return Vs.fromServerFormat(e.fieldPath)}function cu(e){return e instanceof Lo?function(e){if("=="===e.op){if(So(e.value))return{unaryFilter:{field:ou(e.field),op:"IS_NAN"}};if(xo(e.value))return{unaryFilter:{field:ou(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(So(e.value))return{unaryFilter:{field:ou(e.field),op:"IS_NOT_NAN"}};if(xo(e.value))return{unaryFilter:{field:ou(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(e.field),op:su(e.op),value:e.value}}}(e):e instanceof Mo?function(e){const t=e.getFilters().map((e=>cu(e)));return 1===t.length?t[0]:{compositeFilter:{op:au(e.op),filters:t}}}(e):cs(54877,{filter:e})}function uu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function hu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class du{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:js.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:js.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ba.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fu{constructor(e){this.wt=e}}function pu(e){const t=nu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dl(t,t.limit,"L"):t}class mu{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(qa(e.integerValue));else if("doubleValue"in e){const n=qa(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),ra(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Ha(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ka(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?To(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):ko(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):cs(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=oo,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(qa(a)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),zs.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}mu.Wt=new mu;class gu{constructor(){this.Cn=new yu}addToCollectionParentIndex(e,t){return this.Cn.add(t),$s.resolve()}getCollectionParents(e,t){return $s.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return $s.resolve()}deleteFieldIndex(e,t){return $s.resolve()}deleteAllFieldIndexes(e){return $s.resolve()}createTargetIndexes(e,t){return $s.resolve()}getDocumentsMatchingTarget(e,t){return $s.resolve(null)}getIndexType(e,t){return $s.resolve(0)}getFieldIndexes(e,t){return $s.resolve([])}getNextCollectionGroupToUpdate(e){return $s.resolve(null)}getMinOffset(e,t){return $s.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return $s.resolve(Ks.min())}updateCollectionGroup(e,t,n){return $s.resolve()}updateIndexEntries(e,t){return $s.resolve()}}class yu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fa(Fs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Fa(Fs.comparator)).toArray()}}new Uint8Array(0);const vu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bu=41943040;class wu{static withCacheSize(e){return new wu(e,wu.DEFAULT_COLLECTION_PERCENTILE,wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}wu.DEFAULT_COLLECTION_PERCENTILE=10,wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wu.DEFAULT=new wu(bu,wu.DEFAULT_COLLECTION_PERCENTILE,wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wu.DISABLED=new wu(-1,0,0);class xu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new xu(0)}static lr(){return new xu(-1)}}const Su="LruGarbageCollector",Eu=1048576;function ku(e,t){let[n,r]=e,[i,s]=t;const a=Cs(n,i);return 0===a?Cs(r,s):a}class _u{constructor(e){this.Er=e,this.buffer=new Fa(ku),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ku(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Tu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){ss(Su,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zs(e)?ss(Su,"Ignoring IndexedDB error during garbage collection: ",e):await Xs(e)}await this.mr(3e5)}))}}class Cu{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return $s.resolve(ea.le);const n=new _u(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ss("LruGarbageCollector","Garbage collection skipped; disabled"),$s.resolve(vu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ss("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),vu):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ss("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),is()<=G.DEBUG&&ss("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),$s.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Iu(e,t){return new Cu(e,t)}class Nu{constructor(){this.changes=new wl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,No.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$s.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Au{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&tc(n.mutation,e,Va.empty(),Rs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Pl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pl();const r=Tl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=kl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Tl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Pl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Sl();const s=Il(),a=Il();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof sc)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),tc(a.mutation,t,a.mutation.getFieldMask(),Rs.now())):s.set(t.key,Va.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Au(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Il();let r=new ja(((e,t)=>e-t)),i=Pl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Va.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Pl()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Cl();l.forEach((e=>{if(!i.has(e)){const r=Zl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return $s.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ol(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):$s.resolve(Tl());let a=Bs,o=i;return s.next((t=>$s.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?$s.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Pl()))).next((e=>({batchId:a,changes:_l(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zs(t)).next((e=>{let t=kl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=kl();return this.indexManager.getCollectionParents(e,i).next((a=>$s.forEach(a,(a=>{const o=function(e,t){return new rl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,No.newInvalidDocument(r)))}));let n=kl();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&tc(s.mutation,r,Va.empty(),Rs.now()),gl(t,r)&&(n=n.insert(e,r))})),n}))}}class Du{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return $s.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Bc(e.createTime)}}(t)),$s.resolve()}getNamedQuery(e,t){return $s.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:pu(e.bundledQuery),readTime:Bc(e.readTime)}}(t)),$s.resolve()}}class Ou{constructor(){this.overlays=new ja(zs.comparator),this.Qr=new Map}getOverlay(e,t){return $s.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Tl();return $s.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),$s.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),$s.resolve()}getOverlaysForCollection(e,t,n){const r=Tl(),i=t.length+1,s=new zs(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $s.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ja(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Tl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Tl(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return $s.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new fc(t,n));let i=this.Qr.get(t);void 0===i&&(i=Pl(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class Ru{constructor(){this.sessionToken=Ba.EMPTY_BYTE_STRING}getSessionToken(e){return $s.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$s.resolve()}}class ju{constructor(){this.$r=new Fa(Lu.Ur),this.Kr=new Fa(Lu.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Lu(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new Lu(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new zs(new Fs([])),n=new Lu(t,e),r=new Lu(t,e+1),i=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),i.push(e.key)})),i}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new zs(new Fs([])),n=new Lu(t,e),r=new Lu(t,e+1);let i=Pl();return this.Kr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Lu(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lu{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return zs.comparator(e.key,t.key)||Cs(e.Zr,t.Zr)}static Wr(e,t){return Cs(e.Zr,t.Zr)||zs.comparator(e.key,t.key)}}class Mu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Fa(Lu.Ur)}checkEmpty(e){return $s.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hc(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Xr=this.Xr.add(new Lu(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $s.resolve(s)}lookupMutationBatch(e,t){return $s.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return $s.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $s.resolve(0===this.mutationQueue.length?ta:this.nr-1)}getAllMutationBatches(e){return $s.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lu(t,0),r=new Lu(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);i.push(t)})),$s.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fa(Cs);return t.forEach((e=>{const t=new Lu(e,0),r=new Lu(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),$s.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;zs.isDocumentKey(i)||(i=i.child(""));const s=new Lu(new zs(i),0);let a=new Fa(Cs);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Zr)),!0)}),s),$s.resolve(this.ni(a))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){hs(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return $s.forEach(t.mutations,(r=>{const i=new Lu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new Lu(t,0),r=this.Xr.firstAfterOrEqual(n);return $s.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$s.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fu{constructor(e){this.ii=e,this.docs=new ja(zs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $s.resolve(n?n.document.mutableCopy():No.newInvalidDocument(t))}getEntries(e,t){let n=Sl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():No.newInvalidDocument(e))})),$s.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Sl();const s=t.path,a=new zs(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Gs(qs(a),n)<=0||(r.has(a.key)||gl(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return $s.resolve(i)}getAllFromCollectionGroup(e,t,n,r){cs(9500)}si(e,t){return $s.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Uu(this)}getSize(e){return $s.resolve(this.size)}}class Uu extends Nu{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),$s.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Vu{constructor(e){this.persistence=e,this.oi=new wl((e=>el(e)),tl),this.lastRemoteSnapshotVersion=js.min(),this.highestTargetId=0,this._i=0,this.ai=new ju,this.targetCount=0,this.ui=xu.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),$s.resolve()}getLastRemoteSnapshotVersion(e){return $s.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $s.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$s.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),$s.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new xu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,$s.resolve()}updateTargetData(e,t){return this.Tr(t),$s.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,$s.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.oi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),$s.waitFor(i).next((()=>r))}getTargetCount(e){return $s.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return $s.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),$s.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),$s.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),$s.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return $s.resolve(n)}containsKey(e,t){return $s.resolve(this.ai.containsKey(t))}}class zu{constructor(e,t){this.ci={},this.overlays={},this.li=new ea(0),this.hi=!1,this.hi=!0,this.Pi=new Ru,this.referenceDelegate=e(this),this.Ti=new Vu(this),this.indexManager=new gu,this.remoteDocumentCache=function(e){return new Fu(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new fu(t),this.Ei=new Du(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ou,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new Mu(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){ss("MemoryPersistence","Starting transaction:",e);const r=new Bu(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return $s.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class Bu extends Ys{constructor(e){super(),this.currentSequenceNumber=e}}class Wu{constructor(e){this.persistence=e,this.Vi=new ju,this.mi=null}static fi(e){return new Wu(e)}get gi(){if(this.mi)return this.mi;throw cs(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),$s.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),$s.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),$s.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $s.forEach(this.gi,(n=>{const r=zs.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,js.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return $s.or([()=>$s.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Hu{constructor(e,t){this.persistence=e,this.yi=new wl((e=>aa(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Iu(this,t)}static fi(e,t){return new Hu(e,t)}di(){}Ai(e){return $s.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return $s.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?$s.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,js.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),$s.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),$s.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),$s.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),$s.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yo(e.data.value)),t}Dr(e,t,n){return $s.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return $s.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Pl(),r=Pl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new qu(e,t.fromCache,n,r)}}class Ku{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Gu{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=N()?8:Js(C())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.bs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ku;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>i.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(is()<=G.DEBUG&&ss("QueryEngine","SDK will not create cache indexes for query:",ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$s.resolve()):(is()<=G.DEBUG&&ss("QueryEngine","Query:",ml(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(is()<=G.DEBUG&&ss("QueryEngine","The SDK decides to create cache indexes for query:",ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cl(t))):$s.resolve())}ws(e,t){if(al(t))return $s.resolve(null);let n=cl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=dl(t,null,"F"),n=cl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Pl(...r);return this.ys.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.vs(t,r);return this.Cs(t,s,i,n.readTime)?this.ws(e,dl(t,null,"F")):this.Fs(e,s,t,n)}))))})))))}bs(e,t,n,r){return al(t)||r.isEqual(js.min())?$s.resolve(null):this.ys.getDocuments(e,n).next((i=>{const s=this.vs(t,i);return this.Cs(t,s,n,r)?$s.resolve(null):(is()<=G.DEBUG&&ss("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ml(t)),this.Fs(e,s,t,Hs(r,Bs)).next((e=>e)))}))}vs(e,t){let n=new Fa(vl(e));return t.forEach(((t,r)=>{gl(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return is()<=G.DEBUG&&ss("QueryEngine","Using full collection scan to execute query:",ml(t)),this.ys.getDocumentsMatchingQuery(e,t,Ks.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Qu="LocalStore";class Yu{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new ja(Cs),this.Os=new wl((e=>el(e)),tl),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pu(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function Xu(e,t,n,r){return new Yu(e,t,n,r)}async function $u(e,t){const n=ds(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Pl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({ks:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ju(e){const t=ds(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function Zu(e,t,n){let r=Pl(),i=Pl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Sl();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(js.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ss(Qu,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{qs:r,Qs:i}}))}function eh(e,t){const n=ds(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ta),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function th(e,t){const n=ds(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((i=>i?(r=i,$s.resolve(r)):n.Ti.allocateTargetId(e).next((i=>(r=new du(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function nh(e,t,n){const r=ds(e),i=r.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Zs(e))throw e;ss(Qu,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function rh(e,t,n){const r=ds(e);let i=js.min(),s=Pl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ds(e),i=r.Os.get(n);return void 0!==i?$s.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,cl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:js.min(),n?s:Pl()))).next((e=>(ih(r,yl(t),e),{documents:e,$s:s})))))}function ih(e,t,n){let r=e.Ns.get(t)||js.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class sh{constructor(){this.activeTargetIds=Ol()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ah{constructor(){this.xo=new sh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new sh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oh{No(e){}shutdown(){}}const lh="ConnectivityMonitor";class ch{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ss(lh,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ss(lh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let uh=null;function hh(){return null===uh?uh=268435456+Math.round(2147483648*Math.random()):uh++,"0x"+uh.toString(16)}const dh="RestConnection",fh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ph{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===to?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const s=hh(),a=this.jo(e,t.toUriEncodedString());ss(dh,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,i);const{host:l}=new URL(a),c=S(l);return this.Jo(e,a,o,n,c).then((t=>(ss(dh,"Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw os(dh,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}Yo(e,t,n,r,i,s){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ns,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=fh[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class mh{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const gh="WebChannelConnection";class yh extends ph{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=hh();return new Promise(((i,a)=>{const o=new Wi;o.setWithCredentials(!0),o.listenOnce(qi.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ki.NO_ERROR:const t=o.getResponseJson();ss(gh,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Ki.TIMEOUT:ss(gh,"RPC '".concat(e,"' ").concat(s," timed out")),a(new ps(fs.DEADLINE_EXCEEDED,"Request time out"));break;case Ki.HTTP_ERROR:const n=o.getStatus();if(ss(gh,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(fs).indexOf(t)>=0?t:fs.UNKNOWN}(t.status);a(new ps(e,t.message))}else a(new ps(fs.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ps(fs.UNAVAILABLE,"Connection failed."));break;default:cs(9055,{h_:e,streamId:s,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{ss(gh,"RPC '".concat(e,"' ").concat(s," completed."))}}));const l=JSON.stringify(r);ss(gh,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=hh(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xi(),a=Yi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ss(gh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.E_(u);let h=!1,d=!1;const f=new mh({Zo:t=>{d?ss(gh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ss(gh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),ss(gh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Hi.EventType.OPEN,(()=>{d||(ss(gh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())})),p(u,Hi.EventType.CLOSE,(()=>{d||(d=!0,ss(gh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))})),p(u,Hi.EventType.ERROR,(t=>{d||(d=!0,os(gh,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new ps(fs.UNAVAILABLE,"The operation could not be completed")))})),p(u,Hi.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];hs(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ss(gh,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=mc[e];if(void 0!==t)return vc(t)}(t),i=a.message;void 0===n&&(n=fs.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.u_(new ps(n,i)),u.close()}else ss(gh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.c_(i)}})),p(a,Qi.STAT_EVENT,(t=>{t.stat===Gi.PROXY?ss(gh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Gi.NOPROXY&&ss(gh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.a_()}),0),f}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function vh(){return"undefined"!=typeof document?document:null}function bh(e){return new Mc(e,!0)}class wh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&ss("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const xh="PersistentStream";class Sh{constructor(e,t,n,r,i,s,a,o){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wh(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===fs.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===fs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new ps(fs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return ss(xh,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(ss(xh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Eh extends Sh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cs(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(hs(void 0===t||"string"==typeof t,58123),Ba.fromBase64String(t||"")):(hs(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ba.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?fs.UNKNOWN:vc(e.code);return new ps(t,e.message||"")}(a);n=new Nc(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gc(e,r.document.name),s=Bc(r.document.updateTime),a=r.document.createTime?Bc(r.document.createTime):js.min(),o=new Co({mapValue:{fields:r.document.fields}}),l=No.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gc(e,r.document),s=r.readTime?Bc(r.readTime):js.min(),a=No.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Cc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gc(e,r.document),s=r.removedTargetIds||[];n=new Cc([],s,i,null)}else{if(!("filter"in t))return cs(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new pc(r,i),a=e.targetId;n=new Ic(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return js.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?js.min():t.readTime?Bc(t.readTime):js.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Xc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=nl(r)?{documents:eu(e,r)}:{query:tu(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Vc(e,t.resumeToken);const r=Fc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(js.min())>0){n.readTime=Uc(e,t.snapshotVersion.toTimestamp());const r=Fc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cs(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Xc(this.serializer),t.removeTarget=e,this.Q_(t)}}class kh extends Sh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return hs(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hs(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){hs(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(hs(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?Bc(e.updateTime):Bc(t);return n.isEqual(js.min())&&(n=Bc(t)),new Yl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Bc(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Xc(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Zc(this.serializer,e)))};this.Q_(t)}}class _h{}class Th extends _h{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.zo(e,Hc(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(fs.UNKNOWN,e.toString())}))}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Yo(e,Hc(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(fs.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class Ch{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(as(t),this.ua=!1):ss("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const Ih="RemoteStore";class Nh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No((e=>{n.enqueueAndForget((async()=>{Fh(this)&&(ss(Ih,"Restarting streams for network reachability change."),await async function(e){const t=ds(e);t.da.add(4),await Ph(t),t.Va.set("Unknown"),t.da.delete(4),await Ah(t)}(this))}))})),this.Va=new Ch(n,r)}}async function Ah(e){if(Fh(e))for(const t of e.Aa)await t(!0)}async function Ph(e){for(const t of e.Aa)await t(!1)}function Dh(e,t){const n=ds(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Mh(n)?Lh(n):rd(n).N_()&&Rh(n,t))}function Oh(e,t){const n=ds(e),r=rd(n);n.Ea.delete(t),r.N_()&&jh(n,t),0===n.Ea.size&&(r.N_()?r.k_():Fh(n)&&n.Va.set("Unknown"))}function Rh(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(js.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rd(e).Z_(t)}function jh(e,t){e.ma.Ke(t),rd(e).X_(t)}function Lh(e){e.ma=new Pc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),rd(e).start(),e.Va.ca()}function Mh(e){return Fh(e)&&!rd(e).O_()&&e.Ea.size>0}function Fh(e){return 0===ds(e).da.size}function Uh(e){e.ma=void 0}async function Vh(e){e.Va.set("Online")}async function zh(e){e.Ea.forEach(((t,n)=>{Rh(e,t)}))}async function Bh(e,t){Uh(e),Mh(e)?(e.Va.Pa(t),Lh(e)):e.Va.set("Unknown")}async function Wh(e,t,n){if(e.Va.set("Online"),t instanceof Nc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){ss(Ih,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Hh(e,n)}else if(t instanceof Cc?e.ma.Xe(t):t instanceof Ic?e.ma.ot(t):e.ma.nt(t),!n.isEqual(js.min()))try{const t=await Ju(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Ba.EMPTY_BYTE_STRING,r.snapshotVersion)),jh(e,t);const i=new du(r.target,t,n,r.sequenceNumber);Rh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ss(Ih,"Failed to raise snapshot:",t),await Hh(e,t)}}async function Hh(e,t,n){if(!Zs(t))throw t;e.da.add(1),await Ph(e),e.Va.set("Offline"),n||(n=()=>Ju(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ss(Ih,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Ah(e)}))}function qh(e,t){return t().catch((n=>Hh(e,n,t)))}async function Kh(e){const t=ds(e),n=id(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:ta;for(;Gh(t);)try{const e=await eh(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,Qh(t,e)}catch(e){await Hh(t,e)}Yh(t)&&Xh(t)}function Gh(e){return Fh(e)&&e.Ia.length<10}function Qh(e,t){e.Ia.push(t);const n=id(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Yh(e){return Fh(e)&&!id(e).O_()&&e.Ia.length>0}function Xh(e){id(e).start()}async function $h(e){id(e).ia()}async function Jh(e){const t=id(e);for(const n of e.Ia)t.ta(n.mutations)}async function Zh(e,t,n){const r=e.Ia.shift(),i=dc.from(r,t,n);await qh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Kh(e)}async function ed(e,t){t&&id(e).ea&&await async function(e,t){if(function(e){return yc(e)&&e!==fs.ABORTED}(t.code)){const n=e.Ia.shift();id(e).L_(),await qh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Kh(e)}}(e,t),Yh(e)&&Xh(e)}async function td(e,t){const n=ds(e);n.asyncQueue.verifyOperationInProgress(),ss(Ih,"RemoteStore received new credentials");const r=Fh(n);n.da.add(3),await Ph(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Ah(n)}async function nd(e,t){const n=ds(e);t?(n.da.delete(2),await Ah(n)):t||(n.da.add(2),await Ph(n),n.Va.set("Unknown"))}function rd(e){return e.fa||(e.fa=function(e,t,n){const r=ds(e);return r.oa(),new Eh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Vh.bind(null,e),n_:zh.bind(null,e),i_:Bh.bind(null,e),Y_:Wh.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),Mh(e)?Lh(e):e.Va.set("Unknown")):(await e.fa.stop(),Uh(e))}))),e.fa}function id(e){return e.ga||(e.ga=function(e,t,n){const r=ds(e);return r.oa(),new kh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:$h.bind(null,e),i_:ed.bind(null,e),na:Jh.bind(null,e),ra:Zh.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await Kh(e)):(await e.ga.stop(),e.Ia.length>0&&(ss(Ih,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class sd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new sd(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ps(fs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ad(e,t){if(as("AsyncQueue","".concat(t,": ").concat(e)),Zs(e))return new ps(fs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class od{static emptySet(e){return new od(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||zs.comparator(t.key,n.key):(e,t)=>zs.comparator(e.key,t.key),this.keyedMap=kl(),this.sortedSet=new ja(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof od))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new od;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ld{constructor(){this.pa=new ja(zs.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):cs(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class cd{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new cd(e,t,od.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ud{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class hd{constructor(){this.queries=dd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ds(e),r=n.queries;n.queries=dd(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new ps(fs.ABORTED,"Firestore shutting down"))}}function dd(){return new wl((e=>pl(e)),fl)}async function fd(e,t){const n=ds(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Da()&&t.va()&&(r=2):(s=new ud,r=t.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ad(e,"Initialization of query '".concat(ml(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&yd(n)}async function pd(e,t){const n=ds(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.va()?0:1:!s.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function md(e,t){const n=ds(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&yd(n)}function gd(e,t,n){const r=ds(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function yd(e){e.Ca.forEach((e=>{e.next()}))}var vd,bd;(bd=vd||(vd={})).xa="default",bd.Cache="cache";class wd{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new cd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==vd.Cache}}class xd{constructor(e){this.key=e}}class Sd{constructor(e){this.key=e}}class Ed{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pl(),this.mutatedKeys=Pl(),this.Za=vl(e),this.Xa=new od(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new ld,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=gl(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Za(u,o)>0||l&&this.Za(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:s,nu:n,Cs:a,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cs(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const a=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==s.length||l?{snapshot:new cd(this.query,e.Xa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ld,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Pl(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new Sd(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new xd(n))})),t}au(e){this.Ha=e.$s,this.Ya=Pl();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return cd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const kd="SyncEngine";class _d{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Td{constructor(e){this.key=e,this.cu=!1}}class Cd{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new wl((e=>pl(e)),fl),this.Pu=new Map,this.Tu=new Set,this.Iu=new ja(zs.comparator),this.Eu=new Map,this.du=new ju,this.Au={},this.Ru=new Map,this.Vu=xu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function Id(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Yd(e);let i;const s=r.hu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await Ad(r,t,n,!0),i}async function Nd(e,t){const n=Yd(e);await Ad(n,t,!0,!1)}async function Ad(e,t,n,r){const i=await th(e.localStore,cl(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Pd(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Dh(e.remoteStore,i),o}async function Pd(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await rh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Wd(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const s=await rh(e.localStore,t,!0),a=new Ed(t,s.$s),o=a.tu(s.documents),l=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Wd(e,n,c.ou);const u=new _d(t,n,a);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function Dd(e,t,n){const r=ds(e),i=r.hu.get(t),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter((e=>!fl(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nh(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Oh(r.remoteStore,i.targetId),zd(r,i.targetId)})).catch(Xs)):(zd(r,i.targetId),await nh(r.localStore,i.targetId,!0))}async function Od(e,t){const n=ds(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Oh(n.remoteStore,r.targetId))}async function Rd(e,t){const n=ds(e);try{const e=await function(e,t){const n=ds(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ti.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Ti.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ba.EMPTY_BYTE_STRING,js.min()).withLastLimboFreeSnapshotVersion(js.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Ti.updateTargetData(e,c))}));let o=Sl(),l=Pl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Zu(e,s,t.documentUpdates).next((e=>{o=e.qs,l=e.Qs}))),!r.isEqual(js.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return $s.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.xs=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(hs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?hs(r.cu,14607):e.removedDocuments.size>0&&(hs(r.cu,42227),r.cu=!1))})),await Kd(n,e,t)}catch(e){await Xs(e)}}function jd(e,t,n){const r=ds(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ds(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)})),r&&yd(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ld(e,t,n){const r=ds(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new ja(zs.comparator);e=e.insert(s,No.newNoDocument(s,js.min()));const n=Pl().add(s),i=new _c(js.min(),new Map,new ja(Cs),e,n);await Rd(r,i),r.Iu=r.Iu.remove(s),r.Eu.delete(t),qd(r)}else await nh(r.localStore,t,!1).then((()=>zd(r,t,n))).catch(Xs)}async function Md(e,t){const n=ds(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ds(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=$s.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);hs(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Pl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Vd(n,r,null),Ud(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kd(n,e)}catch(e){await Xs(e)}}async function Fd(e,t,n){const r=ds(e);try{const e=await function(e,t){const n=ds(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(hs(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Vd(r,t,n),Ud(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Kd(r,e)}catch(n){await Xs(n)}}function Ud(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function Vd(e,t,n){const r=ds(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function zd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||Bd(e,t)}))}function Bd(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(Oh(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),qd(e))}function Wd(e,t,n){for(const r of n)r instanceof xd?(e.du.addReference(r.key,t),Hd(e,r)):r instanceof Sd?(ss(kd,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||Bd(e,r.key)):cs(19791,{pu:r})}function Hd(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(ss(kd,"New document in limbo: "+n),e.Tu.add(r),qd(e))}function qd(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new zs(Fs.fromString(t)),r=e.Vu.next();e.Eu.set(r,new Td(n)),e.Iu=e.Iu.insert(n,r),Dh(e.remoteStore,new du(cl(sl(n.path)),r,"TargetPurposeLimboResolution",ea.le))}}async function Kd(e,t,n){const r=ds(e),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach(((e,o)=>{a.push(r.fu(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=qu.Rs(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.lu.Y_(i),await async function(e,t){const n=ds(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$s.forEach(t,(t=>$s.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$s.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Zs(e))throw e;ss(Qu,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,s))}async function Gd(e,t){const n=ds(e);if(!n.currentUser.isEqual(t)){ss(kd,"User change. New user:",t.toKey());const e=await $u(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new ps(fs.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Kd(n,e.ks)}}function Qd(e,t){const n=ds(e),r=n.Eu.get(t);if(r&&r.cu)return Pl().add(r.key);{let e=Pl();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Yd(e){const t=ds(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ld.bind(null,t),t.lu.Y_=md.bind(null,t.eventManager),t.lu.gu=gd.bind(null,t.eventManager),t}function Xd(e){const t=ds(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Md.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fd.bind(null,t),t}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Xu(this.persistence,new Gu,e.initialUser,this.serializer)}Su(e){return new zu(Wu.fi,this.serializer)}bu(e){return new ah}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class Jd extends $d{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){hs(this.persistence.referenceDelegate instanceof Hu,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Tu(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?wu.withCacheSize(this.cacheSizeBytes):wu.DEFAULT;return new zu((e=>Hu.fi(e,t)),this.serializer)}}class Zd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>jd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gd.bind(null,this.syncEngine),await nd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hd}createDatastore(e){const t=bh(e.databaseInfo.databaseId),n=function(e){return new yh(e)}(e.databaseInfo);return function(e,t,n,r){return new Th(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Nh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>jd(this.syncEngine,e,0)),ch.C()?new ch:new oh)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Cd(e,t,n,r,i,s);return a&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ds(e);ss(Ih,"RemoteStore shutting down."),t.da.add(5),await Ph(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Zd.provider={build:()=>new Zd};class ef{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const tf="FirestoreClient";class nf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ts.UNAUTHENTICATED,this.clientId=Ts.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ss(tf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ss(tf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ad(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function rf(e,t){e.asyncQueue.verifyOperationInProgress(),ss(tf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await $u(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function sf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await af(e);ss(tf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>td(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>td(t.remoteStore,n))),e._onlineComponents=t}async function af(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ss(tf,"Using user provided OfflineComponentProvider");try{await rf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===fs.FAILED_PRECONDITION||e.code===fs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;os("Error using user provided cache. Falling back to memory cache: "+n),await rf(e,new $d)}}else ss(tf,"Using default OfflineComponentProvider"),await rf(e,new Jd(void 0));return e._offlineComponents}async function of(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ss(tf,"Using user provided OnlineComponentProvider"),await sf(e,e._uninitializedComponentsProvider._online)):(ss(tf,"Using default OnlineComponentProvider"),await sf(e,new Zd))),e._onlineComponents}function lf(e){return of(e).then((e=>e.syncEngine))}async function cf(e){const t=await of(e),n=t.eventManager;return n.onListen=Id.bind(null,t.syncEngine),n.onUnlisten=Dd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Nd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Od.bind(null,t.syncEngine),n}function uf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ms;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ef({next:n=>{s.xu(),t.enqueueAndForget((()=>pd(e,a))),n.fromCache&&"server"===r.source?i.reject(new ps(fs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new wd(n,s,{includeMetadataChanges:!0,Qa:!0});return fd(e,a)}(await cf(e),e.asyncQueue,t,n,r))),r.promise}function hf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const df=new Map;function ff(e,t,n){if(!n)throw new ps(fs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pf(e){if(!zs.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mf(e){if(zs.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":cs(12329,{type:typeof e})}function yf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ps(fs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(e);throw new ps(fs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const vf="firestore.googleapis.com",bf=!0;class wf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ps(fs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vf,this.ssl=bf}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:bf;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=bu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Eu)throw new ps(fs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ps(fs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ps(fs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ps(fs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wf(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ys;switch(e.type){case"firstParty":return new xs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ps(fs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=df.get(e);t&&(ss("ComponentProvider","Removing Datastore"),df.delete(e),t.terminate())}(this),Promise.resolve()}}function Sf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=yf(e,xf);const s=S(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);s&&(E("https://".concat(l)),T("Firestore",!0)),a.host!==vf&&a.host!==l&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!R(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ts.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ps(fs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ts(s)}e._authCredentials=new vs(new gs(t,n))}}class Ef{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ef(this.firestore,e,this._query)}}class kf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _f(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kf(this.firestore,e,this._key)}}class _f extends Ef{constructor(e,t,n){super(e,t,sl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kf(this.firestore,null,new zs(e))}withConverter(e){return new _f(this.firestore,e,this._path)}}function Tf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=z(e),ff("collection","path",t),e instanceof xf){const n=Fs.fromString(t,...r);return mf(n),new _f(e,null,n)}{if(!(e instanceof kf||e instanceof _f))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fs.fromString(t,...r));return mf(n),new _f(e.firestore,null,n)}}function Cf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=z(e),1===arguments.length&&(t=Ts.newId()),ff("doc","path",t),e instanceof xf){const n=Fs.fromString(t,...r);return pf(n),new kf(e,null,new zs(n))}{if(!(e instanceof kf||e instanceof _f))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fs.fromString(t,...r));return pf(n),new kf(e.firestore,e instanceof _f?e.converter:null,new zs(n))}}const If="AsyncQueue";class Nf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wh(this,"async_queue_retry"),this.rc=()=>{const e=vh();e&&ss(If,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=vh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=vh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new ms;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Zs(e))throw e;ss(If,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,as("INTERNAL UNHANDLED ERROR: ",Af(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=sd.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&cs(47125,{cc:Af(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Af(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Pf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Df extends xf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Nf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nf(e),this._firestoreClient=void 0,await e}}}function Of(e){if(e._terminated)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Rf(e),e._firestoreClient}function Rf(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new eo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hf(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new nf(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class jf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jf(Ba.fromBase64String(e))}catch(e){throw new ps(fs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new jf(Ba.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mf{constructor(e){this._methodName=e}}class Ff{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ps(fs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ps(fs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cs(this._lat,e._lat)||Cs(this._long,e._long)}}class Uf{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Vf=/^__.*__$/;class zf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new sc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ic(e,this.data,t,this.fieldTransforms)}}class Bf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new sc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cs(40011,{Ic:e})}}class Hf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return sp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(Wf(this.Ic)&&Vf.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class qf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||bh(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Hf({Ic:e,methodName:t,wc:n,path:Vs.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kf(e){const t=e._freezeSettings(),n=bh(e._databaseId);return new qf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gf(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(s.merge||s.mergeFields?2:0,t,n,i);tp("Data must be an object, but it was:",a,r);const o=Zf(r,a);let l,c;if(s.merge)l=new Va(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=np(t,r,n);if(!a.contains(i))throw new ps(fs.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ap(e,i)||e.push(i)}l=new Va(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new zf(new Co(o),l,c)}class Qf extends Mf{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function Yf(e,t,n,r){const i=e.bc(1,t,n);tp("Data must be an object, but it was:",i,r);const s=[],a=Co.empty();Oa(r,((e,r)=>{const o=ip(t,e,n);r=z(r);const l=i.mc(o);if(r instanceof Qf)s.push(o);else{const e=Jf(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Va(s);return new Bf(a,o,i.fieldTransforms)}function Xf(e,t,n,r,i,s){const a=e.bc(1,t,n),o=[np(t,r,n)],l=[i];if(s.length%2!=0)throw new ps(fs.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(np(t,s[d])),l.push(s[d+1]);const c=[],u=Co.empty();for(let d=o.length-1;d>=0;--d)if(!ap(c,o[d])){const e=o[d];let t=l[d];t=z(t);const n=a.mc(e);if(t instanceof Qf)c.push(e);else{const r=Jf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Va(c);return new Bf(u,h,a.fieldTransforms)}function $f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Jf(n,e.bc(r?4:3,t))}function Jf(e,t){if(ep(e=z(e)))return tp("Unsupported field value:",t,e),Zf(e,t);if(e instanceof Mf)return function(e,t){if(!Wf(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Jf(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=z(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ll(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Rs.fromDate(e);return{timestampValue:Uc(t.serializer,n)}}if(e instanceof Rs){const n=new Rs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Uc(t.serializer,n)}}if(e instanceof Ff)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jf)return{bytesValue:Vc(t.serializer,e._byteString)};if(e instanceof kf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Wc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Uf)return function(e,t){return{mapValue:{fields:{[ro]:{stringValue:ao},[oo]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return Rl(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(gf(e)))}(e,t)}function Zf(e,t){const n={};return Ra(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oa(e,((e,r)=>{const i=Jf(r,t.Ac(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ep(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rs||e instanceof Ff||e instanceof jf||e instanceof kf||e instanceof Mf||e instanceof Uf)}function tp(e,t,n){if(!ep(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=gf(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function np(e,t,n){if((t=z(t))instanceof Lf)return t._internalPath;if("string"==typeof t)return ip(e,t);throw sp("Field path arguments must be of type string or ",e,!1,void 0,n)}const rp=new RegExp("[~\\*/\\[\\]]");function ip(e,t,n){if(t.search(rp)>=0)throw sp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Lf(...t.split("."))._internalPath}catch(r){throw sp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sp(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new ps(fs.INVALID_ARGUMENT,o+e+l)}function ap(e,t){return e.some((e=>e.isEqual(t)))}class op{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lp extends op{data(){return super.data()}}function cp(e,t){return"string"==typeof t?ip(e,t):t instanceof Lf?t._internalPath:t._delegate._internalPath}function up(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ps(fs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class dp extends hp{}function fp(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof hp&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof mp)).length,n=e.filter((e=>e instanceof pp)).length;if(t>1||t>0&&n>0)throw new ps(fs.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class pp extends dp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new pp(e,t,n)}_apply(e){const t=this._parse(e);return bp(e._query,t),new Ef(e.firestore,e.converter,hl(e._query,t))}_parse(e){const t=Kf(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ps(fs.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){vp(a,s);const t=[];for(const n of a)t.push(yp(r,e,n));o={arrayValue:{values:t}}}else o=yp(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||vp(a,s),o=$f(n,t,a,"in"===s||"not-in"===s);return Lo.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class mp extends hp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mp(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Mo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)bp(n,i),n=hl(n,i)}(e._query,t),new Ef(e.firestore,e.converter,hl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gp extends dp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gp(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oo(t,n)}(e._query,this._field,this._direction);return new Ef(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new rl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function yp(e,t,n){if("string"==typeof(n=z(n))){if(""===n)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ol(t)&&-1!==n.indexOf("/"))throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Fs.fromString(n));if(!zs.isDocumentKey(r))throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vo(e,new zs(r))}if(n instanceof kf)return vo(e,n._key);throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gf(n),"."))}function vp(e,t){if(!Array.isArray(e)||0===e.length)throw new ps(fs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function bp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ps(fs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ps(fs.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class wp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw cs(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Oa(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[oo].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>qa(e.doubleValue)));return new Uf(i)}convertGeoPoint(e){return new Ff(qa(e.latitude),qa(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ja(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Za(e));default:return null}}convertTimestamp(e){const t=Ha(e);return new Rs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Fs.fromString(e);hs(hu(n),9688,{name:e});const r=new no(n.get(1),n.get(3)),i=new zs(n.popFirst(5));return r.isEqual(t)||as("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function xp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Sp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ep extends op{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(cp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class kp extends Ep{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _p{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new kp(this._firestore,this._userDataWriter,n.key,n,new Sp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ps(fs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new kp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Sp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new kp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Tp(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Tp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cs(61501,{type:e})}}class Cp extends wp{constructor(e){super(),this.firestore=e}convertBytes(e){return new jf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kf(this.firestore,null,t)}}function Ip(e){e=yf(e,Ef);const t=yf(e.firestore,Df),n=Of(t),r=new Cp(t);return up(e._query),uf(n,e._query).then((n=>new _p(t,r,e,n)))}function Np(e,t,n){e=yf(e,kf);const r=yf(e.firestore,Df),i=xp(e.converter,t,n);return Rp(r,[Gf(Kf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Xl.none())])}function Ap(e,t,n){e=yf(e,kf);const r=yf(e.firestore,Df),i=Kf(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=z(t))||t instanceof Lf?Xf(i,"updateDoc",e._key,t,n,o):Yf(i,"updateDoc",e._key,t),Rp(r,[s.toMutation(e._key,Xl.exists(!0))])}function Pp(e){return Rp(yf(e.firestore,Df),[new cc(e._key,Xl.none())])}function Dp(e,t){const n=yf(e.firestore,Df),r=Cf(e),i=xp(e.converter,t);return Rp(n,[Gf(Kf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Xl.exists(!1))]).then((()=>r))}function Op(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=z(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Pf(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Pf(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof kf)h=yf(e.firestore,Df),d=sl(e._key.path),u={next:t=>{n[l]&&n[l](jp(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=yf(e,Ef);h=yf(t.firestore,Df),d=t._query;const r=new Cp(h);u={next:e=>{n[l]&&n[l](new _p(h,r,t,e))},error:n[l+1],complete:n[l+2]},up(e._query)}return function(e,t,n,r){const i=new ef(r),s=new wd(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>fd(await cf(e),s))),()=>{i.xu(),e.asyncQueue.enqueueAndForget((async()=>pd(await cf(e),s)))}}(Of(h),d,c,u)}function Rp(e,t){return function(e,t){const n=new ms;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Xd(e);try{const e=await function(e,t){const n=ds(e),r=Rs.now(),i=t.reduce(((e,t)=>e.add(t.key)),Pl());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Sl(),l=Pl();return n.Bs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=nc(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new sc(e.key,t,Io(t.value.mapValue),Xl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:_l(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new ja(Cs)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await Kd(r,e.changes),await Kh(r.remoteStore)}catch(e){const t=ad(e,"Failed to persist write");n.reject(t)}}(await lf(e),t,n))),n.promise}(Of(e),t)}function jp(e,t,n){const r=n.docs.get(t._key),i=new Cp(e);return new Ep(e,i,t._key,r,new Sp(n.hasPendingWrites,n.fromCache),t.converter)}class Lp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kf(e)}set(e,t,n){this._verifyNotCommitted();const r=Mp(e,this._firestore),i=xp(r.converter,t,n),s=Gf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Xl.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Mp(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=z(t))||t instanceof Lf?Xf(this._dataReader,"WriteBatch.update",r._key,t,n,a):Yf(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Xl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mp(e,this._firestore);return this._mutations=this._mutations.concat(new cc(t._key,Xl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ps(fs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mp(e,t){if((e=z(e)).firestore!==t)throw new ps(fs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Fp(e){return Of(e=yf(e,Df)),new Lp(e,(t=>Rp(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ns=e}(nt),$e(new B("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Df(new bs(e.getProvider("auth-internal")),new Es(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ps(fs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new no(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),st(Zi,es,e),st(Zi,es,"esm2017")}();var Up=n(579);const Vp=["id"],zp=["id"],Bp=["id"],Wp=["id"],Hp=["id"],qp=["id"],Kp=["id"],Gp={apiKey:"AIzaSyCfGV5RZiUGc1jo15E1268iGrrMQcHhtU4",authDomain:'"hc-wrestling-camp.firebaseapp.com",',projectId:'"hc-wrestling-camp",',storageBucket:'"hc-wrestling-camp.firebasestorage.app",',messagingSenderId:'"419048308093",',appId:"1:419048308093:web:1926895a720a946642e014"};let Qp,Yp,Xp,$p;try{if(!Gp.apiKey||"YOUR_API_KEY"===Gp.apiKey)throw new Error("Firebase config is not set. Please create a .env file with your Firebase credentials.");Qp=rt(Gp),Yp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();const t=Je(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Je(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(R(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;St(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Di,persistence:[Br,Sr,Cr]}),r=w("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Li)return;const r=null===t||void 0===t?void 0:t.token;Mi!==r&&(Mi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){z(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){z(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=v("auth");return s&&Hn(n,"http://".concat(s)),n}(Qp),Xp=function(e,t){const n="object"==typeof e?e:it(),r="string"==typeof e?e:t||to,i=Je(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(()=>{const e=v("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&Sf(i,...e)}return i}(Qp)}catch(wm){console.error("FATAL: Firebase initialization failed:",wm),$p="Firebase Core Initialization Failed: ".concat(wm.message,". Make sure your .env file is set up correctly.")}const Jp=[{name:"106",max:106},{name:"113",max:113},{name:"120",max:120},{name:"126",max:126},{name:"132",max:132},{name:"138",max:138},{name:"144",max:144},{name:"150",max:150},{name:"157",max:157},{name:"165",max:165},{name:"175",max:175},{name:"190",max:190},{name:"215",max:215},{name:"285",max:285}],Zp=["NC","SC","GA","TN","FL","AL"],em=[...Zp,...["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"].filter((e=>!Zp.includes(e))).sort()],tm=e=>{if(!e||e<=0)return"N/A";const t=Math.floor(parseFloat(e));for(const n of Jp)if(t<=n.max)return n.name;return"285+"},nm=e=>{let{children:t,onClose:n,title:r}=e;return(0,Up.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center p-4 z-50",children:(0,Up.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,Up.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Up.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:r}),(0,Up.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl","aria-label":"Close modal",children:"\xd7"})]}),t]})})},rm=e=>{let{message:t="Loading..."}=e;return(0,Up.jsxs)("div",{className:"flex flex-col justify-center items-center my-4 p-4 text-center",children:[(0,Up.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-400"}),(0,Up.jsx)("p",{className:"text-gray-600 font-medium mt-3",children:t})]})},im=e=>{let{label:t,isActive:n,onClick:r}=e;return(0,Up.jsx)("button",{className:"px-3 sm:px-4 py-2 font-medium text-sm rounded-md transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-yellow-400\n            ".concat(n?"bg-gray-800 text-yellow-400 shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:r,children:t})};function sm(e){let{db:t,getUserDataPath:n,sessions:i,onClose:s,setActiveSessionId:a,showNotification:o}=e;const[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(null),[d,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(""),g="".concat(n(),"/sessions");return(0,Up.jsxs)(nm,{onClose:s,title:"Manage Sessions",children:[(0,Up.jsxs)("div",{className:"space-y-4 text-gray-800",children:[(0,Up.jsxs)("div",{children:[(0,Up.jsx)("h3",{className:"font-semibold mb-2",children:"Existing Sessions"}),(0,Up.jsx)("ul",{className:"space-y-2",children:i.map((e=>(0,Up.jsxs)("li",{className:"flex justify-between items-center p-2 bg-gray-100 rounded",children:[(0,Up.jsx)("span",{children:e.name}),(0,Up.jsxs)("div",{className:"space-x-2",children:[(0,Up.jsx)("button",{onClick:()=>h(e),className:"text-blue-500 hover:text-blue-700 text-xs",children:"Duplicate"}),(0,Up.jsx)("button",{onClick:()=>f(e.id),className:"text-red-500 hover:text-red-700 text-xs",children:"Delete"})]})]},e.id)))})]}),(0,Up.jsxs)("div",{children:[(0,Up.jsx)("h3",{className:"font-semibold mb-2",children:"Create New Session"}),(0,Up.jsxs)("div",{className:"flex gap-2",children:[(0,Up.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded-md",placeholder:"e.g., 2025 Camp Session I"}),(0,Up.jsx)("button",{onClick:async()=>{if(!l.trim()||!g)return;const e={name:l.trim(),createdAt:new Date},n=await Dp(Tf(t,g),e);a(n.id),c(""),s()},className:"bg-green-500 text-white font-semibold py-2 px-4 rounded-md",children:"Add"})]})]})]}),d&&(0,Up.jsxs)(nm,{onClose:()=>f(null),title:"Confirm Session Deletion",children:[(0,Up.jsxs)("p",{children:["This will delete the session entry, but not its underlying data. To confirm, type ",(0,Up.jsx)("strong",{className:"font-mono bg-red-100 px-1 rounded",children:"DELETE"})," below."]}),(0,Up.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded-md my-4"}),(0,Up.jsx)("button",{onClick:async()=>{d&&g&&(await Pp(Cf(t,g,d)),f(null),m(""),o("Session deleted. Note: Underlying data must be cleared manually via the dashboard if needed.","success",6e3))},disabled:"DELETE"!==p,className:"w-full bg-red-600 text-white font-semibold py-2 px-4 rounded-md disabled:bg-gray-400",children:"Delete Session Entry"})]}),u&&(0,Up.jsxs)(nm,{onClose:()=>h(null),title:"Duplicate '".concat(u.name,"'"),children:[(0,Up.jsx)("p",{children:"Enter a name for the new duplicated session."}),(0,Up.jsx)("input",{type:"text",defaultValue:"".concat(u.name," - Copy"),onChange:e=>c(e.target.value),className:"w-full p-2 border rounded-md my-4"}),(0,Up.jsx)("button",{onClick:()=>(async(e,r)=>{if(!r.trim()||!g)return o("New session name cannot be empty.","error");o("Starting duplication... this may take a moment.","success");const i={name:r.trim(),createdAt:new Date,customWeightsDivI:e.customWeightsDivI||[],customWeightsDivII:e.customWeightsDivII||[]},l=await Dp(Tf(t,g),i),c=["homeTeams","wrestlers","competitionTeams"];for(const s of c){const r="".concat(n(),"/sessions/").concat(e.id,"/").concat(s),i="".concat(n(),"/sessions/").concat(l.id,"/").concat(s),a=await Ip(fp(Tf(t,r)));let o=Fp(t),c=0;for(const e of a.docs)o.set(Cf(t,i,e.id),e.data()),c++,c%499===0&&(await o.commit(),o=Fp(t));c%499!==0&&await o.commit()}o("Duplication complete!","success"),a(l.id),s()})(u,l||"".concat(u.name," - Copy")),className:"w-full bg-blue-500 text-white font-semibold py-2 px-4 rounded-md",children:"Create Duplicate"})]})]})}function am(e){let{allData:t,handleClearAllData:n,db:i,getUserDataPath:a,showNotification:o}=e;const{wrestlers:l,homeTeams:c,competitionTeams:h,loading:d,activeSession:f}=t,[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(""),w=r.useMemo((()=>{if(d||!f)return{};const e=l.filter((e=>e.actualWeight>0)).length,t=l.length>0?e/l.length*100:0,n=h.filter((e=>"I"===e.division)),r=h.filter((e=>"II"===e.division)),i=[...Jp,...f.customWeightsDivI||[]].sort(((e,t)=>e.max-t.max)),s=[...Jp,...f.customWeightsDivII||[]].sort(((e,t)=>e.max-t.max)),a=i.reduce(((e,t)=>u(u({},e),{},{[t.name]:n.reduce(((e,n)=>{var r;return e+(null!==(r=n.roster)&&void 0!==r&&r[t.name]?0:1)}),0)})),{}),o=s.reduce(((e,t)=>u(u({},e),{},{[t.name]:r.reduce(((e,n)=>{var r;return e+(null!==(r=n.roster)&&void 0!==r&&r[t.name]?0:1)}),0)})),{}),p=l.filter((e=>"FarmOutAvailable"===e.status)),m=p.filter((e=>"I"===e.farmOutDivision)).reduce(((e,t)=>u(u({},e),{},{[t.calculatedWeightClass]:(e[t.calculatedWeightClass]||0)+1})),{}),g=p.filter((e=>"II"===e.farmOutDivision)).reduce(((e,t)=>u(u({},e),{},{[t.calculatedWeightClass]:(e[t.calculatedWeightClass]||0)+1})),{}),y=c.filter((e=>e.weighInComplete)).length,v=c.filter((e=>e.rosterComplete)).length,b=c.length>0?y/c.length*100:0,w=c.length>0?v/c.length*100:0,x=c.filter((e=>!e.weighInComplete)).map((e=>e.name)).sort(),S=c.filter((e=>!e.rosterComplete)).map((e=>e.name)).sort();return{totalWrestlers:l.length,homeTeamCount:c.length,compTeamDiv1Count:n.length,compTeamDiv2Count:r.length,weighInPercent:t.toFixed(1),femaleCount:l.filter((e=>e.isFemale)).length,msCount:l.filter((e=>e.isMiddleSchool)).length,forfeitsDiv1:a,forfeitsDiv2:o,farmOutsDiv1:m,farmOutsDiv2:g,allWeightsI:i,allWeightsII:s,div1Teams:n,div2Teams:r,homeTeamWeighInPercent:b.toFixed(1),homeTeamRosterPercent:w.toFixed(1),teamsPendingWeighIn:x,teamsPendingRoster:S}}),[l,c,h,d,f]),x=e=>{if("undefined"===typeof window.Papa)return void o("CSV Library not loaded.","error");const t=(e,t)=>{const n=Papa.unparse(e),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),s=URL.createObjectURL(r);i.setAttribute("href",s),i.setAttribute("download",t),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)};if("all"===e)t(c.map((e=>{let{id:t}=e;return s(e,Vp)})),"home-teams-export.csv"),t(h.map((e=>{let{id:t}=e;return s(e,zp)})),"competition-teams-export.csv"),t(l.map((e=>{let{id:t}=e;return s(e,Bp)})),"wrestlers-export.csv");else{t(l.filter((t=>"Female"===e?t.isFemale:t.isMiddleSchool)).map((e=>{let{name:t,homeTeamName:n,actualWeight:r}=e;return{name:t,homeTeamName:n,actualWeight:r}})),"Female"===e?"female-wrestlers.csv":"ms-wrestlers.csv")}};if(d)return(0,Up.jsx)(rm,{message:"Loading Dashboard Data..."});const S=e=>{let{title:t,value:n,className:r}=e;return(0,Up.jsxs)("div",{className:"p-4 rounded-lg shadow-md ".concat(r),children:[(0,Up.jsx)("p",{className:"text-sm font-medium opacity-80",children:t}),(0,Up.jsx)("p",{className:"text-3xl font-bold",children:n})]})},E=e=>{let{title:t,forfeits:n,farmOuts:r,weights:i}=e;return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,Up.jsx)("h3",{className:"text-lg font-bold mb-2 text-yellow-400",children:t}),(0,Up.jsx)("div",{className:"overflow-x-auto",children:(0,Up.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Up.jsx)("thead",{className:"bg-gray-700",children:(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("th",{className:"p-2 text-left",children:"Weight"}),(0,Up.jsx)("th",{className:"p-2 text-center",children:"Forfeits"}),(0,Up.jsx)("th",{className:"p-2 text-center",children:"Farm-Outs"})]})}),(0,Up.jsx)("tbody",{children:(i||[]).map((e=>(0,Up.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,Up.jsx)("td",{className:"p-2 font-semibold",children:e.name}),(0,Up.jsx)("td",{className:"p-2 text-center",children:n[e.name]||0}),(0,Up.jsx)("td",{className:"p-2 text-center",children:r[e.name]||0})]},e.name)))})]})})]})},k=e=>{let{title:t,teams:n,weights:r}=e;return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,Up.jsx)("h3",{className:"text-lg font-bold mb-2 text-yellow-400",children:t}),(0,Up.jsx)("div",{className:"overflow-x-auto",children:(0,Up.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Up.jsx)("thead",{className:"bg-gray-700",children:(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("th",{className:"p-2 text-left",children:"Team"}),(0,Up.jsx)("th",{className:"p-2 text-center",children:"Forfeits"})]})}),(0,Up.jsx)("tbody",{children:n.sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>(0,Up.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,Up.jsx)("td",{className:"p-2 font-semibold",children:e.name}),(0,Up.jsx)("td",{className:"p-2 text-center",children:r.reduce(((t,n)=>{var r;return t+(null!==(r=e.roster)&&void 0!==r&&r[n.name]?0:1)}),0)})]},e.id)))})]})})]})},_=e=>{let{title:t,teams:n,className:r}=e;return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg ".concat(r),children:[(0,Up.jsx)("h3",{className:"text-lg font-bold mb-3 text-yellow-400",children:t}),n.length>0?(0,Up.jsx)("ul",{className:"space-y-1 text-sm list-disc list-inside max-h-40 overflow-y-auto",children:n.map((e=>(0,Up.jsx)("li",{children:e},e)))}):(0,Up.jsx)("p",{className:"text-sm text-gray-400",children:"All teams complete!"})]})};return(0,Up.jsxs)("div",{className:"space-y-6",children:[(0,Up.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,Up.jsx)(S,{title:"Total Wrestlers",value:w.totalWrestlers,className:"bg-gray-700 text-white"}),(0,Up.jsx)(S,{title:"Home Teams",value:w.homeTeamCount,className:"bg-gray-700 text-white"}),(0,Up.jsx)(S,{title:"Comp Teams (Div I)",value:w.compTeamDiv1Count,className:"bg-gray-700 text-white"}),(0,Up.jsx)(S,{title:"Comp Teams (Div II)",value:w.compTeamDiv2Count,className:"bg-gray-700 text-white"}),(0,Up.jsx)(S,{title:"Female Wrestlers",value:w.femaleCount,className:"bg-pink-500 text-white"}),(0,Up.jsx)(S,{title:"MS Wrestlers",value:w.msCount,className:"bg-indigo-500 text-white"})]}),(0,Up.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,Up.jsx)("h3",{className:"text-lg font-bold mb-2 text-yellow-400",children:"Wrestler Weigh-In Progress"}),(0,Up.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-6",children:(0,Up.jsxs)("div",{className:"bg-yellow-400 h-6 rounded-full text-center text-black font-bold leading-6",style:{width:"".concat(w.weighInPercent,"%")},children:[w.weighInPercent,"%"]})})]}),(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,Up.jsx)("h3",{className:"text-lg font-bold mb-2 text-yellow-400",children:"Team Weigh-In Complete"}),(0,Up.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-6",children:(0,Up.jsxs)("div",{className:"bg-green-500 h-6 rounded-full text-center text-white font-bold leading-6",style:{width:"".concat(w.homeTeamWeighInPercent,"%")},children:[w.homeTeamWeighInPercent,"%"]})})]}),(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,Up.jsx)("h3",{className:"text-lg font-bold mb-2 text-yellow-400",children:"Team Roster Complete"}),(0,Up.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-6",children:(0,Up.jsxs)("div",{className:"bg-blue-500 h-6 rounded-full text-center text-white font-bold leading-6",style:{width:"".concat(w.homeTeamRosterPercent,"%")},children:[w.homeTeamRosterPercent,"%"]})})]})]}),(0,Up.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Up.jsx)(_,{title:"Teams Pending Weigh-In",teams:w.teamsPendingWeighIn}),(0,Up.jsx)(_,{title:"Teams Pending Roster",teams:w.teamsPendingRoster})]}),(0,Up.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Up.jsx)(k,{title:"Division I Forfeits by Team",teams:w.div1Teams,weights:w.allWeightsI}),(0,Up.jsx)(k,{title:"Division II Forfeits by Team",teams:w.div2Teams,weights:w.allWeightsII}),(0,Up.jsx)(E,{title:"Division I Overview",forfeits:w.forfeitsDiv1,farmOuts:w.farmOutsDiv1,weights:w.allWeightsI}),(0,Up.jsx)(E,{title:"Division II Overview",forfeits:w.forfeitsDiv2,farmOuts:w.farmOutsDiv2,weights:w.allWeightsII})]}),(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg border border-yellow-400 mt-8 space-y-3",children:[(0,Up.jsx)("h3",{className:"text-lg font-bold text-yellow-400",children:"Session Management"}),(0,Up.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Up.jsx)("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md",children:"Manage Division Weights"}),(0,Up.jsx)("button",{onClick:()=>x("all"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md",children:"Export All Data"}),(0,Up.jsx)("button",{onClick:()=>x("Female"),className:"bg-pink-500 hover:bg-pink-600 text-white font-semibold py-2 px-4 rounded-md",children:"Export Female Wrestlers"}),(0,Up.jsx)("button",{onClick:()=>x("MS"),className:"bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-md",children:"Export MS Wrestlers"}),(0,Up.jsx)("button",{onClick:()=>m(!0),className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md",children:"Clear All Data"})]})]}),p&&(0,Up.jsxs)(nm,{onClose:()=>m(!1),title:"Confirm Data Deletion",children:[(0,Up.jsxs)("p",{className:"text-gray-800",children:["This is irreversible. To confirm, please type ",(0,Up.jsx)("strong",{className:"font-mono bg-red-100 px-1 rounded",children:"DELETE"})," below."]}),(0,Up.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),className:"w-full p-2 border rounded-md my-4 text-black"}),(0,Up.jsx)("button",{onClick:()=>{n(),m(!1)},disabled:"DELETE"!==v,className:"w-full bg-red-600 text-white font-semibold py-2 px-4 rounded-md disabled:bg-gray-400",children:"Delete All Data"})]}),g&&(0,Up.jsx)(om,{session:f,db:i,getUserDataPath:a,onClose:()=>y(!1)})]})}function om(e){let{session:t,db:n,getUserDataPath:i,onClose:a}=e;const[o,l]=(0,r.useState)((()=>(t.customWeightsDivI||[]).map((e=>u(u({},e),{},{id:crypto.randomUUID()}))))),[c,h]=(0,r.useState)((()=>(t.customWeightsDivII||[]).map((e=>u(u({},e),{},{id:crypto.randomUUID()}))))),d=e=>{let{title:t,weights:n,setWeights:r}=e;return(0,Up.jsxs)("div",{className:"p-2 border rounded-md",children:[(0,Up.jsx)("h4",{className:"font-bold",children:t}),(0,Up.jsx)("div",{className:"space-y-2 mt-2",children:(n||[]).map((e=>(0,Up.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Up.jsx)("input",{type:"number",value:e.max,onChange:t=>{return n=e.id,i=t.target.value,void r((e=>e.map((e=>{if(e.id===n){const t=parseFloat(i);return u(u({},e),{},{max:isNaN(t)?"":t,name:isNaN(t)?"":i})}return e}))));var n,i},placeholder:"Max Wt",className:"p-1 border rounded w-full"}),(0,Up.jsx)("button",{onClick:()=>{return t=e.id,r((e=>e.filter((e=>e.id!==t))));var t},className:"text-red-500 font-bold text-2xl",children:"\xd7"})]},e.id)))}),(0,Up.jsx)("button",{onClick:()=>r((e=>[...e||[],{id:crypto.randomUUID(),name:"",max:""}])),className:"text-sm mt-2 bg-gray-200 px-2 py-1 rounded",children:"Add Custom Weight"})]})};return(0,Up.jsx)(nm,{onClose:a,title:"Manage Division Weight Classes",children:(0,Up.jsxs)("div",{className:"space-y-4 text-gray-800",children:[(0,Up.jsx)("p",{className:"text-sm text-gray-600",children:"Add custom weight classes for each division. The name will automatically be set from the max weight."}),(0,Up.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Up.jsx)(d,{title:"Division I",weights:o,setWeights:l}),(0,Up.jsx)(d,{title:"Division II",weights:c,setWeights:h})]}),(0,Up.jsx)("div",{className:"flex justify-end",children:(0,Up.jsx)("button",{onClick:async()=>{const e=Cf(n,"".concat(i(),"/sessions"),t.id),r=o.map((e=>{let{id:t}=e,n=s(e,Wp);return{name:String(n.max),max:n.max}})).filter((e=>e.max>0)),l=c.map((e=>{let{id:t}=e,n=s(e,Hp);return{name:String(n.max),max:n.max}})).filter((e=>e.max>0));await Ap(e,{customWeightsDivI:r,customWeightsDivII:l}),a()},className:"bg-green-500 text-white font-semibold py-2 px-4 rounded-md",children:"Save Changes"})})]})})}function lm(e){let{allData:t,getCollectionPath:n,showNotification:i,db:s}=e;const{homeTeams:a,wrestlers:o,loading:l}=t,[c,h]=(0,r.useState)(""),[d,f]=(0,r.useState)([]),[p,m]=(0,r.useState)("");(0,r.useEffect)((()=>{if(c){const e=o.filter((e=>e.homeTeamId===c)).map((e=>u(u({},e),{},{actualWeight:e.actualWeight||""})));f(e)}else f([])}),[c,o]);const g=async(e,t,r)=>{let a={};"isFemale"===t?a={isFemale:r,isMiddleSchool:!1}:"isMiddleSchool"===t&&(a={isMiddleSchool:r,isFemale:!1}),f((t=>t.map((t=>t.id===e?u(u({},t),a):t))));const o=n("wrestlers");if(o&&s)try{await Ap(Cf(s,o,e),a),i("Division updated.","success",1500)}catch(wm){i("Error saving: ".concat(wm.message),"error")}},y=async(e,t)=>{const r={farmOutDivision:t,status:"FarmOutAvailable",isFemale:!1,isMiddleSchool:!1};f((t=>t.map((t=>t.id===e?u(u({},t),r):t))));const a=n("wrestlers");if(a&&s)try{await Ap(Cf(s,a,e),r),i("Set as Farm-Out Div ".concat(t,"."),"success",1500)}catch(wm){i("Error saving: ".concat(wm.message),"error")}};return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,Up.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-yellow-400 mb-4",children:"Team Weigh-In"}),(0,Up.jsxs)("div",{className:"mb-4",children:[(0,Up.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Select Home Team"}),(0,Up.jsxs)("select",{value:c,onChange:e=>h(e.target.value),className:"w-full max-w-md p-2 border rounded-md bg-gray-700 border-gray-600",children:[(0,Up.jsx)("option",{value:"",children:"-- Select Team --"}),a.sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>(0,Up.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),l&&c&&(0,Up.jsx)(rm,{}),c&&!l&&(0,Up.jsxs)(Up.Fragment,{children:[(0,Up.jsxs)("div",{className:"my-4 p-3 bg-gray-700 rounded-md flex items-center gap-3",children:[(0,Up.jsx)("label",{className:"text-sm font-medium",children:"Bulk Assign Division:"}),(0,Up.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"p-1 text-sm border rounded-md bg-gray-600 border-gray-500",children:[(0,Up.jsx)("option",{value:"",children:"-- Select Action --"}),(0,Up.jsx)("option",{value:"setFemale",children:"Set as Female"}),(0,Up.jsx)("option",{value:"setMS",children:"Set as Middle School"})]}),(0,Up.jsx)("button",{onClick:async()=>{if(!p||!c)return;const e=d.filter((e=>!e.isFemale&&!e.isMiddleSchool));if(0===e.length)return void i("No wrestlers to update.","info");let t={};"setFemale"===p?t={isFemale:!0,isMiddleSchool:!1}:"setMS"===p&&(t={isMiddleSchool:!0,isFemale:!1});const r=n("wrestlers"),a=Fp(s);e.forEach((e=>{a.update(Cf(s,r,e.id),t)}));try{await a.commit(),i("Bulk update successful for ".concat(e.length," wrestlers."),"success")}catch(wm){i("Bulk update failed: ".concat(wm.message),"error")}},disabled:!p,className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-1 px-3 rounded-md text-sm disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Apply"}),(0,Up.jsx)("p",{className:"text-xs text-gray-400",children:"Applies only to wrestlers without a division."})]}),(0,Up.jsx)("div",{className:"overflow-x-auto",children:(0,Up.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Up.jsx)("thead",{className:"bg-gray-700",children:(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("th",{className:"px-2 py-3 text-left font-medium",children:"Name"}),(0,Up.jsx)("th",{className:"px-2 py-3 text-left font-medium",children:"Weight"}),(0,Up.jsx)("th",{className:"px-2 py-3 text-center font-medium",children:"Female"}),(0,Up.jsx)("th",{className:"px-2 py-3 text-center font-medium",children:"MS"}),(0,Up.jsx)("th",{className:"px-2 py-3 text-center font-medium",children:"Farm Out"})]})}),(0,Up.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:d.map((e=>(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("td",{className:"px-2 py-2",children:e.name}),(0,Up.jsx)("td",{className:"px-2 py-2",children:(0,Up.jsx)("input",{type:"number",step:"0.1",value:e.actualWeight,onChange:t=>{return n=e.id,r="actualWeight",i=t.target.value,void f((e=>e.map((e=>e.id===n?u(u({},e),{},{[r]:i}):e))));var n,r,i},onBlur:t=>(async(e,t,r)=>{const a=n("wrestlers");if(!a||!s)return;let o={[t]:r};if("actualWeight"===t){const e=parseFloat(r)||0;o.actualWeight=e,o.calculatedWeightClass=tm(e)}try{await Ap(Cf(s,a,e),o),i("Saved!","success",1500)}catch(wm){i("Error saving: ".concat(wm.message),"error")}})(e.id,"actualWeight",t.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.target.blur())},className:"w-24 p-1 border rounded-md bg-gray-700 border-gray-600"})}),(0,Up.jsx)("td",{className:"px-2 py-2 text-center",children:(0,Up.jsx)("input",{type:"checkbox",checked:e.isFemale||!1,onChange:t=>g(e.id,"isFemale",t.target.checked),className:"h-4 w-4 rounded bg-gray-600 border-gray-500"})}),(0,Up.jsx)("td",{className:"px-2 py-2 text-center",children:(0,Up.jsx)("input",{type:"checkbox",checked:e.isMiddleSchool||!1,onChange:t=>g(e.id,"isMiddleSchool",t.target.checked),className:"h-4 w-4 rounded bg-gray-600 border-gray-500"})}),(0,Up.jsxs)("td",{className:"px-2 py-2 text-center space-x-1",children:[(0,Up.jsx)("button",{onClick:()=>y(e.id,"I"),className:"text-xs px-2 py-1 rounded ".concat("I"===e.farmOutDivision?"bg-blue-500 text-white":"bg-gray-600"),children:"I"}),(0,Up.jsx)("button",{onClick:()=>y(e.id,"II"),className:"text-xs px-2 py-1 rounded ".concat("II"===e.farmOutDivision?"bg-blue-500 text-white":"bg-gray-600"),children:"II"})]})]},e.id)))})]})})]})]})}function cm(e){let{team:t,wrestlers:n,getCollectionPath:i,showNotification:s,db:a}=e;const o=(0,r.useMemo)((()=>t?n.filter((e=>e.homeTeamId===t.id&&"Unassigned"===e.status)).sort(((e,t)=>(e.actualWeight||0)-(t.actualWeight||0))):[]),[n,t]),l=async(e,t)=>{if(!e)return;const n=Cf(a,i("wrestlers"),e);try{await Ap(n,t),s("Wrestler status updated.","success",2e3)}catch(wm){s("Error updating wrestler: ".concat(wm.message),"error")}};return(0,Up.jsxs)("div",{className:"text-gray-800",children:[(0,Up.jsxs)("h4",{className:"text-lg font-medium mb-3",children:["Unassigned Wrestlers for ",t.name]}),(0,Up.jsx)("div",{className:"overflow-x-auto max-h-96",children:(0,Up.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Up.jsx)("thead",{className:"bg-gray-200 sticky top-0",children:(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("th",{className:"p-2 text-left",children:"Name"}),(0,Up.jsx)("th",{className:"p-2 text-left",children:"Actions"})]})}),(0,Up.jsx)("tbody",{className:"divide-y divide-gray-100",children:o.length>0?o.map((e=>(0,Up.jsxs)("tr",{children:[(0,Up.jsxs)("td",{className:"p-2",children:[e.name," (",e.actualWeight||"N/A"," lbs)"]}),(0,Up.jsxs)("td",{className:"p-2 flex flex-wrap gap-2",children:[(0,Up.jsx)("button",{onClick:()=>l(e.id,{status:"FarmOutAvailable",farmOutDivision:"I"}),className:"text-xs bg-purple-200 text-purple-800 px-2 py-1 rounded",children:"Farm Out (Div I)"}),(0,Up.jsx)("button",{onClick:()=>l(e.id,{status:"FarmOutAvailable",farmOutDivision:"II"}),className:"text-xs bg-purple-200 text-purple-800 px-2 py-1 rounded",children:"Farm Out (Div II)"}),(0,Up.jsx)("button",{onClick:()=>l(e.id,{isFemale:!0}),className:"text-xs bg-pink-200 text-pink-800 px-2 py-1 rounded",children:"Set Female"}),(0,Up.jsx)("button",{onClick:()=>l(e.id,{isMiddleSchool:!0}),className:"text-xs bg-indigo-200 text-indigo-800 px-2 py-1 rounded",children:"Set MS"})]})]},e.id))):(0,Up.jsx)("tr",{children:(0,Up.jsx)("td",{colSpan:"2",className:"p-4 text-center text-gray-500",children:"No unassigned wrestlers for this team."})})})]})})]})}function um(e){let{allData:t,getCollectionPath:n,showNotification:i,db:s}=e;const{homeTeams:a,wrestlers:o,loading:l}=t,[c,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),g=n("homeTeams"),y=async(e,t,n)=>{if(g&&s)try{await Ap(Cf(s,g,e),{[t]:n}),i("Status updated.","success",1500)}catch(wm){i("Error updating: ".concat(wm.message),"error")}};return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,Up.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[(0,Up.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-yellow-400",children:"Manage Home Teams"}),(0,Up.jsx)("button",{onClick:()=>{m({id:null,name:"",state:"NC"}),h(!0)},className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-4 rounded-md shadow-sm w-full sm:w-auto",children:"Add Home Team"})]}),l?(0,Up.jsx)(rm,{message:"Loading Home Teams..."}):(0,Up.jsx)("div",{className:"overflow-x-auto",children:(0,Up.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Up.jsx)("thead",{className:"bg-gray-700",children:(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("th",{className:"px-3 py-3 text-left font-medium",children:"Team Name"}),(0,Up.jsx)("th",{className:"px-3 py-3 text-center font-medium",children:"Weigh-In Done"}),(0,Up.jsx)("th",{className:"px-3 py-3 text-center font-medium",children:"Roster Done"}),(0,Up.jsx)("th",{className:"px-3 py-3 text-left font-medium",children:"Actions"})]})}),(0,Up.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:a.sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>(0,Up.jsxs)("tr",{children:[(0,Up.jsxs)("td",{className:"px-3 py-3 font-medium",children:[e.name," ",e.state&&"(".concat(e.state,")")]}),(0,Up.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Up.jsx)("input",{type:"checkbox",checked:e.weighInComplete||!1,onChange:t=>y(e.id,"weighInComplete",t.target.checked),className:"h-4 w-4 rounded bg-gray-600 border-gray-500"})}),(0,Up.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Up.jsx)("input",{type:"checkbox",checked:e.rosterComplete||!1,onChange:t=>y(e.id,"rosterComplete",t.target.checked),className:"h-4 w-4 rounded bg-gray-600 border-gray-500"})}),(0,Up.jsx)("td",{className:"px-3 py-3",children:(0,Up.jsxs)("div",{className:"space-x-2 flex-shrink-0",children:[(0,Up.jsx)("button",{onClick:()=>(e=>{m(e),f(!0)})(e),className:"text-sm bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded-md",children:"Manage"}),(0,Up.jsx)("button",{onClick:()=>(e=>{if("undefined"===typeof window.jspdf)return void i("PDF Library not loaded. Please wait and try again.","error");i("Generating Roster PDF...","success");const t=o.filter((t=>t.homeTeamId===e.id)).sort(((e,t)=>(e.actualWeight||0)-(t.actualWeight||0))).map((e=>{let t=e.status;return"Starter"===e.status?t="".concat(e.competitionTeamName," @ ").concat(e.assignedWeightClassSlot||"Starter"):"Reserve"===e.status&&(t="".concat(e.competitionTeamName," @ Reserve")),"".concat(e.name," (").concat(e.actualWeight||"N/A"," lbs): ").concat(t)})),{jsPDF:n}=window.jspdf,r=new n;r.setFont("helvetica","bold"),r.setFontSize(16),r.text(e.name,10,20),r.setFont("helvetica","normal"),r.setFontSize(12),r.text(t,10,30),r.save("".concat(e.name,"-Roster.pdf"))})(e),className:"text-sm bg-gray-500 hover:bg-gray-600 text-white py-1 px-3 rounded-md",children:"Print"}),(0,Up.jsx)("button",{onClick:()=>(e=>{m(e),h(!0)})(e),className:"text-sm bg-yellow-500 hover:bg-yellow-600 text-black py-1 px-3 rounded-md",children:"Edit"}),(0,Up.jsx)("button",{onClick:()=>(async e=>{if(g&&s&&window.confirm("Are you sure? This is irreversible."))try{await Pp(Cf(s,g,e)),i("Home team deleted.","success")}catch(wm){i("Error: ".concat(wm.message),"error")}})(e.id),className:"text-sm bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded-md",children:"Delete"})]})})]},e.id)))})]})}),c&&p&&(0,Up.jsx)(nm,{onClose:()=>h(!1),title:p.id?"Edit Home Team":"Add Home Team",children:(0,Up.jsxs)("div",{className:"space-y-4 text-black",children:[(0,Up.jsxs)("div",{children:[(0,Up.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Team Name"}),(0,Up.jsx)("input",{type:"text",value:p.name,onChange:e=>m(u(u({},p),{},{name:e.target.value})),className:"w-full p-2 border rounded-md bg-gray-100",placeholder:"e.g., Watauga High School"})]}),(0,Up.jsxs)("div",{children:[(0,Up.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,Up.jsxs)("select",{value:p.state||"",onChange:e=>m(u(u({},p),{},{state:e.target.value})),className:"w-full p-2 border rounded-md bg-white",children:[(0,Up.jsx)("option",{value:"",children:"-- Select State --"}),em.map((e=>(0,Up.jsx)("option",{value:e,children:e},e)))]})]}),(0,Up.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Up.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-md",children:"Cancel"}),(0,Up.jsx)("button",{onClick:async()=>{if(p.name.trim()&&g&&s)try{const e={name:p.name.trim(),state:p.state||""};if(p.id){const t=a.find((e=>e.id===p.id));await Np(Cf(s,g,p.id),u(u({},t),e))}else await Dp(Tf(s,g),u(u({},e),{},{weighInComplete:!1,rosterComplete:!1}));i("Home team saved.","success"),h(!1)}catch(wm){i("Error: ".concat(wm.message),"error")}},className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-md",children:"Save"})]})]})}),d&&p&&(0,Up.jsx)(nm,{onClose:()=>f(!1),title:"Manage Wrestlers for ".concat(p.name),children:(0,Up.jsx)(cm,{team:p,wrestlers:o,getCollectionPath:n,showNotification:i,db:s})})]})}function hm(e){let{allData:t,getCollectionPath:n,showNotification:i,db:a}=e;const{homeTeams:o,wrestlers:l,loading:c}=t,[h,d]=(0,r.useState)(!1),f={id:null,name:"",actualWeight:"",homeTeamId:"",status:"Unassigned",calculatedWeightClass:"",isFemale:!1,isMiddleSchool:!1,farmOutDivision:""},[p,m]=(0,r.useState)(f),[g,y]=(0,r.useState)(""),[v,b]=(0,r.useState)({name:"",homeTeamName:"",status:"",calculatedWeightClass:""}),[w,x]=(0,r.useState)({key:"name",direction:"ascending"}),S=n("wrestlers"),E=(0,r.useMemo)((()=>{let e=[...l];return e=e.filter((e=>Object.keys(v).every((t=>{var n;const r=v[t].toLowerCase();return!r||(null===(n=e[t])||void 0===n?void 0:n.toString().toLowerCase().includes(r))})))),g&&(e=e.filter((e=>e.name.toLowerCase().includes(g.toLowerCase())))),null!==w.key&&e.sort(((e,t)=>{const n=e[w.key]||"",r=t[w.key]||"";return"actualWeight"===w.key?"ascending"===w.direction?(parseFloat(n)||0)-(parseFloat(r)||0):(parseFloat(r)||0)-(parseFloat(n)||0):n<r?"ascending"===w.direction?-1:1:n>r?"ascending"===w.direction?1:-1:0})),e}),[l,g,v,w]);(0,r.useEffect)((()=>{h&&m((e=>u(u({},e),{},{calculatedWeightClass:tm(e.actualWeight)})))}),[p.actualWeight,h]),(0,r.useEffect)((()=>{"FarmOutAvailable"!==p.status&&m((e=>u(u({},e),{},{farmOutDivision:""})))}),[p.status]);const k=(e,t)=>{m("isFemale"===e&&t?e=>u(u({},e),{},{isFemale:!0,isMiddleSchool:!1}):"isMiddleSchool"===e&&t?e=>u(u({},e),{},{isMiddleSchool:!0,isFemale:!1}):n=>u(u({},n),{},{[e]:t}))},_=()=>{d(!1),m(f)},T=e=>{let t=[];return e.isFemale&&t.push({label:"Female",color:"bg-pink-100 text-pink-800"}),e.isMiddleSchool&&t.push({label:"MS",color:"bg-indigo-100 text-indigo-800"}),"FarmOutAvailable"===e.status&&e.farmOutDivision&&t.push({label:"Farm Div ".concat(e.farmOutDivision),color:"bg-blue-100 text-blue-800"}),t},C=(e,t)=>{b((n=>u(u({},n),{},{[e]:t})))},I=e=>{let{children:t,name:n}=e;const r=w.key===n?"ascending"===w.direction?"\u25b2":"\u25bc":"\u2195";return(0,Up.jsxs)("th",{onClick:()=>(e=>{let t="ascending";w.key===e&&"ascending"===w.direction&&(t="descending"),x({key:e,direction:t})})(n),className:"px-3 py-3 text-left text-xs font-medium uppercase cursor-pointer select-none",children:[t," ",(0,Up.jsx)("span",{className:"text-yellow-400",children:r})]})};return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,Up.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[(0,Up.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-yellow-400",children:"Manage Wrestlers"}),(0,Up.jsx)("input",{type:"text",placeholder:"Search wrestlers...",value:g,onChange:e=>y(e.target.value),className:"p-2 border rounded-md bg-gray-700 border-gray-600 w-full sm:w-auto"}),(0,Up.jsx)("button",{onClick:()=>{_(),d(!0)},className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-4 rounded-md shadow-sm w-full sm:w-auto",children:"Add Wrestler"})]}),c?(0,Up.jsx)(rm,{message:"Loading Wrestlers..."}):(0,Up.jsx)("div",{className:"overflow-x-auto",children:(0,Up.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,Up.jsxs)("thead",{className:"bg-gray-700",children:[(0,Up.jsxs)("tr",{children:[(0,Up.jsx)(I,{name:"name",children:"Name"}),(0,Up.jsx)(I,{name:"actualWeight",children:"Weight"}),(0,Up.jsx)(I,{name:"calculatedWeightClass",children:"Class"}),(0,Up.jsx)(I,{name:"homeTeamName",children:"Home Team"}),(0,Up.jsx)(I,{name:"status",children:"Status & Division"}),(0,Up.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase",children:"Actions"})]}),(0,Up.jsxs)("tr",{className:"bg-gray-700",children:[(0,Up.jsx)("td",{children:(0,Up.jsx)("input",{onChange:e=>C("name",e.target.value),placeholder:"Filter...",className:"w-full bg-gray-600 text-white text-xs p-1 rounded"})}),(0,Up.jsx)("td",{}),(0,Up.jsx)("td",{children:(0,Up.jsx)("input",{onChange:e=>C("calculatedWeightClass",e.target.value),placeholder:"Filter...",className:"w-full bg-gray-600 text-white text-xs p-1 rounded"})}),(0,Up.jsx)("td",{children:(0,Up.jsx)("input",{onChange:e=>C("homeTeamName",e.target.value),placeholder:"Filter...",className:"w-full bg-gray-600 text-white text-xs p-1 rounded"})}),(0,Up.jsx)("td",{children:(0,Up.jsx)("input",{onChange:e=>C("status",e.target.value),placeholder:"Filter...",className:"w-full bg-gray-600 text-white text-xs p-1 rounded"})}),(0,Up.jsx)("td",{})]})]}),(0,Up.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:E.map((e=>{const t=o.find((t=>t.id===e.homeTeamId)),n="".concat(e.homeTeamName||"N/A"," ").concat(null!==t&&void 0!==t&&t.state?"(".concat(t.state,")"):"");return(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:e.name}),(0,Up.jsx)("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:e.actualWeight||"N/A"}),(0,Up.jsx)("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:e.calculatedWeightClass}),(0,Up.jsx)("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:n}),(0,Up.jsxs)("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:[(0,Up.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Up.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Starter"===e.status?"bg-green-200 text-green-800":"Reserve"===e.status?"bg-yellow-200 text-yellow-800":"FarmOutAvailable"===e.status?"bg-blue-200 text-blue-800":"bg-gray-600 text-gray-100"),children:e.status}),T(e).map((e=>(0,Up.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.color),children:e.label},e.label)))]}),("Starter"===e.status||"Reserve"===e.status)&&e.competitionTeamName&&(0,Up.jsxs)("span",{className:"text-xs text-gray-400 block truncate max-w-[150px]",children:["(",e.competitionTeamName,"Starter"===e.status&&e.assignedWeightClassSlot?" @ ".concat(e.assignedWeightClassSlot):"",")"]})]}),(0,Up.jsxs)("td",{className:"px-3 py-3 whitespace-nowrap text-sm space-x-2",children:[(0,Up.jsx)("button",{onClick:()=>(e=>{var t;m(u(u(u({},f),e),{},{actualWeight:(null===(t=e.actualWeight)||void 0===t?void 0:t.toString())||""})),d(!0)})(e),className:"text-sm bg-yellow-500 hover:bg-yellow-600 text-black py-1 px-3 rounded-md",children:"Edit"}),(0,Up.jsx)("button",{onClick:()=>(async e=>{if(S&&a&&window.confirm("Are you sure? This is irreversible."))try{await Pp(Cf(a,S,e)),i("Wrestler deleted.","success")}catch(wm){i("Error: ".concat(wm.message),"error")}})(e.id),className:"text-sm bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded-md",children:"Delete"})]})]},e.id)}))})]})}),h&&(0,Up.jsx)(nm,{onClose:_,title:p.id?"Edit Wrestler":"Add Wrestler",children:(0,Up.jsxs)("div",{className:"space-y-4 text-black",children:[(0,Up.jsx)("input",{type:"text",value:p.name,onChange:e=>m(u(u({},p),{},{name:e.target.value})),className:"w-full p-2 border rounded-md",placeholder:"Wrestler Name"}),(0,Up.jsx)("input",{type:"number",step:"0.1",value:p.actualWeight,onChange:e=>m(u(u({},p),{},{actualWeight:e.target.value})),className:"w-full p-2 border rounded-md",placeholder:"Actual Weight (lbs)"}),p.actualWeight&&(0,Up.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Calculated Class: ",(0,Up.jsx)("span",{className:"font-semibold",children:p.calculatedWeightClass})]}),(0,Up.jsxs)("select",{value:p.homeTeamId,onChange:e=>m(u(u({},p),{},{homeTeamId:e.target.value})),className:"w-full p-2 border rounded-md bg-white",children:[(0,Up.jsx)("option",{value:"",children:"Select Home Team"}),o.map((e=>(0,Up.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,Up.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Up.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Up.jsx)("input",{type:"checkbox",checked:p.isFemale,onChange:e=>k("isFemale",e.target.checked),className:"h-4 w-4 rounded",disabled:"Starter"===p.status||"Reserve"===p.status}),(0,Up.jsx)("span",{children:"Female Division"})]}),(0,Up.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Up.jsx)("input",{type:"checkbox",checked:p.isMiddleSchool,onChange:e=>k("isMiddleSchool",e.target.checked),className:"h-4 w-4 rounded",disabled:"Starter"===p.status||"Reserve"===p.status}),(0,Up.jsx)("span",{children:"Middle School"})]})]}),(0,Up.jsxs)("div",{children:[(0,Up.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Up.jsxs)("select",{value:p.status,onChange:e=>m(u(u({},p),{},{status:e.target.value})),className:"w-full p-2 border rounded-md bg-white",disabled:p.id&&("Starter"===p.status||"Reserve"===p.status),children:[(0,Up.jsx)("option",{value:"Unassigned",children:"Unassigned"}),(0,Up.jsx)("option",{value:"FarmOutAvailable",children:"Farm Out"}),p.id&&("Starter"===p.status||"Reserve"===p.status)&&(0,Up.jsxs)("option",{value:p.status,children:[p.status," (Assigned)"]})]})]}),"FarmOutAvailable"===p.status&&(0,Up.jsxs)("div",{children:[(0,Up.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Farm Out Division (Required)"}),(0,Up.jsxs)("select",{value:p.farmOutDivision,onChange:e=>m(u(u({},p),{},{farmOutDivision:e.target.value})),className:"w-full p-2 border rounded-md bg-white",children:[(0,Up.jsx)("option",{value:"",children:"Select Division..."}),(0,Up.jsx)("option",{value:"I",children:"Division I"}),(0,Up.jsx)("option",{value:"II",children:"Division II"})]})]}),(0,Up.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,Up.jsx)("button",{onClick:_,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-md",children:"Cancel"}),(0,Up.jsx)("button",{onClick:async()=>{if(!p.name.trim()||!p.homeTeamId)return i("Name and home team are required.","error");if("FarmOutAvailable"===p.status&&!p.farmOutDivision)return i("Please select a division for the farm-out wrestler.","error");if(!S||!a)return;const{id:e}=p,t=s(p,qp),n=o.find((e=>e.id===t.homeTeamId));t.homeTeamName=(null===n||void 0===n?void 0:n.name)||"",t.actualWeight=parseFloat(t.actualWeight)||0,t.calculatedWeightClass=tm(t.actualWeight),"Starter"!==t.status&&"Reserve"!==t.status&&Object.assign(t,{competitionTeamId:null,competitionTeamName:null,assignedWeightClassSlot:null});try{e?await Np(Cf(a,S,e),t):await Dp(Tf(a,S),t),i("Wrestler saved!","success"),_()}catch(wm){i("Error: ".concat(wm.message),"error")}},className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-md",children:"Save"})]})]})})]})}function dm(e){let{allData:t,getCollectionPath:n,showNotification:i,db:a}=e;const{competitionTeams:o,homeTeams:l,wrestlers:c,loading:h,activeSession:d}=t,[f,p]=(0,r.useState)(!1),m={id:null,name:"",associatedHomeTeamId:"",division:"I",pool:"",roster:{},reserves:[]},[g,y]=(0,r.useState)(m),v=n("competitionTeams"),b=async e=>{const t=n("wrestlers");if(v&&t&&a&&window.confirm("Are you sure? This will unassign all wrestlers from this team."))try{const n=Fp(a),r=fp(Tf(a,t),function(e,t,n){const r=t,i=cp("where",e);return pp._create(i,r,n)}("competitionTeamId","==",e));(await Ip(r)).forEach((e=>{n.update(Cf(a,t,e.id),{status:"Unassigned",competitionTeamId:null,competitionTeamName:null,assignedWeightClassSlot:null})})),n.delete(Cf(a,v,e)),await n.commit(),i("Competition team and assignments cleared.","success")}catch(wm){i("Error: ".concat(wm.message),"error")}};return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,Up.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[(0,Up.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-yellow-400",children:"Manage Competition Teams"}),(0,Up.jsx)("button",{onClick:()=>{y(m),p(!0)},className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-4 rounded-md shadow-sm w-full sm:w-auto",children:"Add Competition Team"})]}),h?(0,Up.jsx)(rm,{message:"Loading Teams..."}):(0,Up.jsx)("ul",{className:"space-y-3",children:o.sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>{const t=l.find((t=>t.id===e.associatedHomeTeamId)),n=null!==t&&void 0!==t&&t.state?"(".concat(t.state,")"):"";return(0,Up.jsxs)("li",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-3 bg-gray-700 rounded-md border-gray-600 border gap-2",children:[(0,Up.jsxs)("div",{children:[(0,Up.jsxs)("span",{className:"font-semibold",children:[e.name," ",n]}),(0,Up.jsxs)("span",{className:"text-sm text-gray-400 block",children:["(Div: ",e.division,e.pool&&", Pool: ".concat(e.pool),")"]})]}),(0,Up.jsxs)("div",{className:"space-x-2 flex-shrink-0",children:[(0,Up.jsx)("button",{onClick:()=>(e=>{if("undefined"===typeof window.jspdf)return void i("PDF Library not loaded. Please wait and try again.","error");i("Generating Roster PDF...","success");const t="I"===e.division?d.customWeightsDivI||[]:d.customWeightsDivII||[],n=[...Jp,...t].sort(((e,t)=>e.max-t.max));let r=[];n.forEach((t=>{var n;const i=null===(n=e.roster)||void 0===n?void 0:n[t.name],s=i?c.find((e=>e.id===i)):null,a=s&&s.homeTeamId!==e.associatedHomeTeamId,o=s?"".concat(s.name," ").concat(a?"(".concat(s.homeTeamName,")"):""):"FORFEIT";r.push("".concat(t.name,": ").concat(o))}));const{jsPDF:s}=window.jspdf,a=new s;a.setFont("helvetica","bold"),a.setFontSize(16),a.text("".concat(e.name," (Div ").concat(e.division,")"),10,20),a.setFont("helvetica","normal"),a.setFontSize(12),a.text(r,10,30),a.save("".concat(e.name,"-Roster.pdf"))})(e),className:"text-sm bg-gray-500 hover:bg-gray-600 text-white py-1 px-3 rounded-md",children:"Print"}),(0,Up.jsx)("button",{onClick:()=>(e=>{y(u(u({},m),e)),p(!0)})(e),className:"text-sm bg-yellow-500 hover:bg-yellow-600 text-black py-1 px-3 rounded-md",children:"Edit"}),(0,Up.jsx)("button",{onClick:()=>b(e.id),className:"text-sm bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded-md",children:"Delete"})]})]},e.id)}))}),f&&(0,Up.jsx)(nm,{onClose:()=>p(!1),title:g.id?"Edit Competition Team":"Add Competition Team",children:(0,Up.jsxs)("div",{className:"space-y-4 text-black",children:[(0,Up.jsx)("input",{type:"text",value:g.name,onChange:e=>y(u(u({},g),{},{name:e.target.value})),className:"w-full p-2 border rounded-md",placeholder:"Team Name"}),(0,Up.jsxs)("select",{value:g.associatedHomeTeamId,onChange:e=>y(u(u({},g),{},{associatedHomeTeamId:e.target.value})),className:"w-full p-2 border rounded-md bg-white",children:[(0,Up.jsx)("option",{value:"",children:"Select Home Team"}),l.map((e=>(0,Up.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,Up.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Up.jsxs)("select",{value:g.division,onChange:e=>y(u(u({},g),{},{division:e.target.value})),className:"w-full p-2 border rounded-md bg-white",children:[(0,Up.jsx)("option",{value:"I",children:"Division I"}),(0,Up.jsx)("option",{value:"II",children:"Division II"})]}),(0,Up.jsxs)("select",{value:g.pool||"",onChange:e=>y(u(u({},g),{},{pool:e.target.value})),className:"w-full p-2 border rounded-md bg-white",children:[(0,Up.jsx)("option",{value:"",children:"-- No Pool --"}),(0,Up.jsx)("option",{value:"A",children:"Pool A"}),(0,Up.jsx)("option",{value:"B",children:"Pool B"}),(0,Up.jsx)("option",{value:"C",children:"Pool C"}),(0,Up.jsx)("option",{value:"D",children:"Pool D"})]})]}),(0,Up.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,Up.jsx)("button",{onClick:()=>p(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-md",children:"Cancel"}),(0,Up.jsx)("button",{onClick:async()=>{if(!g.name.trim()||!g.associatedHomeTeamId)return i("Team name and home team are required.","error");if(!v||!a)return;const e=l.find((e=>e.id===g.associatedHomeTeamId)),t=u(u({},g),{},{associatedHomeTeamName:(null===e||void 0===e?void 0:e.name)||"",roster:g.id?g.roster:{}}),{id:n}=t,r=s(t,Kp);try{n?await Np(Cf(a,v,n),r):await Dp(Tf(a,v),r),i("Competition team saved.","success"),p(!1)}catch(wm){i("Error: ".concat(wm.message),"error")}},className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-md",children:"Save"})]})]})})]})}function fm(e){let{wrestler:t,getCollectionPath:n,db:i,showNotification:s,onClose:a}=e;const[o,l]=(0,r.useState)(t.actualWeight||"");return(0,Up.jsx)(nm,{onClose:a,title:"Weigh-In: ".concat(t.name),children:(0,Up.jsxs)("div",{className:"space-y-4 text-black",children:[(0,Up.jsxs)("div",{children:[(0,Up.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Actual Weight (lbs)"}),(0,Up.jsx)("input",{type:"number",step:"0.1",value:o,onChange:e=>l(e.target.value),className:"w-full p-2 border rounded-md",autoFocus:!0})]}),(0,Up.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Up.jsx)("button",{onClick:a,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-md",children:"Cancel"}),(0,Up.jsx)("button",{onClick:async()=>{const e=n("wrestlers");if(!e||!i||!t)return;const r=parseFloat(o)||0,l={actualWeight:r,calculatedWeightClass:tm(r)};try{await Ap(Cf(i,e,t.id),l),s("".concat(t.name," weighed in."),"success"),a()}catch(wm){s("Error saving weight: ".concat(wm.message),"error")}},className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-md",children:"Save Weight"})]})]})})}function pm(e){let{allData:t,getCollectionPath:n,showNotification:i,db:s}=e;const{competitionTeams:a,wrestlers:o,loading:l,activeSession:c,homeTeams:u}=t,[h,d]=(0,r.useState)(""),f=r.useMemo((()=>a.find((e=>e.id===h))),[h,a]),p=(0,r.useMemo)((()=>f?u.find((e=>e.id===f.associatedHomeTeamId)):null),[f,u]),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)({type:"",slot:""}),[b,w]=(0,r.useState)({home:[],farm:[]}),[x,S]=(0,r.useState)("home"),[E,k]=(0,r.useState)(null),{weighedInUnassigned:_,pendingWeighIn:T}=(0,r.useMemo)((()=>{if(!f)return{weighedInUnassigned:[],pendingWeighIn:[]};const e=o.filter((e=>e.homeTeamId===f.associatedHomeTeamId&&"Unassigned"===e.status&&!e.isFemale&&!e.isMiddleSchool));return{weighedInUnassigned:e.filter((e=>e.actualWeight>0)).sort(((e,t)=>(e.actualWeight||0)-(t.actualWeight||0))),pendingWeighIn:e.filter((e=>!e.actualWeight||e.actualWeight<=0))}}),[o,f]),C=async(e,t)=>{const r=Fp(s),o=Cf(s,n("wrestlers"),e);if(r.update(o,t),"Reserve"===t.status&&h){const t=Cf(s,n("competitionTeams"),h),i=a.find((e=>e.id===h));if(i){const n=i.reserves||[];if(!n.includes(e)){const i=[...n,e];r.update(t,{reserves:i})}}}try{await r.commit(),i("Wrestler status updated.","success")}catch(wm){i("Error updating wrestler: ".concat(wm.message),"error")}},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!f||!c)return;v({type:e,slot:t}),S("home");const n=f.roster||{},r=f.reserves||[],i="I"===f.division?c.customWeightsDivI||[]:c.customWeightsDivII||[],s=[...Jp,...i].sort(((e,t)=>e.max-t.max)),a=o.filter((i=>{if(!i.actualWeight||i.actualWeight<=0)return!1;if(i.isFemale||i.isMiddleSchool)return!1;const s=Object.values(n).includes(i.id),a=r.includes(i.id);return("starter"!==e||!s||n[t]===i.id)&&("reserve"!==e||!a&&!s)})),l=n=>{if("starter"!==e||!t)return!0;const r=Math.floor(n.actualWeight),i=s.findIndex((e=>e.max>=r)),a=s.findIndex((e=>e.name===t));if(-1!==a&&-1!==i){const e=a-i;return 0===e||1===e}return!1},u=a.filter((t=>t.homeTeamId===f.associatedHomeTeamId&&("Unassigned"===t.status||"Reserve"===t.status&&t.competitionTeamId===f.id&&"starter"===e)&&l(t))),h=a.filter((e=>"FarmOutAvailable"===e.status&&e.farmOutDivision===f.division&&l(e)));w({home:u,farm:h}),g(!0)},N=async(e,t)=>{const r=n("wrestlers"),a=n("competitionTeams");if(!f||!r||!a||!s)return;const l=Fp(s),c=Cf(s,a,f.id);let u=JSON.parse(JSON.stringify(f)),h=null;var d;"starter"===e?(h=null===(d=u.roster)||void 0===d?void 0:d[t],h&&(u.roster[t]=null)):(h=t,u.reserves=(u.reserves||[]).filter((e=>e!==h)));if(!h)return;const p=o.find((e=>e.id===h));let m={status:"Unassigned",competitionTeamId:null,competitionTeamName:null,assignedWeightClassSlot:null};p&&p.homeTeamId!==f.associatedHomeTeamId?m.status="FarmOutAvailable":m.farmOutDivision="",l.update(Cf(s,r,h),m),l.set(c,u);try{await l.commit(),i("Wrestler unassigned.","success")}catch(wm){i("Error: ".concat(wm.message),"error")}},A=(0,r.useMemo)((()=>{if(!f||!c)return Jp;const e="I"===f.division?c.customWeightsDivI||[]:c.customWeightsDivII||[];return[...Jp,...e].sort(((e,t)=>e.max-t.max))}),[f,c]),P=(0,r.useMemo)((()=>{if(!f||!c)return{};const e={};return A.forEach((t=>{const n=t.name,r=o.filter((e=>{if(!e.actualWeight||e.actualWeight<=0||e.isFemale||e.isMiddleSchool)return!1;return!(Object.values(f.roster||{}).includes(e.id)&&f.roster[n]!==e.id)})),i=e=>{const t=Math.floor(e.actualWeight),r=A.findIndex((e=>e.max>=t)),i=A.findIndex((e=>e.name===n));if(-1!==i&&-1!==r){const e=i-r;return 0===e||1===e}return!1},s=r.filter((e=>e.homeTeamId===f.associatedHomeTeamId&&"Starter"!==e.status&&i(e))),a=r.filter((e=>"FarmOutAvailable"===e.status&&e.farmOutDivision===f.division&&i(e)));e[n]=s.length>0||a.length>0})),e}),[o,f,c,A]);return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,Up.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-yellow-400 mb-4",children:"Roster Builder"}),(0,Up.jsx)("div",{className:"mb-6",children:(0,Up.jsxs)("select",{value:h,onChange:e=>d(e.target.value),className:"w-full max-w-md p-2 border rounded-md shadow-sm bg-gray-700 border-gray-600",disabled:l,children:[(0,Up.jsx)("option",{value:"",children:"-- Select a Team --"}),a.filter((e=>"I"===e.division||"II"===e.division)).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>(0,Up.jsxs)("option",{value:e.id,children:[e.name," (Div: ",e.division,")"]},e.id)))]})}),E&&(0,Up.jsx)(fm,{wrestler:E,getCollectionPath:n,db:s,showNotification:i,onClose:()=>k(null)}),l?(0,Up.jsx)(rm,{}):f&&(0,Up.jsxs)("div",{children:[(0,Up.jsxs)("h3",{className:"text-xl font-semibold mb-1",children:[f.name," Roster"]}),(0,Up.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:["Home Team: ",null===p||void 0===p?void 0:p.name," ",(null===p||void 0===p?void 0:p.state)&&"(".concat(p.state,")")]}),(0,Up.jsxs)("div",{className:"mb-8",children:[(0,Up.jsx)("h4",{className:"text-lg font-medium mb-3",children:"Starters"}),(0,Up.jsx)("div",{className:"flex flex-col space-y-3",children:A.map((e=>{var t;const n=null===(t=f.roster)||void 0===t?void 0:t[e.name],r=n?o.find((e=>e.id===n)):null,i=P[e.name];return(0,Up.jsxs)("div",{className:"p-3 bg-gray-700 rounded-md border-gray-600 border flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,Up.jsxs)("p",{className:"font-semibold w-24",children:[e.name," lbs"]}),(0,Up.jsx)("div",{className:"flex-grow",children:r?(0,Up.jsxs)(Up.Fragment,{children:[(0,Up.jsx)("p",{className:"text-sm text-yellow-300 font-medium",children:r.name}),(0,Up.jsxs)("p",{className:"text-xs text-gray-400",children:["(",r.homeTeamName," - ",r.actualWeight||"N/A"," lbs)"]})]}):(0,Up.jsx)("p",{className:"text-sm text-red-400 font-medium",children:"FORFEIT"})}),(0,Up.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[r?(0,Up.jsx)("button",{onClick:()=>N("starter",e.name),className:"text-xs bg-red-200 text-red-800 py-1 px-2 rounded-md",children:"Unassign"}):(0,Up.jsx)("button",{onClick:()=>I("starter",e.name),className:"text-sm bg-green-600 hover:bg-green-700 text-white py-1 px-3 rounded-md disabled:bg-gray-500 disabled:cursor-not-allowed",disabled:!i,children:"Assign"}),!r&&!i&&(0,Up.jsx)("span",{className:"text-xs text-gray-400 ml-2",children:"No wrestlers available"})]})]},e.name)}))})]}),(0,Up.jsxs)("div",{children:[(0,Up.jsxs)("div",{className:"flex justify-between items-center mb-3 gap-2",children:[(0,Up.jsx)("h4",{className:"text-lg font-medium",children:"Reserves:"}),(0,Up.jsx)("button",{onClick:()=>I("reserve"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-1 px-3 rounded-md text-sm",children:"Add Reserve"})]}),f.reserves&&f.reserves.length>0?(0,Up.jsx)("ul",{className:"space-y-2",children:f.reserves.map((e=>{const t=o.find((t=>t.id===e));return(0,Up.jsxs)("li",{className:"p-3 bg-gray-700 rounded-md border-gray-600 border flex justify-between items-center gap-2",children:[(0,Up.jsxs)("div",{children:[(0,Up.jsx)("p",{className:"text-sm text-yellow-300 font-medium",children:(null===t||void 0===t?void 0:t.name)||"Unknown"}),t&&(0,Up.jsxs)("p",{className:"text-xs text-gray-400",children:["(",t.homeTeamName," - ",t.actualWeight||"N/A"," lbs)"]})]}),(0,Up.jsx)("button",{onClick:()=>N("reserve",e),className:"text-xs bg-red-200 text-red-800 py-1 px-2 rounded-md",children:"Remove"})]},e)}))}):(0,Up.jsx)("p",{className:"text-sm text-gray-400",children:"No reserves assigned."})]}),(0,Up.jsxs)("div",{className:"mt-8",children:[(0,Up.jsx)("h4",{className:"text-lg font-medium mb-3",children:"Available Home Team Wrestlers"}),(0,Up.jsx)("div",{className:"overflow-x-auto",children:(0,Up.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Up.jsx)("thead",{className:"bg-gray-700",children:(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("th",{className:"p-2 text-left",children:"Name"}),(0,Up.jsx)("th",{className:"p-2 text-left",children:"Actions"})]})}),(0,Up.jsx)("tbody",{className:"divide-y divide-gray-700",children:_.length>0?_.map((e=>(0,Up.jsxs)("tr",{children:[(0,Up.jsxs)("td",{className:"p-2",children:[e.name," (",e.actualWeight||"N/A"," lbs)"]}),(0,Up.jsxs)("td",{className:"p-2 flex flex-wrap gap-2",children:[(0,Up.jsx)("button",{onClick:()=>C(e.id,{status:"Reserve",competitionTeamId:f.id,competitionTeamName:f.name}),className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded",children:"Set Reserve"}),(0,Up.jsx)("button",{onClick:()=>C(e.id,{status:"FarmOutAvailable",farmOutDivision:"I"}),className:"text-xs bg-purple-200 text-purple-800 px-2 py-1 rounded",children:"Farm Out (Div I)"}),(0,Up.jsx)("button",{onClick:()=>C(e.id,{status:"FarmOutAvailable",farmOutDivision:"II"}),className:"text-xs bg-purple-200 text-purple-800 px-2 py-1 rounded",children:"Farm Out (Div II)"}),(0,Up.jsx)("button",{onClick:()=>C(e.id,{isFemale:!0}),className:"text-xs bg-pink-200 text-pink-800 px-2 py-1 rounded",children:"Set Female"}),(0,Up.jsx)("button",{onClick:()=>C(e.id,{isMiddleSchool:!0}),className:"text-xs bg-indigo-200 text-indigo-800 px-2 py-1 rounded",children:"Set MS"})]})]},e.id))):(0,Up.jsx)("tr",{children:(0,Up.jsx)("td",{colSpan:"2",className:"p-4 text-center text-gray-400",children:"No available wrestlers with a recorded weight."})})})]})})]}),(0,Up.jsxs)("div",{className:"mt-8",children:[(0,Up.jsx)("h4",{className:"text-lg font-medium mb-3 text-red-400",children:"Pending Weigh-In"}),(0,Up.jsx)("div",{className:"overflow-x-auto",children:(0,Up.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Up.jsx)("thead",{className:"bg-gray-700",children:(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("th",{className:"p-2 text-left",children:"Name"}),(0,Up.jsx)("th",{className:"p-2 text-left",children:"Actions"})]})}),(0,Up.jsx)("tbody",{className:"divide-y divide-gray-700",children:T.length>0?T.map((e=>(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("td",{className:"p-2",children:e.name}),(0,Up.jsxs)("td",{className:"p-2 flex flex-wrap gap-2",children:[(0,Up.jsx)("button",{onClick:()=>k(e),className:"text-xs bg-yellow-500 text-black px-2 py-1 rounded",children:"Weigh-In"}),(0,Up.jsx)("button",{onClick:()=>(async e=>{const t=n("wrestlers");if(t&&s&&window.confirm("Are you sure you want to permanently delete this wrestler?"))try{await Pp(Cf(s,t,e)),i("Wrestler deleted.","success")}catch(wm){i("Error deleting wrestler: ".concat(wm.message),"error")}})(e.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded",children:"Delete"})]})]},e.id))):(0,Up.jsx)("tr",{children:(0,Up.jsx)("td",{colSpan:"2",className:"p-4 text-center text-gray-400",children:"All wrestlers have been weighed in."})})})]})})]})]}),m&&f&&(0,Up.jsxs)(nm,{onClose:()=>g(!1),title:"Assign to ".concat(f.name),children:[(0,Up.jsx)("div",{className:"border-b border-gray-200",children:(0,Up.jsxs)("nav",{className:"-mb-px flex space-x-4",children:[(0,Up.jsxs)("button",{onClick:()=>S("home"),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ".concat("home"===x?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["From ",f.associatedHomeTeamName]}),(0,Up.jsx)("button",{onClick:()=>S("farm"),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ".concat("farm"===x?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Farm-Outs"})]})}),(0,Up.jsx)("ul",{className:"space-y-2 max-h-80 overflow-y-auto pt-4",children:b[x].length>0?b[x].map((e=>(0,Up.jsxs)("li",{className:"p-3 border rounded-md hover:bg-gray-100 flex justify-between items-center gap-2 text-black",children:[(0,Up.jsxs)("div",{children:[(0,Up.jsx)("span",{className:"font-medium text-sm",children:e.name}),(0,Up.jsxs)("span",{className:"text-xs text-gray-600 block",children:["(Wt: ",e.actualWeight||"N/A",", Class: ",e.calculatedWeightClass||"N/A",", From: ",e.homeTeamName,")"]})]}),(0,Up.jsx)("button",{onClick:()=>(async e=>{const t=n("wrestlers"),r=n("competitionTeams");if(!f||!t||!r||!s)return;const a=o.find((t=>t.id===e));if(!a)return;const l=Fp(s),c=Cf(s,r,f.id),u=Cf(s,t,e);let h=JSON.parse(JSON.stringify(f));h.roster=h.roster||{},h.reserves=(h.reserves||[]).filter((t=>t!==e));let d={competitionTeamId:f.id,competitionTeamName:f.name};if("starter"===y.type){const n=y.slot,r=h.roster[n];if(r){const e=o.find((e=>e.id===r));let n={status:"Unassigned",competitionTeamId:null,competitionTeamName:null,assignedWeightClassSlot:null};e&&e.homeTeamId!==h.associatedHomeTeamId&&(n.status="FarmOutAvailable"),l.update(Cf(s,t,r),n)}h.roster[n]=e,Object.assign(d,{status:"Starter",assignedWeightClassSlot:n})}else"reserve"===y.type&&(h.reserves.includes(e)||h.reserves.push(e),Object.assign(d,{status:"Reserve",assignedWeightClassSlot:null}));l.set(c,h),l.update(u,d);try{await l.commit(),i("".concat(a.name," assigned."),"success"),g(!1)}catch(wm){i("Error: ".concat(wm.message),"error")}})(e.id),className:"bg-green-500 hover:bg-green-600 text-white py-1 px-2 rounded-md text-sm flex-shrink-0",children:"Assign"})]},e.id))):(0,Up.jsx)("p",{className:"text-gray-600 p-4 text-center",children:"No eligible wrestlers found in this category."})})]})]})}function mm(e){let{allData:t,getCollectionPath:n,showNotification:i,db:s}=e;const{wrestlers:a,competitionTeams:o,activeSession:l}=t,[c,h]=(0,r.useState)("All"),[d,f]=(0,r.useState)(null),p=a.filter((e=>"FarmOutAvailable"===e.status&&e.actualWeight>0&&("All"===c||e.farmOutDivision===c))),m=(0,r.useMemo)((()=>{var e,t;if(!d||!l)return[];const n="I"===d.farmOutDivision?l.customWeightsDivI||[]:l.customWeightsDivII||[],r=[...Jp,...n].sort(((e,t)=>e.max-t.max)),i=Math.floor(d.actualWeight),s=r.findIndex((e=>e.max>=i)),a=[null===(e=r[s])||void 0===e?void 0:e.name,null===(t=r[s+1])||void 0===t?void 0:t.name].filter(Boolean);return o.filter((e=>e.division===d.farmOutDivision)).map((e=>{const t=a.filter((t=>{var n;return!(null!==(n=e.roster)&&void 0!==n&&n[t])})),n=r.reduce(((t,n)=>{var r;return t+(null!==(r=e.roster)&&void 0!==r&&r[n.name]?0:1)}),0);return u(u({},e),{},{openSlots:t,forfeitCount:n})})).filter((e=>e.openSlots.length>0)).sort(((e,t)=>t.forfeitCount-e.forfeitCount))}),[d,o,l]);return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,Up.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-yellow-400 mb-4",children:"Place Available Farm-Outs"}),(0,Up.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,Up.jsx)("button",{onClick:()=>h("All"),className:"px-3 py-1 text-sm rounded-md ".concat("All"===c?"bg-yellow-400 text-black":"bg-gray-700"),children:"All"}),(0,Up.jsx)("button",{onClick:()=>h("I"),className:"px-3 py-1 text-sm rounded-md ".concat("I"===c?"bg-yellow-400 text-black":"bg-gray-700"),children:"Division I"}),(0,Up.jsx)("button",{onClick:()=>h("II"),className:"px-3 py-1 text-sm rounded-md ".concat("II"===c?"bg-yellow-400 text-black":"bg-gray-700"),children:"Division II"})]}),(0,Up.jsx)("div",{className:"overflow-x-auto",children:(0,Up.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Up.jsx)("thead",{className:"bg-gray-700",children:(0,Up.jsxs)("tr",{children:[(0,Up.jsx)("th",{className:"p-2 text-left",children:"Wrestler"}),(0,Up.jsx)("th",{className:"p-2 text-left",children:"Actions"})]})}),(0,Up.jsxs)("tbody",{className:"divide-y divide-gray-700",children:[p.map((e=>(0,Up.jsxs)("tr",{children:[(0,Up.jsxs)("td",{className:"p-2 align-top w-1/3",children:[(0,Up.jsx)("p",{className:"font-bold",children:e.name}),(0,Up.jsxs)("p",{className:"text-xs text-gray-400",children:[e.homeTeamName," - ",e.actualWeight," lbs (Div ",e.farmOutDivision,")"]})]}),(0,Up.jsx)("td",{className:"p-2 align-top",children:(0,Up.jsx)("button",{onClick:()=>f(e),className:"bg-green-600 text-white px-3 py-1 rounded-md text-xs hover:bg-green-700",children:"Assign..."})})]},e.id))),0===p.length&&(0,Up.jsx)("tr",{children:(0,Up.jsx)("td",{colSpan:"2",className:"p-4 text-center text-gray-400",children:"No farm-outs available for this division."})})]})]})}),d&&(0,Up.jsx)(nm,{onClose:()=>f(null),title:"Place ".concat(d.name),children:(0,Up.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto border p-2 rounded-md text-black",children:m.length>0?m.map((e=>(0,Up.jsxs)("div",{className:"p-2 bg-gray-100 rounded",children:[(0,Up.jsxs)("p",{className:"font-bold",children:[e.name," ",(0,Up.jsxs)("span",{className:"font-normal text-sm text-gray-600",children:["(",e.forfeitCount," forfeits)"]})]}),(0,Up.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.openSlots.map((t=>(0,Up.jsxs)("button",{onClick:()=>(async(e,t,r)=>{const a=n("wrestlers"),l=n("competitionTeams");if(!e||!t||!r||!a||!l||!s)return;const c=o.find((e=>e.id===t));if(!c)return;const h=Fp(s),d=Cf(s,l,c.id),p=Cf(s,a,e.id);let m=u({},c.roster||{});m[r]=e.id,h.update(d,{roster:m}),h.update(p,{status:"Starter",competitionTeamId:c.id,competitionTeamName:c.name,assignedWeightClassSlot:r});try{await h.commit(),i("".concat(e.name," placed on ").concat(c.name," at ").concat(r,"."),"success"),f(null)}catch(wm){i("Error placing wrestler: ".concat(wm.message),"error")}})(d,e.id,t),className:"text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600",children:["Place at ",t]},t)))})]},e.id))):(0,Up.jsxs)("p",{className:"text-sm text-gray-500 p-2",children:["No teams with open slots for this wrestler's weight class in Division ",d.farmOutDivision,"."]})})})]})}function gm(e){let{allData:t,getCollectionPath:n,showNotification:i,db:s}=e;const{homeTeams:a}=t,[o,l]=(0,r.useState)(null),[c,h]=(0,r.useState)("wrestlers"),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),g={homeTeams:{req:"name",opt:"state"},wrestlers:{req:"name, homeTeamName",opt:"actualWeight, status, isFemale, isMiddleSchool, farmOutDivision"},competitionTeams:{req:"name, associatedHomeTeamName, division (I or II)",opt:"pool"}};return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,Up.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-yellow-400 mb-4",children:"Import Data from CSV"}),(0,Up.jsxs)("div",{className:"space-y-4",children:[(0,Up.jsxs)("div",{children:[(0,Up.jsx)("label",{className:"block text-sm font-medium mb-1",children:"1. Select Import Type"}),(0,Up.jsxs)("select",{value:c,onChange:e=>{h(e.target.value),l(null),m(null)},className:"w-full max-w-md p-2 border rounded-md bg-gray-700 border-gray-600",children:[(0,Up.jsx)("option",{value:"homeTeams",children:"Home Teams"}),(0,Up.jsx)("option",{value:"wrestlers",children:"Wrestlers"}),(0,Up.jsx)("option",{value:"competitionTeams",children:"Competition Teams"})]})]}),(0,Up.jsx)("div",{children:(0,Up.jsxs)("p",{className:"text-sm text-gray-300 bg-gray-700 p-2 rounded-md",children:[(0,Up.jsx)("span",{className:"font-semibold text-yellow-400",children:"Required Columns:"})," ",g[c].req,".",(0,Up.jsx)("br",{}),(0,Up.jsx)("span",{className:"font-semibold text-yellow-400",children:"First import Home Teams"}),", then dependent data.",(0,Up.jsx)("br",{}),(0,Up.jsx)("span",{className:"font-semibold text-yellow-400",children:"Optional:"})," ",g[c].opt||"None"]})}),(0,Up.jsxs)("div",{children:[(0,Up.jsx)("label",{className:"block text-sm font-medium mb-1",children:"2. Choose CSV File (Must have headers)"}),(0,Up.jsx)("input",{type:"file",accept:".csv",onChange:e=>{const t=e.target.files[0];l(t),t?Papa.parse(t,{preview:5,header:!0,skipEmptyLines:!0,complete:e=>m(e)}):m(null)},className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-gray-600 file:text-yellow-300 hover:file:bg-gray-500"})]}),p&&(0,Up.jsxs)("div",{className:"overflow-x-auto border border-gray-600 rounded-lg",children:[(0,Up.jsx)("h3",{className:"text-md font-semibold p-2 bg-gray-700",children:"File Preview"}),(0,Up.jsxs)("table",{className:"min-w-full text-xs",children:[(0,Up.jsx)("thead",{className:"bg-gray-600",children:(0,Up.jsx)("tr",{children:p.meta.fields.map((e=>(0,Up.jsx)("th",{className:"p-2 text-left",children:e},e)))})}),(0,Up.jsx)("tbody",{className:"divide-y divide-gray-700",children:p.data.map(((e,t)=>(0,Up.jsx)("tr",{children:p.meta.fields.map((t=>(0,Up.jsx)("td",{className:"p-2 truncate max-w-xs",children:e[t]},t)))},t)))})]})]}),(0,Up.jsx)("button",{onClick:()=>{if(!o||d||!s||"undefined"===typeof Papa)return;f(!0);const e=a.reduce(((e,t)=>(e[t.name.toLowerCase().trim()]=t.id,e)),{});Papa.parse(o,{header:!0,skipEmptyLines:!0,complete:async t=>{const r=n(c);if(!r)return f(!1),i("DB path error.","error");let o=Fp(s);const h=new Set;let d=0,p=0;for(const n of t.data){const t=Cf(Tf(s,r));let i;var g;if("homeTeams"===c&&n.name)i={name:n.name.trim(),state:(null===(g=n.state)||void 0===g?void 0:g.trim().toUpperCase())||""};else if("wrestlers"===c&&n.name&&n.homeTeamName){var y,v,b,w;const t=e[n.homeTeamName.toLowerCase().trim()];if(!t){h.add(n.homeTeamName);continue}i={name:n.name.trim(),homeTeamId:t,homeTeamName:n.homeTeamName.trim(),actualWeight:parseFloat(n.actualWeight)||0,status:(null===(y=n.status)||void 0===y?void 0:y.trim())||"Unassigned",isFemale:"true"===(null===(v=n.isFemale)||void 0===v?void 0:v.toLowerCase()),isMiddleSchool:"true"===(null===(b=n.isMiddleSchool)||void 0===b?void 0:b.toLowerCase()),farmOutDivision:(null===(w=n.farmOutDivision)||void 0===w?void 0:w.trim())||""},i.calculatedWeightClass=tm(i.actualWeight)}else{if(!("competitionTeams"===c&&n.name&&n.associatedHomeTeamName&&n.division))continue;{var x;const t=e[n.associatedHomeTeamName.toLowerCase().trim()];if(!t){h.add(n.associatedHomeTeamName);continue}i={name:n.name.trim(),associatedHomeTeamId:t,associatedHomeTeamName:n.associatedHomeTeamName.trim(),division:n.division.trim(),pool:(null===(x=n.pool)||void 0===x?void 0:x.trim().toUpperCase())||"",roster:Jp.reduce(((e,t)=>u(u({},e),{},{[t.name]:null})),{}),reserves:[]}}}o.set(t,i),d++,p++,p>400&&(await o.commit(),o=Fp(s),p=0)}try{if(p>0&&await o.commit(),h.size>0){const e=Array.from(h).join(", "),t=a.map((e=>e.name)).join(", ");0===d?i("Import failed. Could not find these teams from your file: [".concat(e,"]. Available database teams are: [").concat(t,"]. Check for typos or extra spaces."),"error",12e3):i("Import partially completed. ".concat(d," records imported. Could not find these teams: [").concat(e,"]"),"error",8e3)}else 0===d&&t.data.length>0?i("Import failed. 0 records processed. Please check your CSV headers match the required format.","error",8e3):d>0?i("Import successful! ".concat(d," records imported."),"success"):i("No data to import.","info")}catch(S){i("Import error: ".concat(S.message),"error")}f(!1),l(null),m(null)},error:e=>{i("CSV parsing error: ".concat(e.message),"error"),f(!1)}})},disabled:!o||d,className:"w-full max-w-md bg-green-600 text-white font-semibold py-2 px-4 rounded-md disabled:bg-gray-400",children:d?"Importing...":"Start Import"})]})]})}function ym(e){let{allData:t,showNotification:n}=e;const{wrestlers:r,homeTeams:i,competitionTeams:s,loading:a,activeSession:o}=t,l=async(e,t)=>{if("undefined"===typeof window.jspdf)return void n("PDF generation library not loaded yet. Please try again.","error");n("Generating PDF... please wait.","success");const{jsPDF:r}=window.jspdf,i=new r({orientation:"p",unit:"mm",format:"a4"});for(let n=0;n<t.length;n++){n>0&&i.addPage();const e=t[n];i.setFont("helvetica","bold"),i.setFontSize(16),i.text(e.title,10,20),i.setFont("helvetica","normal"),i.setFontSize(10);let r=30;for(const t of e.lines)r>280&&(i.addPage(),r=20,i.setFont("helvetica","bold"),i.setFontSize(16),i.text("".concat(e.title," (cont.)"),10,15),i.setFont("helvetica","normal"),i.setFontSize(10)),i.text(t,10,r),r+=7}i.save("".concat(e,".pdf"))};return(0,Up.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,Up.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-yellow-400 mb-4",children:"Generate & Print Reports"}),a?(0,Up.jsx)(rm,{message:"Loading report data..."}):(0,Up.jsxs)("div",{className:"space-y-3",children:[(0,Up.jsx)("button",{onClick:()=>{const e=[];[...s].sort(((e,t)=>e.name.localeCompare(t.name))).forEach((t=>{var n;const i="I"===t.division?o.customWeightsDivI||[]:o.customWeightsDivII||[],s=[...Jp,...i].sort(((e,t)=>e.max-t.max));let a=[];if(s.forEach((e=>{var n;const i=null===(n=t.roster)||void 0===n?void 0:n[e.name],s=i?r.find((e=>e.id===i)):null,o=s&&s.homeTeamId!==t.associatedHomeTeamId,l="".concat(e.name,": ").concat(s?"".concat(s.name," ").concat(o?"(".concat(s.homeTeamName,")"):""):"FORFEIT");a.push(l)})),(null===(n=t.reserves)||void 0===n?void 0:n.length)>0){a.push(""),a.push("--- Reserves ---");const e=t.reserves.map((e=>r.find((t=>t.id===e)))).filter(Boolean).reduce(((e,t)=>{const n=t.calculatedWeightClass||"N/A";return e[n]||(e[n]=[]),e[n].push(t.name),e}),{});Object.keys(e).sort().forEach((t=>{a.push("".concat(t,": ").concat(e[t].join(", ")))}))}e.push({title:"Division ".concat(t.division," - ").concat(t.name),lines:a})})),l("Competition-Team-Rosters",e)},className:"w-full text-left bg-blue-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-blue-700",children:"Competition Team Rosters"}),(0,Up.jsx)("button",{onClick:()=>{const e=[];i.sort(((e,t)=>e.name.localeCompare(t.name))).forEach((t=>{let n=[];r.filter((e=>e.homeTeamId===t.id)).sort(((e,t)=>(e.actualWeight||0)-(t.actualWeight||0))).forEach((e=>{let t=e.status;"Starter"===e.status?t="".concat(e.competitionTeamName," @ ").concat(e.assignedWeightClassSlot||"Starter"):"Reserve"===e.status&&(t="".concat(e.competitionTeamName," @ Reserve")),n.push("".concat(e.name," (").concat(e.actualWeight||"N/A"," lbs): ").concat(t))})),e.push({title:t.name,lines:n})})),l("Home-Team-Placements",e)},className:"w-full text-left bg-teal-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-teal-700",children:"Home Team Placement Lists"})]})]})}const vm=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)($p),[o,l]=(0,r.useState)("dashboard"),[c,h]=(0,r.useState)({message:"",type:""}),[d,f]=(0,r.useState)([]),[p,m]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)([]),[w,x]=(0,r.useState)([]),[S,E]=(0,r.useState)([]),[k,_]=(0,r.useState)(!0),T=(0,r.useMemo)((()=>d.find((e=>e.id===p))),[d,p]),C={wrestlers:v,homeTeams:w,competitionTeams:S,loading:k,activeSession:T};(0,r.useEffect)((()=>{[{id:"papaparse-script",src:"https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"},{id:"jspdf-script",src:"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"},{id:"html2canvas-script",src:"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"}].forEach((e=>{if(!document.getElementById(e.id)){const t=document.createElement("script");t.id=e.id,t.src=e.src,t.async=!0,document.body.appendChild(t)}}))}),[]),(0,r.useEffect)((()=>{if(s||!Yp)return void i(!0);const e=(n=async e=>{if(e)t(e.uid),i(!0);else try{await async function(e){var t;if(Ze(e.app))return Promise.reject(_t(e));const n=Dn(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new hr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ur(n,{returnSecureToken:!0}),i=await hr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(Yp)}catch(r){a("Sign-in failed: ".concat(r.message,".")),i(!0)}},r=e=>{a("Auth listener error: ".concat(e.message)),i(!0)},z(Yp).onAuthStateChanged(n,r,o));var n,r,o;return()=>e()}),[s]);const I=(0,r.useCallback)((()=>{if(!e||!Xp)return null;const t=Xp.app.options.projectId||"default-wrestling-app";return"artifacts/".concat(t,"/users/").concat(e)}),[e]);(0,r.useEffect)((()=>{const e=I();if(!e)return;const t="".concat(e,"/sessions"),n=fp(Tf(Xp,t),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cp("orderBy",e);return gp._create(n,t)}("createdAt","desc")),r=Op(n,(e=>{const t=e.docs.map((e=>u({id:e.id},e.data())));if(f(t),!p&&t.length>0)m(t[0].id);else if(p&&!t.some((e=>e.id===p))){var n;m((null===(n=t[0])||void 0===n?void 0:n.id)||null)}else 0!==t.length||g||y(!0)}),(e=>{console.error("Error fetching sessions:",e),A("Error fetching sessions.","error")}));return()=>r()}),[e,p,I,g]);const N=(0,r.useCallback)((t=>p&&e?"".concat(I(),"/sessions/").concat(p,"/").concat(t):null),[e,p,I]);(0,r.useEffect)((()=>{if(!p)return _(!1),b([]),x([]),E([]),()=>{};_(!0);const e=N("wrestlers"),t=N("homeTeams"),n=N("competitionTeams");let r=[];return e&&r.push(Op(fp(Tf(Xp,e)),(e=>b(e.docs.map((e=>u({id:e.id},e.data()))))),(e=>console.error("Wrestler snapshot error",e)))),t&&r.push(Op(fp(Tf(Xp,t)),(e=>x(e.docs.map((e=>u({id:e.id},e.data()))))),(e=>console.error("HomeTeams snapshot error",e)))),n&&r.push(Op(fp(Tf(Xp,n)),(e=>{E(e.docs.map((e=>u({id:e.id},e.data())))),_(!1)}),(e=>{console.error("CompTeams snapshot error",e),_(!1)}))),()=>{r.forEach((e=>e()))}}),[p,N]);const A=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;h({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>h({message:"",type:""})),t)},P=async()=>{if(!p)return;_(!0);const e=["wrestlers","homeTeams","competitionTeams"],t=Fp(Xp);for(const n of e){const e=N(n);if(!e)continue;(await Ip(fp(Tf(Xp,e)))).docs.forEach((e=>t.delete(e.ref)))}try{await t.commit(),A("All data for this session has been cleared.","success")}catch(wm){A("Error clearing data: ".concat(wm.message),"error")}_(!1)};return s?(0,Up.jsxs)("div",{className:"min-h-screen bg-red-100 flex flex-col justify-center items-center p-6 text-center",children:[(0,Up.jsx)("h1",{className:"text-3xl font-bold text-red-700 mb-4",children:"Application Error"}),(0,Up.jsx)("p",{className:"text-red-600 mb-2",children:"Could not initialize the application:"}),(0,Up.jsx)("p",{className:"text-sm text-red-500 bg-red-50 p-3 rounded-md shadow",children:s})]}):n&&e?(0,Up.jsxs)("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[(0,Up.jsxs)("header",{className:"bg-black text-white p-4 shadow-md flex flex-col md:flex-row justify-between items-center gap-2",children:[(0,Up.jsx)("h1",{className:"text-2xl font-bold text-center text-yellow-400",children:"High Country Wrestling Camp"}),(0,Up.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Up.jsxs)("select",{value:p||"",onChange:e=>m(e.target.value),className:"bg-gray-800 text-white p-2 rounded-md text-sm border border-yellow-400",children:[(0,Up.jsx)("option",{value:"",disabled:!0,children:"-- Select a Session --"}),d.map((e=>(0,Up.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,Up.jsx)("button",{onClick:()=>y(!0),className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-3 rounded-md text-sm",children:"Manage Sessions"})]})]}),c.message&&(0,Up.jsx)("div",{className:"p-3 text-center text-white sticky top-0 z-50 ".concat("success"===c.type?"bg-green-500":"bg-red-500"),children:c.message}),g&&(0,Up.jsx)(sm,{db:Xp,getUserDataPath:I,sessions:d,onClose:()=>y(!1),setActiveSessionId:m,showNotification:A}),!p&&!k&&(0,Up.jsx)("div",{className:"p-8 text-center text-gray-400",children:(0,Up.jsx)("p",{children:"No session selected. Please create or select a session to begin."})}),p&&(0,Up.jsxs)(Up.Fragment,{children:[(0,Up.jsx)("nav",{className:"bg-gray-800 shadow-sm p-3 mb-6 sticky top-0 z-40",children:(0,Up.jsxs)("div",{className:"container mx-auto flex flex-wrap justify-center gap-2",children:[(0,Up.jsx)(im,{label:"Dashboard",isActive:"dashboard"===o,onClick:()=>l("dashboard")}),(0,Up.jsx)(im,{label:"Weigh-In",isActive:"weighIn"===o,onClick:()=>l("weighIn")}),(0,Up.jsx)(im,{label:"Home Teams",isActive:"homeTeams"===o,onClick:()=>l("homeTeams")}),(0,Up.jsx)(im,{label:"Wrestlers",isActive:"wrestlers"===o,onClick:()=>l("wrestlers")}),(0,Up.jsx)(im,{label:"Comp Teams",isActive:"competitionTeams"===o,onClick:()=>l("competitionTeams")}),(0,Up.jsx)(im,{label:"Roster Builder",isActive:"rosterBuilder"===o,onClick:()=>l("rosterBuilder")}),(0,Up.jsx)(im,{label:"Place Farm-Outs",isActive:"placeFarmOuts"===o,onClick:()=>l("placeFarmOuts")}),(0,Up.jsx)(im,{label:"Import Data",isActive:"importer"===o,onClick:()=>l("importer")}),(0,Up.jsx)(im,{label:"Print Reports",isActive:"reports"===o,onClick:()=>l("reports")})]})}),(0,Up.jsx)("main",{className:"container mx-auto p-4",children:(()=>{if(k&&!p)return(0,Up.jsx)(rm,{message:"Loading Sessions..."});if(k)return(0,Up.jsx)(rm,{});if(!p&&d.length>0)return(0,Up.jsx)("div",{className:"p-8 text-center",children:(0,Up.jsx)("p",{children:"Please select a session to begin."})});switch(o){case"dashboard":default:return(0,Up.jsx)(am,{allData:C,handleClearAllData:P,db:Xp,getUserDataPath:I,showNotification:A});case"weighIn":return(0,Up.jsx)(lm,{allData:C,getCollectionPath:N,showNotification:A,db:Xp});case"homeTeams":return(0,Up.jsx)(um,{allData:C,getCollectionPath:N,showNotification:A,db:Xp});case"wrestlers":return(0,Up.jsx)(hm,{allData:C,getCollectionPath:N,showNotification:A,db:Xp});case"competitionTeams":return(0,Up.jsx)(dm,{allData:C,getCollectionPath:N,showNotification:A,db:Xp});case"rosterBuilder":return(0,Up.jsx)(pm,{allData:C,getCollectionPath:N,showNotification:A,db:Xp});case"placeFarmOuts":return(0,Up.jsx)(mm,{allData:C,getCollectionPath:N,showNotification:A,db:Xp});case"importer":return(0,Up.jsx)(gm,{allData:C,getCollectionPath:N,showNotification:A,db:Xp});case"reports":return(0,Up.jsx)(ym,{allData:C,showNotification:A})}})()})]}),(0,Up.jsxs)("footer",{className:"text-center text-gray-500 text-sm py-8",children:["\xa9 ",(new Date).getFullYear()," High Country Wrestling Camp"]})]}):(0,Up.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center",children:(0,Up.jsx)(rm,{message:"Authenticating..."})})},bm=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,Up.jsx)(r.StrictMode,{children:(0,Up.jsx)(vm,{})})),bm()})();
//# sourceMappingURL=main.23517de7.js.map